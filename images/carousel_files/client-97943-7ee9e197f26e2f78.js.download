"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[97943],{74890:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(36151),i=o(60484),r=o(33990);function a(e,t){return(0,r.tZ)(i.Z,{viewBox:"0 0 24 24",ref:t,...e,children:(0,r.tZ)("path",{d:"M18 7V2H6v5H1v15h22V7h-5zm-3 0H9V5h6v2z"})})}const l=n.forwardRef(a)},93618:(e,t,o)=>{o.d(t,{Z:()=>v});var n=o(25565),i=o(33073),r=o(66351),a=o(84753),l=o(26518),d=o(74890),s=o(33990);const g=(0,n.zo)("li",(e=>({backgroundColor:e.$isHighlighted?e.$theme.colors.menuFillHover:"transparent",padding:"16px 16px",display:"flex",cursor:"pointer",transition:l.pB.itemBackground,outline:"none",":hover":{background:e.$theme.colors.menuFillHover}}))),h=(0,n.zo)("div",{alignSelf:"start"}),c=(0,n.zo)("div",{minWidth:0}),u=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,color:t.colors.contentPrimary,textOverflow:"ellipsis",overflow:"hidden"}})),p=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,textOverflow:"ellipsis",overflow:"hidden"}})),y=e=>(0,s.BX)(g,{$isHighlighted:e.highlightedIndex===e.index,...e.getItemProps({index:e.index}),children:[(0,s.tZ)(h,{children:(0,s.tZ)(a.Z,{type:"Pin",background:!0})}),(0,s.tZ)(r.ZP,{$width:"8px"}),(0,s.BX)(c,{children:[(0,s.tZ)(u,{children:e.location.addressLine1}),(0,s.tZ)(p,{children:e.location.addressLine2})]})]}),m=e=>(0,s.BX)(g,{$isHighlighted:e.highlightedIndex===e.index,...e.getItemProps({index:e.index}),children:[(0,s.BX)(h,{children:["work"===e.taggedLocation.tag.toLowerCase()?(0,s.tZ)(d.Z,{}):null,"work"!==e.taggedLocation.tag.toLowerCase()?(0,s.tZ)(a.Z,{type:"home"===e.taggedLocation.tag?"Home":"Time",background:!0}):null]}),(0,s.tZ)(r.ZP,{$width:"8px"}),(0,s.BX)(c,{children:[(0,s.tZ)(u,{children:e.taggedLocation.address.address.title}),(0,s.tZ)(p,{children:e.taggedLocation.address.address.subtitle}),e.taggedLocation.interactionString&&e.taggedLocation.instructionNotes?(0,s.tZ)(p,{children:(0,s.tZ)(i.v,{id:"shared.taggedLocationInstructions",data:{interaction:e.taggedLocation.interactionString,notes:e.taggedLocation.instructionNotes}})}):(0,s.tZ)(p,{children:e.taggedLocation.interactionString||e.taggedLocation.instructionNotes})]})]}),Z=(0,n.zo)("li",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,padding:"16px"}})),S=e=>{let{getItemProps:t}=e;return(0,s.tZ)(Z,{...t({index:0}),children:(0,s.tZ)(i.v,{id:"shared.hmmCantFindThisAddress"})})},f=(0,n.zo)("ul",(e=>{let{$hasResults:t,$theme:o}=e;return{background:o.colors.menuFill,position:"absolute",top:"100%",left:0,right:0,zIndex:l.I_.foreground,boxShadow:o.shadows.box,...t?{paddingBottom:"8px"}:{}}})),v=e=>{let t=null,o=!1;return e.isOpen&&(e.showTryAgainMessage?t=(0,s.tZ)(S,{getItemProps:e.getItemProps}):(t=e.locations.map(((t,o)=>"isTaggedLocation"in t&&t.isTaggedLocation?(0,s.tZ)(m,{index:o,taggedLocation:t,getItemProps:e.getItemProps,highlightedIndex:e.highlightedIndex},o):"isTaggedLocation"in t?void 0:(0,s.tZ)(y,{index:o,location:t,getItemProps:e.getItemProps,highlightedIndex:e.highlightedIndex},o))),o=e.locations.length>0)),(0,s.tZ)(f,{...e.getMenuProps(),$hasResults:o,children:t})}},60851:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(42080),i=o(25565),r=o(93618),a=o(59092),l=o(24159),d=o(42530),s=o(42397),g=o(26518),h=o(83381),c=o(33990);const u=(0,i.zo)("label",g.E2),p=e=>{const t=(0,a.ZP)(),o=(0,s.Z)(),i=(0,n.T)(),{query:g,placeholder:p,locations:y,isLoading:m,highlightedIndex:Z,isOpen:S,showTryAgainMessage:f,openMenu:v,reset:x,getItemProps:L,getMenuProps:$,getInputProps:P,getLabelProps:b}=(0,h.Z)({onLocationSelected:e.onLocationSelected,initialQuery:e.initialQuery,id:e.id,initialIsClosed:!0});return(0,c.tZ)(d.Z,{children:(0,c.BX)("div",{ref:e.registerRef,children:[(0,c.tZ)(u,{...b(),children:i("shared.combobox.a11y_instructions")}),(0,c.tZ)(l.Z,{query:g,getInputProps:P,reset:x,placeholder:p,isLoading:m,iconType:"Pin",backgroundColor:"inputFill",onFocus:()=>{v(),t("eats:enter_delivery_address_start",{address:null==o?void 0:o.address.address1,latitude:null==o?void 0:o.latitude,longitude:null==o?void 0:o.longitude})}}),(0,c.tZ)(r.Z,{locations:y.data||[],getMenuProps:$,getItemProps:L,highlightedIndex:Z,showTryAgainMessage:f,isOpen:S})]})})}},9555:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(43193),i=o(25565),r=o(70509),a=o(62744),l=o(33990);const d=e=>({body1:{fontSize:e.typography.ParagraphXSmall.fontSize,lineHeight:e.typography.ParagraphXSmall.lineHeight},body2:{fontSize:e.typography.ParagraphSmall.fontSize,lineHeight:e.typography.ParagraphSmall.lineHeight},body3:{fontSize:e.typography.ParagraphMedium.fontSize,lineHeight:e.typography.ParagraphMedium.lineHeight},title1:{fontSize:e.typography.ParagraphLarge.fontSize,lineHeight:e.typography.ParagraphLarge.lineHeight},title2:{fontSize:e.typography.HeadingXSmall.fontSize,lineHeight:e.typography.HeadingXSmall.lineHeight},title3:{fontSize:e.typography.HeadingSmall.fontSize,lineHeight:e.typography.HeadingSmall.lineHeight},title4:{fontSize:e.typography.HeadingMedium.fontSize,lineHeight:e.typography.HeadingMedium.lineHeight},title5:{fontSize:"44px",lineHeight:"52px"},title6:{fontSize:"48px",lineHeight:"56px"}}),s=(e,t,o)=>({...t?{fontFamily:"medium"===t?e.typography.LabelMedium.fontFamily:e.typography.ParagraphMedium.fontFamily}:null,...o?d(e)[o]:null}),g=(0,i.zo)("div",{display:"table"}),h=(0,i.zo)("img",{verticalAlign:"middle"}),c=(0,i.zo)("span",(e=>{let{$color:t,$fontSize:o,$fontStyle:n,$textDecoration:i,$theme:r}=e;return{...s(r,n,o),...t?{color:t in r.colors?r.colors[t]:t}:null,...i?{textDecoration:i}:null,verticalAlign:"middle"}})),u=(0,i.zo)("a",(e=>{let{$color:t,$fontSize:o,$fontStyle:n,$theme:i}=e;return{...(0,a.lE)({$theme:i}),...s(i,n,o),verticalAlign:"middle",...t?{color:t in i.colors?i.colors[t]:t}:{}}}));function p(e){return(0,l.tZ)(l.HY,{children:e.lines.map(((t,o)=>(0,l.BX)(n.Fragment,{children:[(0,l.tZ)(g,{children:t.children.map(((e,t)=>"img"===e.type?(0,l.tZ)(h,{width:e.width,height:e.height,src:e.url},t):"text"===e.type?(0,l.tZ)(c,{...e.$as?{$as:e.$as}:null,$color:e.color,$fontStyle:e.fontStyle,$fontSize:e.fontSize,$textDecoration:e.textDecoration,children:e.text},t):"anchor"===e.type?(0,l.tZ)(u,{href:e.href,$color:e.color,$fontStyle:e.fontStyle,$fontSize:e.fontSize,children:e.text},t):null))}),"paragraph"===t.breakStyle&&o!==e.lines.length-1?(0,l.tZ)(r.ZP,{$height:16}):null,"heading"===t.breakStyle?(0,l.tZ)(r.ZP,{$height:8}):null]},o)))})}},24159:(e,t,o)=>{o.d(t,{Z:()=>S});var n=o(36151),i=o(42080),r=o(33073),a=o(25565),l=o(84753),d=o(27511),s=o(5560),g=o(66351),h=o(33990);const c=(0,a.w1)(s.U,(e=>({display:"flex",padding:"8px 16px",position:"relative",...e.$backgroundColor?{backgroundColor:e.$theme.colors[e.$backgroundColor]}:{},...e.$isFocused?{boxShadow:e.$theme.shadows.focusedInput}:{},...e.$height?{height:"".concat(e.$height,"px")}:{}}))),u=(0,a.zo)("div",(e=>{let{$shouldAnimatePin:t}=e;return{padding:"8px 0",display:"flex",flexShrink:0,alignItems:"center",...t?{animationDuration:"3s",animationDelay:"2s",animationIterationCount:"infinite",animationName:{"0%":{transform:"rotateY(0deg)"},"20%":{transform:"rotateY(360deg)"},"100%":{transform:"rotateY(360deg)"}}}:{}}})),p=(0,a.zo)("input",(e=>({flex:1,backgroundColor:e.$backgroundColor?e.$theme.colors[e.$backgroundColor]:e.$theme.colors.inputFill,...e.$width?{width:"".concat(e.$width,"px")}:{},appearance:"none",outline:"none","::placeholder":{...e.$theme.typography.LabelMedium,color:e.$theme.colors.contentTertiary}}))),y=(0,a.zo)("button",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,color:t.colors.contentTertiary,cursor:"pointer"}})),m=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{width:"1px",margin:"0 16px",backgroundColor:t.colors.borderOpaque}})),Z=(0,a.zo)(d.Z,{cursor:"pointer"}),S=e=>{const t=(0,i.T)(),[o,a]=n.useState(!1),d=n.useRef(null),{value:s,...S}=e.getInputProps({onFocus:()=>{e.onFocus&&e.onFocus(),a(!0)},onBlur:()=>a(!1),ref:d});return(0,h.BX)(c,{$backgroundColor:e.backgroundColor,$isFocused:o,$height:e.height,children:[(0,h.tZ)(u,{$shouldAnimatePin:e.shouldAnimatePin,children:(0,h.tZ)(l.Z,{type:e.isLoading?"Loading":e.iconType,ariaLabel:e.isLoading?t("loading"):void 0})}),(0,h.tZ)(g.ZP,{$width:"16px"}),(0,h.tZ)(p,{...S,value:s||"",type:"text",autoComplete:"off",name:"searchTerm",placeholder:e.placeholder,$backgroundColor:e.backgroundColor,$width:e.queryWidth}),(0,h.tZ)(g.ZP,{$width:"8px"}),e.query.length>0?(0,h.tZ)(y,{type:"button",onClick:()=>{e.reset(),d.current&&d.current.focus()},children:(0,h.tZ)(r.v,{id:"shared.clear"})}):null,e.onClose&&e.query.length>0?(0,h.tZ)(m,{}):null,e.onClose?(0,h.tZ)(Z,{onClick:e.onClose}):null]})}},42530:(e,t,o)=>{o.d(t,{Z:()=>n});const n=(0,o(25565).zo)("div",{flexDirection:"column",position:"relative",flex:1})},83381:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(36151),i=o(42080),r=o(31967),a=o(65008),l=o(46270),d=o(74056),s=o(30567);const g=e=>{const t=(0,i.T)(),{fetchLocations:o,handleLocationSelected:g,areLocationDetailsLoading:h,placeholder:c}=(0,r.Z)({onLocationSelected:e.onLocationSelected}),{user:u}=(0,d.Z)(),p=(0,l.Z)("getDeliveryLocationsV2"),y=n.useCallback((async()=>{var e;const t=await p({locationTypes:["SUGGESTED"]});return(0,s.BU)((null==t||null===(e=t.deliveryLocations)||void 0===e?void 0:e.SUGGESTED)||[])}),[p]),m=t=>t.isTaggedLocation?(e.onLocationSelected(t.address),Promise.resolve()):g(t),Z=(e,t)=>{const o=null==t?void 0:t[0];o&&m(o)},S=n.useCallback((e=>{let{results:o,query:n}=e;return 0===o.length?n?t("components.DeliveryLocationSearch.noResults"):"":n?t("components.MarketplaceSearch.resultsDescription",{numResults:o.length,searchTerm:n}):t("shared.searchResultsCount",{resultsCount:o.length})}),[]),{query:f,results:v,getLabelProps:x,getInputProps:L,getMenuProps:$,getItemProps:P,reset:b,highlightedIndex:I,isOpen:z,openMenu:k}=(0,a.Z)({id:"location-typeahead-".concat(e.id),initialQuery:e.initialQuery,fetchResults:e=>{var t;return null!==(t=u.data)&&void 0!==t&&t.isLoggedIn&&0===e.length?y():o(e)},onResultSelected:m,getQueryFromResult:e=>e?e.isTaggedLocation?e.address.address.address1:(null==e?void 0:e.addressLine1)||"":"",initialIsClosed:e.initialIsClosed,onEnterKeyWithNoSelectedResult:Z,getA11yStatusMessage:S});return{query:f,locations:v,getLabelProps:x,getInputProps:L,getMenuProps:$,getItemProps:P,reset:b,highlightedIndex:I,placeholder:c,isLoading:h||v.isLoading,showTryAgainMessage:Boolean(f&&v.hasLoaded&&v.data&&0===v.data.length),isOpen:z,openMenu:k,onSubmitWithNoSelectedResult:Z}}},31967:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(36151),i=o(42080),r=o(46270),a=o(20935),l=o(30496),d=o(74111),s=o(59092),g=o(20927);const h=e=>{let{onLocationSelected:t,overrideDiningMode:o}=e;const[h,c]=(0,n.useState)(!1),u=(0,i.T)(),p=(0,l.d)(),y=null!=o?o:p;let m;const Z=(0,s.ZP)(),S=(0,g.TH)().pathname;m=y===d.k5.DINE_IN?u("shared.enterDineInAddress"):y===d.k5.PICKUP?u("shared.enterPickupAddress"):y===d.k5.DELIVERY_API?u("shared.enterFullDeliveryAddress"):u("shared.enterDeliveryAddress");const f=(0,r.Z)("getLocationAutocompleteV1"),v=(0,r.Z)("getDeliveryLocationV1");return{fetchLocations:e=>e?f({query:e}):Promise.resolve([]),handleLocationSelected:(0,n.useCallback)((e=>(c(!0),v({placeId:e.id,provider:e.provider,source:"manual_auto_complete"}).then((e=>{c(!1),Z("eats:location_manager_typeahead_result_click",{originType:e.originType,page:S,userState:e.userState}),t(e)})).catch((e=>{e instanceof a.F||c(!1)})))),[Z,v,t,S]),areLocationDetailsLoading:h,placeholder:m}}}}]);