"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[18878],{10977:(e,t,i)=>{i.d(t,{_:()=>d,c:()=>l});var n=i(25565),r=i(24416),a=i(53881);const l=(0,n.w1)(r.Z,(e=>({padding:0,borderRadius:e.$theme.borders.radiusFull,minHeight:"auto",height:"48px",width:"48px",[a.k]:{display:"block",padding:0}}))),d=(0,n.w1)(r.Z,(e=>({padding:0,borderRadius:e.$theme.borders.radiusFull,minHeight:"auto",height:"36px",width:"36px",[a.k]:{display:"block",padding:0}})))},74334:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(36151),r=i(60484),a=i(33990);function l(e,t){return(0,a.tZ)(r.Z,{viewBox:"0 0 24 24",ref:t,...e,children:(0,a.tZ)("path",{d:"M9.4 12l7.7 10h-3.8L5.6 12l7.7-10h3.8L9.4 12z"})})}const d=n.forwardRef(l)},40427:(e,t,i)=>{i.d(t,{Ug:()=>o,bL:()=>h,rj:()=>p,wl:()=>s});var n=i(36151),r=i(25565),a=i(54088),l=i(33990);const d=(0,r.zo)("div",(e=>{let{$gridGutter:t,$gridGap:i,$wrap:n}=e;return{boxSizing:"border-box",display:"flex",flexWrap:n?"wrap":"nowrap",marginLeft:"-".concat(t/2,"px"),marginRight:"-".concat(t/2,"px"),marginBottom:"-".concat(i,"px")}})),o=12,s=24,c=24,u=n.createContext({gridColumns:o,gridGutter:s,gridGap:c}),p=(0,r.Le)(d,(e=>n.forwardRef((function(t,i){let{children:n,gridColumns:r=o,gridGutter:a=s,gridGap:d=c,wrap:p=!1,...g}=t;return(0,l.tZ)(e,{ref:i,...g,$gridGutter:a,$gridGap:d,$wrap:p,children:(0,l.tZ)(u.Provider,{value:{gridColumns:r,gridGutter:a,gridGap:d},children:n})})})))),g=(0,r.zo)("div",(e=>{let{$dir:t,$gridColumns:i,$gridGap:n,$gridGutter:r,$skip:a,$span:l}=e;const d="".concat(100/i*Math.min(a,i-1),"%");return{boxSizing:"border-box",display:"block",flex:"none",width:"".concat(100/i*Math.min(l,i),"%"),paddingLeft:"".concat(r/2,"px"),paddingRight:"".concat(r/2,"px"),marginBottom:"".concat(n,"px"),..."ltr"===t?{marginLeft:d}:{marginRight:d}}})),h=(0,r.Le)(g,(e=>n.forwardRef((function(t,i){const r=(0,a.gm)(),d=n.useContext(u),{children:o,skip:s=0,span:c=1,...p}=t;return(0,l.tZ)(e,{ref:i,...p,$dir:r,$gridColumns:d.gridColumns,$gridGap:d.gridGap,$gridGutter:d.gridGutter,$skip:s,$span:c,children:o})}))))},23217:(e,t,i)=>{i.d(t,{Z:()=>s,b:()=>d});var n=i(43193),r=i(26518),a=i(25565),l=i(33990);const d=(0,a.zo)("div",(e=>{let{$ignorePadding:t}=e;return{marginLeft:"-".concat(r.lK),marginRight:"-".concat(r.lK),...t?{}:{paddingLeft:r.lK,paddingRight:r.lK}}})),o=(0,a.zo)("div",(e=>({maxWidth:e.$maxWidth?e.$maxWidth:r.eo,minWidth:r.pA,margin:"0 auto",boxSizing:"border-box",...e.$ignorePadding?{}:{padding:"0 ".concat(r.lK)}}))),s=(0,a.Le)(o,(e=>n.forwardRef((function(t,i){return(0,l.tZ)(e,{ref:i,...t})}))))},3631:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(43193),r=i(25565),a=i(33377),l=i(40783),d=i(33990);const o=(0,r.zo)("div",(e=>{let{$shouldStartAlign:t,$shouldVerticalCenterAlign:i,$margin:n}=e;return{width:"100%",display:"flex",position:"relative",...n?{margin:"0 -".concat(n/2,"px")}:{},...t?null:{justifyContent:"center"},...i?{alignItems:"center"}:{}}}));function s(e){const{displayIndex:t,displaySlides:i,changeDisplaySlide:r,onTransitionEnd:s,useTransition:c,stopAutoScroll:u}=(0,l.Z)({slides:e.slides,pageSize:e.pageSize,autoScrollInterval:e.autoScrollInterval,onSlidesDisplayed:e.onSlidesDisplayed,initialIndex:e.initialIndex,isInfinite:e.isInfinite});if(n.useEffect((()=>{var t;e.shouldUpdateOnIndexChange&&r({index:null!==(t=e.initialIndex)&&void 0!==t?t:0,useTransition:!0})}),[e.shouldUpdateOnIndexChange,e.initialIndex,r]),0===e.slides.length)return null;if(e.slides.length<=e.pageSize)return(0,d.tZ)(o,{$shouldStartAlign:e.shouldStartAlign,$margin:e.margin,children:e.slides.map(((t,i)=>(0,d.tZ)(a.Mi,{$as:"div",$margin:e.margin,$pageSize:e.pageSize,children:e.renderSlide({slide:t,carouselSlideProps:{isDummy:!1,isVisible:!0,index:i}})},i)))});{const n=e.renderPagination,l=e.slides.length>e.pageSize;return(0,d.BX)(o,{$shouldVerticalCenterAlign:!0,children:[l&&e.renderPrevButton?e.renderPrevButton(e.isInfinite||0!==t?()=>r({index:"back"}):null):null,(0,d.tZ)(a.ZP,{displayIndex:t,displaySlides:i,renderSlide:e.renderSlide,pageSize:e.pageSize,margin:e.margin,useTransition:c,onTransitionEnd:s,overflowVisible:e.overflowVisible,onHoverStart:u}),l&&e.renderNextButton?e.renderNextButton(!e.isInfinite&&t+e.pageSize>=e.slides.length?null:()=>r({index:"forward"})):null,n&&e.slides.length>e.pageSize&&e.slides.length%e.pageSize==0?n({currentPage:Math.floor(t/e.pageSize),numPages:e.slides.length/e.pageSize,onChangePage:t=>r({index:t*e.pageSize})}):null]})}}},33377:(e,t,i)=>{i.d(t,{Mi:()=>c,ZP:()=>p,jL:()=>u});var n=i(36151),r=i(25565),a=i(54088),l=i(81814),d=i(33990);const o=(0,r.zo)("div",(e=>{let{$overflowVisible:t}=e;return{overflow:t?"visible":"hidden",width:"100%"}})),s=(0,r.zo)("ol",(e=>{let{$useTransition:t}=e;return{position:"relative",display:"flex",width:"100%",padding:0,margin:0,...t?{transition:"transform 500ms ease-in-out"}:{}}})),c=(0,r.zo)("li",(e=>{let{$margin:t,$pageSize:i}=e;const{percentage:n,pxAdjustment:r}=u(i,t);return{display:"flex",flex:"none",margin:"0 ".concat(t/2,"px"),width:"calc(".concat(n,"% + ").concat(r,"px)")}})),u=(e,t)=>({percentage:100/e,pxAdjustment:-t*(e-1)/e});function p(e){let{displayIndex:t,displaySlides:i,renderSlide:r,margin:p,pageSize:g,useTransition:h,onTransitionEnd:m,overflowVisible:Z,onHoverStart:x,onHoverEnd:f}=e;const v=(0,a.gm)(),S=(0,n.useRef)(null);(0,l.Z)(S,x,f);const y=i.findIndex((e=>{let{displayIndex:i}=e;return i===t})),I=function(e,t,i){const n=u(e,t);return{percentage:n.percentage*i,pxAdjustment:(n.pxAdjustment+t)*i}}(g,p,i.some((e=>e.isDummy))?y:Math.min(y,i.length-g)),b="ltr"===v?-1:1;return(0,d.tZ)(o,{$overflowVisible:Z,children:(0,d.tZ)(s,{$useTransition:h,style:{transform:"translateX(".concat(b*I.percentage,"%)")+" "+"translateX(".concat(b*I.pxAdjustment+b*p/2,"px)")},ref:S,onTransitionEnd:m,children:i.map((e=>{let{slide:i,displayIndex:n,isDummy:a}=e;const l=n>=t&&n<t+g;return(0,d.tZ)(c,{"aria-hidden":!!a||void 0,$pageSize:g,$margin:p,children:r({slide:i,carouselSlideProps:{isDummy:a,isVisible:l,index:n}})},n)}))})})}},58451:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(42080),r=i(25565),a=i(10977),l=i(46945),d=i(20407),o=i(74334),s=i(54088),c=i(33990);const u=(0,r.w1)(a.c,(e=>{let{$theme:t,$size:i=40,$type:n="floating"}=e;return{width:"".concat(i,"px"),height:"".concat(i,"px"),..."floating"===n?{boxShadow:t.shadows.floatingButton}:{}}})),p=(0,r.Le)(u,(e=>function(t){let{onClick:i,direction:r,size:a,disabled:u,type:p}=t;const g=(0,s.gm)(),h=(0,n.T)(),m="postmates"===(0,l.Z)()?o.Z:d.Z;let Z="backward"===r;return"rtl"===g&&(Z=!Z),(0,c.tZ)(e,{"aria-label":h("forward"===r?"shared.previous":"shared.next"),onClick:i?()=>i():void 0,disabled:u,$size:a,$type:p,children:(0,c.tZ)(m,{size:16,rotate:Z?0:180})})}))},18878:(e,t,i)=>{i.d(t,{Z:()=>ee});var n=i(36151),r=i(25565),a=i(33073),l=i(52671),d=i(74111),o=i(73235),s=i(3631),c=i(58451),u=i(70737),p=i(55900),g=i(24739),h=i(54088),m=i(26518),Z=i(40427),x=i(66351),f=i(23217),v=i(4050),S=i(27640),y=i(46945),I=i(58319),b=i(70081),$=i(58113),z=i(95257);const B=e=>{let{surface:t,initialLimit:i=o.SB}=e;const{cardLimit:n,setCardLimit:r}=(0,z.N8)();return(0,$.Z)()((()=>{if(t!==l.cx.STOREFRONT_CATALOG_ITEM&&t!==l.cx.AISLE_FEED_BILLBOARD)return;const e=()=>{b.Z&&b.Z.innerWidth>=o.aj?r(i+1):r(i)};return e(),b.Z&&b.Z.addEventListener("resize",e),()=>{b.Z&&b.Z.removeEventListener("resize",e)}}),[t,r,i]),n};var L=i(24618),E=i(26338),P=i(29778),_=i(51401),C=i(33990);const w=(0,r.zo)("div",(e=>{let{$placeLeft:t,$isHovering:i,$buttonPosition:n="-".concat(o.L/2,"px")}=e;return{zIndex:m.I_.surface,position:"absolute",top:"50%",transform:"translate(0, -50%)",opacity:i?1:0,transition:"opacity 300ms ease-in-out",...t?{left:n}:{right:n}}})),A=(0,r.zo)("div",(e=>{let{$size:t,$direction:i}=e;return{zIndex:m.I_.surface,position:"absolute",top:"".concat(-t-o.lS,"px"),..."ltr"===i?{right:"".concat(t+4,"px")}:{left:"".concat(t+4,"px")}}})),R=(0,r.zo)("div",(e=>{let{$size:t,$direction:i}=e;return{zIndex:m.I_.surface,position:"absolute",top:"".concat(-t-o.lS,"px"),..."ltr"===i?{right:0}:{left:0}}})),T=(0,r.w1)(f.b,(e=>{let{$hasButton:t}=e;return{padding:t?"24px 24px 4px 24px":"24px 40px"}})),D=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{paddingTop:t.sizing.scale800}})),k=(0,r.w1)(Z.rj,{display:"flex",alignItems:"center"}),O=(0,r.zo)("div",{position:"relative"}),M=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBoldSmall,"@media screen and (max-width: 1366px)":{...t.typography.DisplayBoldXSmall},marginBottom:"8px"}})),V=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium}})),N=e=>{let{cardCarousel:t,surface:i,isHovering:n,verticalPosition:r}=e;const f=(0,y.Z)()===I.s.postmates,b=(0,v.Z)(),$=(0,h.gm)(),z=t.template||"",{filteredItems:N,initialIndex:G,onSlidesDisplayed:U}=(0,p.Z)(t.carouselItems||[],i,z,r),F=B({surface:i}),H=(0,E.Z)(),J=(0,_._)({...P.J.feed_desktop_billboard_floaty_arrows_flag,defaultValue:!1}),X=H?m.g6:m.zV;if(!N.length)return null;const K=(0,S.N)(t),j=(0,S.f)(K),W=e=>{let{slide:t,carouselSlideProps:n}=e;return(0,C.tZ)(u.Z,{slide:t,slides:N,surface:i,template:z,verticalPosition:r,carouselSlideProps:n,eaterMessageStyles:(0,L.X4)(i,z,X)})},Y=(e,t,i)=>function(n){return n?(0,C.tZ)(w,{$isHovering:e,$placeLeft:"rtl"!==$,$buttonPosition:i?"-".concat((o.L+4)/2,"px"):void 0,children:(0,C.tZ)(c.Z,{direction:"backward",onClick:n,size:t})}):null},q=(e,t,i)=>function(n){return n?(0,C.tZ)(w,{$isHovering:e,$placeLeft:"rtl"===$,$buttonPosition:i?"-".concat((o.L+4)/2,"px"):void 0,children:(0,C.tZ)(c.Z,{direction:"forward",onClick:n,size:t})}):null},Q=e=>function(t){return(0,C.BX)(C.HY,{children:[(0,C.tZ)(c.Z,{direction:"backward",onClick:t,size:e,type:"regular"}),(0,C.tZ)(x.ZP,{$width:"4px"})]})},ee=e=>function(t){return(0,C.BX)(C.HY,{children:[(0,C.tZ)(x.ZP,{$width:"4px"}),(0,C.tZ)(c.Z,{direction:"forward",onClick:t,size:e,type:"regular"})]})};switch(i){case"promo_manager":case l.cx.PROMO_MANAGER_BOTTOM_CAROUSEL:case l.cx.CHECKOUT_PROMO_MANAGER_BOTTOM_CAROUSEL:case l.cx.PICKUP_FEED_ITEM:case l.cx.ORDER_TRACKING_FEED_ITEM:return(0,C.tZ)(g.K2,{children:(0,C.tZ)(g.qY,{$centerPadding:o.R4,children:(0,C.tZ)(s.Z,{autoScrollInterval:1===N.length?0:j,initialIndex:G,slides:N,renderSlide:W,renderPrevButton:Y(n,o.L),renderNextButton:q(n,o.L),pageSize:1,margin:o.uJ,onSlidesDisplayed:U,overflowVisible:!0})})});case l.cx.HOME_FEED_ITEM:{const e=N.length<3,i=N.length<=3?0:t.shouldAutoScroll?j||4e3:0,n=()=>{let e=(0,C.tZ)(a.v,{id:"billboard.heading"}),t=(0,C.tZ)(a.v,{id:"billboard.subheading"});return f&&(e=(0,C.tZ)(a.v,{id:"postmates.components.heading"}),t=(0,C.tZ)(a.v,{id:"postmates.components.subhead"})),(0,C.BX)(Z.bL,{span:4,children:[(0,C.tZ)(M,{children:e}),(0,C.tZ)(V,{children:t})]})};return J?(0,C.tZ)(D,{children:(0,C.BX)(k,{"data-testid":"billboard-grid",children:[e?n():null,(0,C.tZ)(Z.bL,{span:e?8:12,children:(0,C.tZ)(g.rB,{children:(0,C.tZ)(s.Z,{autoScrollInterval:i,initialIndex:G,slides:N,renderSlide:W,renderPrevButton:Y(!0,o.VJ,J),renderNextButton:q(!0,o.VJ,J),pageSize:e?2:3,margin:o.Cv,onSlidesDisplayed:U,isInfinite:!0})})})]})}):(0,C.tZ)(T,{$ignorePadding:!0,$hasButton:N.length>3,children:(0,C.BX)(k,{"data-testid":"billboard-grid",children:[e?n():null,(0,C.tZ)(Z.bL,{span:e?8:12,children:(0,C.tZ)(g.rB,{children:(0,C.tZ)(s.Z,{autoScrollInterval:i,initialIndex:G,slides:N,renderSlide:W,renderPrevButton:Q(o.VJ),renderNextButton:ee(o.VJ),pageSize:e?2:3,margin:o.pU,onSlidesDisplayed:U,isInfinite:!0})})})]})})}case l.cx.VERTICAL_FEED_BILLBOARD:{const e=N.length<3,t=t=>{if(!e||!t)return null;let i=(0,C.tZ)(a.v,{id:"billboard.verticalFeeds.header"}),n=(0,C.tZ)(a.v,{id:"billboard.verticalFeeds.subHeader"});return t===d.Cf.GROCERY&&(i=(0,C.tZ)(a.v,{id:"billboard.verticalFeeds.grocery.header"}),n=(0,C.tZ)(a.v,{id:"billboard.verticalFeeds.grocery.subHeader"})),(0,C.BX)(Z.bL,{span:4,children:[(0,C.tZ)(M,{children:i}),(0,C.tZ)(V,{children:n})]})};return(0,C.tZ)(T,{$ignorePadding:!0,$hasButton:N.length>3,children:(0,C.BX)(k,{children:[t(b),(0,C.tZ)(Z.bL,{span:e?8:12,children:(0,C.tZ)(g.rB,{children:(0,C.tZ)(s.Z,{initialIndex:G,slides:N,renderSlide:W,renderPrevButton:Q(o.VJ),renderNextButton:ee(o.VJ),pageSize:e?2:3,margin:o.pU,onSlidesDisplayed:U,isInfinite:!0})})})]})})}case l.cx.STOREFRONT_CATALOG_ITEM:{const e=e=>(0,C.tZ)(A,{$size:o.VJ,$direction:$,children:(0,C.tZ)(c.Z,{direction:"backward",onClick:e,type:"regular",size:o.VJ,disabled:!e})}),t=e=>(0,C.tZ)(R,{$size:o.VJ,$direction:$,children:(0,C.tZ)(c.Z,{direction:"forward",onClick:e,type:"regular",size:o.VJ,disabled:!e})});return(0,C.tZ)(O,{children:(0,C.tZ)(s.Z,{initialIndex:G,slides:N,renderSlide:W,renderPrevButton:e,renderNextButton:t,pageSize:F,margin:o.pU,onSlidesDisplayed:U,shouldStartAlign:!0})})}case l.cx.HOME_FEED_COLLECTION_CARD:return(0,C.tZ)(O,{children:(0,C.tZ)(s.Z,{initialIndex:G,slides:N,renderSlide:W,pageSize:1,margin:o.pU,onSlidesDisplayed:U})});case l.cx.AISLE_FEED_MANUAL_CAROUSEL:case l.cx.AISLE_FEED_BILLBOARD:return(0,C.tZ)(O,{children:(0,C.tZ)(s.Z,{initialIndex:G,slides:N,renderSlide:W,renderPrevButton:Q(o.VJ),renderNextButton:ee(o.VJ),pageSize:F,margin:o.pU,onSlidesDisplayed:U,shouldStartAlign:!0})})}return(0,C.tZ)(g.K2,{children:(0,C.tZ)(g.qY,{$centerPadding:o.R4,children:(0,C.tZ)(s.Z,{initialIndex:G,slides:N,renderSlide:W,renderPrevButton:Y(n,o.L),renderNextButton:q(n,o.L),pageSize:3,margin:o.pU,onSlidesDisplayed:U,overflowVisible:!0})})})};l.cx.HOME_FEED_ITEM,l.cx.VERTICAL_FEED_BILLBOARD,l.cx.STOREFRONT_CATALOG_ITEM,l.cx.UNKNOWN,l._u.REGULAR,l._u.SMALL,l._u.REGULAR,l._u.SMALL;var G=i(59092),U=i(56533),F=i(51991),H=i(20927),J=i(96921),X=i(69165),K=i(35486);const j=(0,r.zo)("div",(e=>{let{$color:t}=e;return{height:"58px",display:"flex",justifyContent:"center",alignItems:"center",...t?{backgroundColor:t}:{}}})),W=e=>{var t;let{campaignBanner:i}=e;const{pathname:n}=(0,H.TH)(),r=(0,K.Z)();if("/feed"!==n)return null;const{animatedBackground:a,carouselItems:l}=i,{animationUrl:d,fallbackImageUrl:o,loopAnimation:s,backgroundColor:c}=a||{animationUrl:""};return(0,C.BX)(j,{$color:r({color:c}),children:[d?(0,C.BX)(C.HY,{children:[(0,C.tZ)(X.Z,{animationUrl:d,placeholderImageUrl:o||"",loop:s||!1}),(0,C.tZ)(x.sA,{})]}):null,null!=l&&l.length?(0,C.tZ)(J.ZP,{text:null===(t=l[0])||void 0===t?void 0:t.text}):null]})};var Y=i(53854);const q=e=>{var t;let{cardItem:i,surface:r,verticalPosition:a}=e;const[l,d]=(0,n.useState)(!1),o=(0,G.ZP)(),s=i.cardItem,c=i.uuid||"",u=(null===(t=i.metadata)||void 0===t?void 0:t.trackingID)||"",p="cardItemPayload";(0,n.useEffect)((()=>{o("eats:eater_message_view",{eaterMessage:{uuid:c,verticalPosition:a,surface:r,itemType:p,trackingID:u}})}),[o,c,u,r,a]);const g=e=>{e.stopPropagation(),e.preventDefault(),d(!0),o("eats:eater_message_dismiss",{eaterMessage:{uuid:c,itemType:p,verticalPosition:a,surface:r,trackingID:u}})};switch(null==s?void 0:s.type){case"systemBanner":{var h;if(l)return null;const{systemBanner:e}=s,t=()=>(0,C.tZ)(F.Z,{dismissAction:g,systemBanner:e,systemBannerStyles:{getContentPadding:()=>({padding:"16px ".concat(m.Jy,"px")})}});return(0,C.tZ)(Y.Z,{messageKey:"system-banner",children:null!==(h=e.cta)&&void 0!==h&&h.action?(0,C.tZ)(U.ZP,{linkStyleType:U.co.BANNER,action:e.cta.action,actionTrackingID:e.cta.trackingID||"",surface:r,analytics:{uuid:c,template:"",verticalPosition:a,itemType:p,trackingID:u},children:t()}):t()})}case"campaignBanner":{var Z;const{campaignBanner:e}=s,t=()=>(0,C.tZ)(W,{campaignBanner:e});return(0,C.tZ)(Y.Z,{messageKey:"campaign-banner",children:null!==(Z=e.primaryCta)&&void 0!==Z&&Z.action?(0,C.tZ)(U.ZP,{linkStyleType:U.co.BANNER,action:e.primaryCta.action,actionTrackingID:e.primaryCta.trackingID||"",surface:r,analytics:{uuid:c,verticalPosition:a,itemType:p,trackingID:u},children:t()}):t()})}}return null};var Q=i(81814);const ee=e=>{let{eaterMessage:{payload:t,surfaceId:i},feedIndex:r=0}=e;const a=(0,n.useRef)(null),l=(0,Q.Z)(a);if(!t)return null;let d=null;switch(t.type){case"cardCarousel":d=(0,C.tZ)(z.ZP,{children:(0,C.tZ)(N,{cardCarousel:t.cardCarousel,surface:i||"",isHovering:l,verticalPosition:r})});break;case"cardItemPayload":d=(0,C.tZ)(q,{cardItem:t.cardItemPayload,surface:i||"",verticalPosition:r})}return d?(0,C.tZ)("div",{ref:a,children:d}):null}},53881:(e,t,i)=>{i.d(t,{k:()=>n});const n="@media all and (-ms-high-contrast: none), (-ms-high-contrast: active)"}}]);