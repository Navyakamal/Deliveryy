"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15751],{798939:function(n,e,t){t.d(e,{Bo:function(){return I},JQ:function(){return y},Je:function(){return f},SF:function(){return F},Wp:function(){return g},Z0:function(){return A},bJ:function(){return p},ce:function(){return b},d2:function(){return v},j9:function(){return D},kZ:function(){return O},or:function(){return T},to:function(){return S}});var i=t(604888),r=t(829615),a=t(423188),o=t(725619),l=t(430295),u=t(198165),s=t(310627);let d=n=>{var e,t,i;let r=(null!==(t=null==n?void 0:n.lineItemsList)&&void 0!==t?t:[]).find(n=>n.chargeId===o.k1.SUBTOTAL)||null;return null!==(i=null==r?void 0:null===(e=r.finalMoney)||void 0===e?void 0:e.unitAmount)&&void 0!==i?i:0},c=n=>{var e;return null!==(e=null==n?void 0:n.subtotal)&&void 0!==e?e:0},m=n=>{var e;return Array.isArray(null!==(e=null==n?void 0:n.lineItemsList)&&void 0!==e?e:null)},p=n=>{var e,t,i;let r=m(n)?d(n):c(n),a=null!==(t=null==n?void 0:null===(e=n.cateringInfo)||void 0===e?void 0:e.minOrderSize)&&void 0!==t?t:0;return null!==(i=null==n?void 0:n.isCatering)&&void 0!==i&&i&&r<a},v=n=>{var e,t,i;let r=m(n)?d(n):c(n),a=null!==(t=null==n?void 0:null===(e=n.cateringInfo)||void 0===e?void 0:e.maxOrderSize)&&void 0!==t?t:0;return null!==(i=null==n?void 0:n.isCatering)&&void 0!==i&&i&&a>0&&r>a},y=(n,e)=>{var t;return!!(e&&(null==n?void 0:n.isCatering)&&(null==n?void 0:null===(t=n.cateringInfo)||void 0===t?void 0:t.orderInAdvanceInSeconds))},g=n=>{var e;return!!((null==n?void 0:n.isCatering)&&(null==n?void 0:null===(e=n.cateringInfo)||void 0===e?void 0:e.cancelOrderInAdvanceInSeconds))},f=n=>{var e,t,i;let r=null!==(t=null==n?void 0:n.isCatering)&&void 0!==t&&t,a=null!==(i=null==n?void 0:null===(e=n.cateringInfo)||void 0===e?void 0:e.maxOrderSize)&&void 0!==i?i:0;return r&&a>0},h=(n,e,t)=>(0,i.formatMoney)({unitAmount:n,currency:e,userLocale:t,concise:!1}),C=(n,e,t)=>a.ZP.t("layoutStrings_orderCart_catering_belowMinimum",{amount:h(n,e,t)}),P=(n,e,t)=>a.ZP.t("layoutStrings_orderCart_catering_aboveMaximum",{amount:h(n,e,t)}),A=(n,e)=>{var t,i;let r=(null===(t=n.cateringInfo)||void 0===t?void 0:t.minOrderSize)||0,a=(null===(i=n.cateringInfo)||void 0===i?void 0:i.maxOrderSize)||0,o=n.currencyCode||l.EJ;return p(n)?C(r,o,e):v(n)?P(a,o,e):null},S=n=>p(n)||v(n),D=n=>{var e,t,i,r;return(null==n?void 0:n.isCatering)&&(null==n?void 0:null===(e=n.cateringInfo)||void 0===e?void 0:e.orderInAdvanceInSeconds)?{storeName:(null==n?void 0:null===(i=n.restaurant)||void 0===i?void 0:null===(t=i.business)||void 0===t?void 0:t.name)||"",numHours:Math.ceil(((null==n?void 0:null===(r=n.cateringInfo)||void 0===r?void 0:r.orderInAdvanceInSeconds)||0)/3600)}:null},I=(n,e)=>{var t;return!!((null==n?void 0:n.isCatering)&&(null==n?void 0:null===(t=n.cateringInfo)||void 0===t?void 0:t.orderInAdvanceInSeconds)&&e)},T=(n,e,t)=>a.ZP.t("layoutStrings_orderCart_catering_cartSummary_minAmount",{amount:h(n,e,t)}),b=(n,e,t)=>a.ZP.t("layoutStrings_orderCart_catering_cartSummary_maxAmount",{amount:h(n,e,t)}),O=n=>{var e;return a.ZP.t("layoutStrings_orderCart_catering_cartSummary_scheduleAhead",{numHours:Math.ceil(((null==n?void 0:null===(e=n.cateringInfo)||void 0===e?void 0:e.orderInAdvanceInSeconds)||0)/3600)})},F=(n,e,t,i)=>{var r,o;let l=R(i,null===(r=n.cateringInfo)||void 0===r?void 0:r.orderInAdvanceInSeconds,e,t);if(l)return"Edit or cancel by ".concat(l);let u=Math.ceil(((null==n?void 0:null===(o=n.cateringInfo)||void 0===o?void 0:o.cancelOrderInAdvanceInSeconds)||0)/3600);return a.ZP.t("layoutStrings_orderCart_catering_cartSummary_cancelPolicy",{numHours:u})},R=(n,e,t,i)=>{if(!t||!i||!e||t===u.mq)return null;let a=new Date(new Date(t).getTime()-e*u.s9),o=(0,s.zA)(a,{timeZone:i,month:r.IntlDateFormatOptions.NUMERIC,day:r.IntlDateFormatOptions.NUMERIC},n),l=(0,s.zA)(a,{...r.DefaultDateTimeFormat.TIME.value,timeZone:i},n);return"".concat(o," ").concat(l)}},808861:function(n,e,t){var i,r;t.d(e,{O:function(){return i}}),(r=i||(i={})).EMPTY="EMPTY",r.UNSPECIFIED="UNSPECIFIED",r.GROUP_CART_PARTICIPANT_CHECKOUT="GROUP_CART_PARTICIPANT_CHECKOUT"},40570:function(n,e,t){t.d(e,{Yy:function(){return P},RV:function(){return I},ZP:function(){return b},gH:function(){return A},Gc:function(){return T}});var i=t(29541),r=t(693981),a=t(798680),o=t(780278),l=t(963714),u=t(85948),s=t(584149),d=t(120501),c=t(894076),m=n=>{let{consumerScheduledTime:e=c.V,shouldSyncWithConsumerTime:t=!1}=n,[i,a]=r.useState(t?e:c.V),{setCheckoutQueryScheduledTime:o}=r.useContext(d.Z),l=n=>{null==o||o(n),a(n)},[u,s]=r.useState(e);return t&&e!==u&&(s(e),l(e)),{localScheduledTime:i,setLocalScheduledTime:l}},p=t(435668),v=t(609902),y={__typename:"RewardBalanceDetails",monetaryValue:{__typename:"AmountMonetaryFields",currency:"USD",displayString:"$25.00",unitAmount:2500},transactionAmount:{__typename:"RewardTransactionDetails",amount:3125,label:"points",conversionRate:80}};let g=function(n,e){var t,i;let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return v.kz;let a=r?y:null==n?void 0:n.rewardBalanceAvailable;return(0,v.VK)({cartId:n.id,storeId:null==n?void 0:null===(t=n.restaurant)||void 0===t?void 0:t.id,currency:null==a?void 0:null===(i=a.monetaryValue)||void 0===i?void 0:i.currency})};var f=n=>{let e=(0,p.KQ)(),t=(0,v.NT)(),i=e&&t,[a,o]=r.useState(()=>g(n,i));return{dashCardPoints:a,setDashCardPoints:o}},h=t(808861);let C=r.createContext({});C.displayName="FormContext";let P=C.Consumer,A=(n,e,t,i)=>{var r,a;return{country:null!==(r=null==e?void 0:e.toUpperCase())&&void 0!==r?r:l.Z8.US,currency:null!==(a=null==t?void 0:t.toLowerCase())&&void 0!==a?a:"usd",requestPayerName:!0,total:{amount:n,label:i||"doordash.com"}}},S=n=>(null==n?void 0:n.menuOptions)?JSON.stringify(n.menuOptions.map(n=>n?{id:n.id,selection:n.selection}:null).filter(n=>!!n)):null;class D extends r.Component{static getDerivedStateFromProps(n,e){var t,i;let{orderCart:r}=n,a=new s.ZP(r),o=a.isPickup(),l=a.defaultTips(),u=e.isPickupOrder!==o||0===e.tips.length?l:e.tips,d=u.map(n=>n.value),c=a.total(d),m=a.debits([0]),p=m+a.sumTips(d),v=a.hasCompanyPayment()?{isApplePayAvailable:!1}:{},y=null!==(i=null===(t=r.orderTimeAvailability)||void 0===t?void 0:t.scheduleLongerInAdvanceTime)&&void 0!==i&&i;return{...e,...v,isPickupOrder:o,tips:u,totalWithoutTipBeforeCredits:m,totalWithTipBeforeCredits:p,total:c,canScheduleLongerInAdvanceTime:y}}componentDidUpdate(n){let e=n.orderCart,t=new s.ZP(e),i=t.total([0]),{orderCart:r,consumerStripeKey:a}=this.props,l=new s.ZP(r),u=l.total([0]),d=this.state.tips.map(n=>n.value);i!==u&&this.setState({total:l.total(d)}),t.hasCompanyPayment()&&!l.hasCompanyPayment()&&this.setState({workOrderOptions:null}),!this.state.stripe&&a&&(0,o.J)(this.setStripe,a)}render(){let{defaultPaymentMethod:n,localScheduledTime:e,setLocalScheduledTime:t,dashCardPoints:r,setDashCardPoints:a,isDashCardCheckoutUpsellVisible:o,showDashCardCheckoutUpsell:l,potentialDashPassRefundAmount:u}=this.props;return(0,i.jsx)(C.Provider,{value:{...this.state,defaultPaymentMethod:n,localScheduledTime:e,setLocalScheduledTime:t,dashCardPoints:r,setDashCardPoints:a,isDashCardCheckoutUpsellVisible:o,showDashCardCheckoutUpsell:l,potentialDashPassRefundAmount:u},children:this.props.children})}constructor(n){var e,t,i,r,o,d,c,m,p;super(n),this.handleSetApplePay=n=>{this.setState({isApplePaySelected:n})},this.handleSet=(n,e)=>{let{orderCart:t}=this.props,i=new s.ZP(t);switch(n){case"tips":let r=e.tipRecipient,a=this.state.tips.findIndex(n=>n.tipRecipient===r);if(!r||-1===a)return;let o=[...this.state.tips];o[a]=e,this.setState({tips:o,total:i.total([e.value])});break;case"verifiedAgeRequirement":this.setState({verifiedAgeRequirement:e});break;case"menuOptions":this.setState({menuOptions:e});break;case"workOrderOptions":this.setState({workOrderOptions:e});break;default:this.setState({[n]:e})}},this.setStripe=n=>{this.setState({stripe:n});let e=A(this.state.total),t=null==n?void 0:n.paymentRequest(e);null==t||t.canMakePayment().then(n=>{let e=!!this.props.paymentCards.find(n=>n.isDefault),t=this.state.isDigitalWalletAllowed&&!!(null==n?void 0:n.applePay)&&this.props.checkoutMode!==h.O.GROUP_CART_PARTICIPANT_CHECKOUT;this.setState({isApplePayAvailable:t,isApplePaySelected:t&&!e,applePayLabel:(null==n?void 0:n.applePay)?"Apple Pay":"Google or Microsoft Pay"})})},this.setGiftOptions=n=>{this.setState({giftOptions:n})};let{orderCart:v,isCashTransaction:y,isDineIn:g,tableId:f}=n,C=null!==(c=null===(e=v.orderTimeAvailability)||void 0===e?void 0:e.scheduleLongerInAdvanceTime)&&void 0!==c&&c,P=new s.ZP(v),D=P.isPickup(),I=P.defaultTips(),T=I.map(n=>n.value),b=P.debits([0]),O=b+P.sumTips(T),F=P.total(T),R=null===(t=v.domain)||void 0===t?void 0:t.giftInfo,_=(null==R?void 0:R.recipientName)?(0,a.KZ)(R,!!v.isMerchantShipping):null,E=null!==(m=null===(r=v.orders)||void 0===r?void 0:null===(i=r[0])||void 0===i?void 0:i.isOrderRoutineReorderEligible)&&void 0!==m&&m;this.state={isPickupOrder:D,tips:I,giftOptions:_,totalWithoutTipBeforeCredits:b,totalWithTipBeforeCredits:O,total:F,isDigitalWalletAllowed:!1!==v.isDigitalWalletAllowed&&!y,verifiedAgeRequirement:!1,set:this.handleSet,isApplePayAvailable:!1,isApplePaySelected:!1,applePayLabel:"Apple Pay",stripe:null,setUseApplePay:this.handleSetApplePay,menuOptions:S(v),setGiftOptions:this.setGiftOptions,countryCode:(0,l.Nn)((0,u.t8)(null===(o=v.restaurant)||void 0===o?void 0:o.address)),optInSelected:!1,workOrderOptions:null,recipientShippingDetails:(0,a.E$)({orderCartCreator:null==v?void 0:v.creator,giftInfo:R}),isDineIn:g||null,tableId:f||null,membershipId:"",programId:"",canScheduleLongerInAdvanceTime:C,routineReorderDetails:null,isMerchantShipping:null!==(p=v.isMerchantShipping)&&void 0!==p&&p,storeId:(null===(d=v.restaurant)||void 0===d?void 0:d.id)||"",isOrderRoutineReorderEligible:E,hasAccessibilityRequirements:null}}}let I=n=>{let e=r.useMemo(()=>{var e;return(null!==(e=n.paymentCards)&&void 0!==e?e:[]).find(n=>n.isDefault)},[n.paymentCards]),{localScheduledTime:t,setLocalScheduledTime:a}=m({consumerScheduledTime:n.consumerScheduledTime,shouldSyncWithConsumerTime:!!n.orderCart.isCatering}),{dashCardPoints:o,setDashCardPoints:l}=f(n.orderCart),[u,s]=r.useState(!1);return(0,i.jsx)(D,{...n,defaultPaymentMethod:e,localScheduledTime:t,setLocalScheduledTime:a,dashCardPoints:o,setDashCardPoints:l,isDashCardCheckoutUpsellVisible:u,showDashCardCheckoutUpsell:s,potentialDashPassRefundAmount:n.potentialDashPassRefundAmount||0})},T=()=>r.useContext(C);var b=C},894076:function(n,e,t){t.d(e,{V:function(){return i}});let i="ASAP"},584149:function(n,e,t){t.d(e,{SM:function(){return i},ZP:function(){return d}}),t(978838);var i,r,a=t(44077),o=t.n(a),l=t(851257),u=t.n(l),s=t(725619);(r=i||(i={})).Tax="tax",r.MinOrderFee="min order fee",r.ServiceFee="service fee",r.TaxesAndFees="taxes and fees",r.Subtotal="subtotal",r.LegislativeFee="legislative fee",r.DeliveryFee="delivery fee",r.Discount="discount",r.Tip="tip",r.SnapEbt="snap_ebt";class d{isPickup(){return this.orderCartQueryResult.isConsumerPickup||!1}isPreTippable(){return this.orderCartQueryResult.isPreTippable||!1}defaultTips(){var n;return(null!==(n=this.orderCartQueryResult.tipsSuggestionsList)&&void 0!==n?n:[]).map(n=>{let e=n.tipRecipient,t=n.suggestions.find(n=>n.isDefault);return{tipRecipient:e,value:t?t.value:0}})}sumTips(n){return o()(n)}hasCompanyPayment(){var n,e,t;return!!(null===(t=this.orderCartQueryResult)||void 0===t?void 0:null===(e=t.companyPaymentInfo)||void 0===e?void 0:null===(n=e.teamOrderInfo)||void 0===n?void 0:n.budgetId)}hasExternalGiftCardApplied(){var n,e,t;return!!(null===(t=this.orderCartQueryResult)||void 0===t?void 0:null===(e=t.applicableExternalGiftCardDetails)||void 0===e?void 0:null===(n=e.externalGiftCardsList)||void 0===n?void 0:n.length)}getAllExternalGiftCardApplied(){var n,e,t;return null!==(t=null===(e=this.orderCartQueryResult)||void 0===e?void 0:null===(n=e.applicableExternalGiftCardDetails)||void 0===n?void 0:n.externalGiftCardsList)&&void 0!==t?t:[]}companyPayTotal(n){let e=o()(n);return Math.min(this.companyPayCompanyInitialAmount()+e,this.companyPayMaxBudgetAmount())}companyPayMaxBudgetAmount(){var n,e,t;return(null===(t=this.orderCartQueryResult)||void 0===t?void 0:null===(e=t.companyPaymentInfo)||void 0===e?void 0:null===(n=e.maxBudgetAmount)||void 0===n?void 0:n.unitAmount)||0}companyPayCompanyInitialAmount(){var n,e,t;return(null===(t=this.orderCartQueryResult)||void 0===t?void 0:null===(e=t.companyPaymentInfo)||void 0===e?void 0:null===(n=e.companyAmount)||void 0===n?void 0:n.unitAmount)||0}companyPayIndividualAmount(){var n,e,t;return(null===(t=this.orderCartQueryResult)||void 0===t?void 0:null===(e=t.companyPaymentInfo)||void 0===e?void 0:null===(n=e.individualAmount)||void 0===n?void 0:n.unitAmount)||0}appliedCreditsForCartWithBudget(){var n,e,t;return(null===(t=this.orderCartQueryResult)||void 0===t?void 0:null===(e=t.companyPaymentInfo)||void 0===e?void 0:null===(n=e.creditsApplied)||void 0===n?void 0:n.unitAmount)||0}appliedCredits(){return this.hasCompanyPayment()?this.appliedCreditsForCartWithBudget():this.orderCartQueryResult.creditsApplicableBeforeTip||0}companyCredits(){return 0}debits(n){return this.hasCompanyPayment()?this.total(n):this.total(n)+this.appliedCredits()}applicableCredits(n){let e=o()(n),t=this.consumerCredits()-this.appliedCredits();return this.appliedCredits()+Math.min(e,t)}subtotal(){return this.orderCartQueryResult.subtotal||0}serviceFee(){return this.orderCartQueryResult.appliedServiceFee||0}originalServiceFee(){return this.orderCartQueryResult.serviceRateDetails&&this.orderCartQueryResult.serviceRateDetails.originalFee&&this.orderCartQueryResult.serviceRateDetails.originalFee.unitAmount||0}tax(){return this.orderCartQueryResult.taxAmount||0}discount(){return Math.max(this.totalDiscount()-this.appliedCredits(),0)}totalDiscount(){return this.orderCartQueryResult.discountDetails&&this.orderCartQueryResult.discountDetails.appliedDiscount&&this.orderCartQueryResult.discountDetails.appliedDiscount.unitAmount||0}minOrderFee(){return this.orderCartQueryResult.minOrderFee||0}deliveryFee(){return this.orderCartQueryResult.deliveryFee||0}originalDeliveryFee(){return this.orderCartQueryResult.deliveryFeeDetails&&this.orderCartQueryResult.deliveryFeeDetails.originalFee&&this.orderCartQueryResult.deliveryFeeDetails.originalFee.unitAmount||0}isDeliveryFeeDiscounted(){return this.deliveryFee()<this.originalDeliveryFee()}originalTaxesAndFees(){return u()(this.taxesAndFeesLineItems(),n=>void 0!==n.originalValue?n.originalValue:n.value)}taxesAndFeesLineItems(){return[{type:"tax",value:this.tax()},{type:"min order fee",value:this.minOrderFee()},{type:"service fee",originalValue:this.originalServiceFee(),value:this.serviceFee()}]}taxesAndFees(){return u()(this.taxesAndFeesLineItems(),"value")}isTaxesAndFeesDiscounted(){return this.taxesAndFees()<this.originalTaxesAndFees()}legislativeFee(){return this.orderCartQueryResult.legislativeFeeDetails&&this.orderCartQueryResult.legislativeFeeDetails.unitAmount||0}lineItems(n){let e=n.map(n=>({type:"tip",value:n}));return[{type:"subtotal",value:this.subtotal()},{type:"legislative fee",value:this.legislativeFee()},{type:"delivery fee",originalValue:this.originalDeliveryFee(),value:this.deliveryFee()},{type:"taxes and fees",originalValue:this.originalTaxesAndFees(),value:this.taxesAndFees()},{type:"discount",value:-this.discount()},...e]}totalFromLineItems(n){return u()(this.lineItems(n),"value")}total(n){return this.hasCompanyPayment()?o()([this.appliedCreditsForCartWithBudget(),this.companyPayIndividualAmount(),this.companyPayCompanyInitialAmount(),...n]):o()([this.orderCartQueryResult.total||0,...n])}toJSON(){let n=this.defaultTips().map(n=>n.value);return{isPickup:this.isPickup(),isPreTippable:this.isPreTippable(),hasCompanyPayment:this.hasCompanyPayment(),companyPayTotal:this.companyPayTotal(n),companyPayMaxBudgetAmount:this.companyPayMaxBudgetAmount(),companyPayInitialAmount:this.companyPayCompanyInitialAmount(),defaultTips:this.defaultTips(),appliedCredits:this.appliedCredits(),consumerCredits:this.consumerCredits(),debits:this.debits(n),subtotal:this.subtotal(),serviceFee:this.serviceFee(),originalServiceFee:this.originalServiceFee(),tax:this.tax(),discount:this.discount(),totalDiscount:this.totalDiscount(),minOrderFee:this.minOrderFee(),deliveryFee:this.deliveryFee(),originalDeliveryFee:this.originalDeliveryFee(),isDeliveryFeeDiscounted:this.isDeliveryFeeDiscounted(),originalTaxesAndFees:this.originalTaxesAndFees(),taxesAndFeesLineItems:this.taxesAndFeesLineItems(),taxesAndFees:this.taxesAndFees(),isTaxesAndFeesDiscounted:this.isTaxesAndFeesDiscounted(),lineItems:this.lineItems(n),totalFromLineItems:this.totalFromLineItems(n),total:this.total(n),totalSavings:this.totalSavings()}}consumerCredits(){var n;return(null===(n=this.orderCartQueryResult.totalCreditsAvailable)||void 0===n?void 0:n.unitAmount)||0}totalSavings(){return this.orderCartQueryResult.totalSavings||0}getTotalStrikethrough(n){var e,t,i,r;let a=null!==(r=null===(i=this.orderCartQueryResult.lineItemsList)||void 0===i?void 0:null===(t=i.filter(n=>n.chargeId&&[s.k1.CASH_BACK_REWARDS_APPLIED,s.k1.CREDITS,s.k1.EXPENSED_MEAL_COMPANY_PAY].includes(n.chargeId)))||void 0===t?void 0:null===(e=t.map(n=>{var e,t;return null!==(t=null===(e=n.finalMoney)||void 0===e?void 0:e.unitAmount)&&void 0!==t?t:0}))||void 0===e?void 0:e.reduce((n,e)=>n+Math.abs(e),0))&&void 0!==r?r:0,l=o()([this.totalSavings(),-a]);return o()([n,l])}constructor(n){this.orderCartQueryResult=n}}},135188:function(n,e,t){t.d(e,{iB:function(){return T},ZP:function(){return b}});var i=t(317905),r=t(29541),a=t(62784),o=t(549685),l=t(42904),u=t(693981),s=t(793270),d=t(675131),c=t(910868),m=t(919852),p=t(748424),v=t(120501),y=t(978838),g=t.n(y),f=t(323082),h=t(461685),C=n=>{let{isSSR:e}=(0,h.bp)(),t=u.useRef(e?"cache-first":"network-only"),i=(0,f.Z)(n);return void 0===i||g()(i,n)||(t.current="network-only"),t.current},P=t(793725);function A(){let n=(0,i._)(["\n  query checkout(\n    $orderCartId: ID!\n    $corporateIndividualOrdersEnabled: Boolean\n    $includeCompanyPaymentInfo: Boolean!\n    $deliveryOptionType: DeliveryOptionType\n    $isCardPayment: Boolean\n    $programId: String\n    $isDashPassUpsellSelected: Boolean\n    $routineReorderItemIds: [String]\n    $selectedBudgetId: String\n    $scheduledTime: String\n    $supplementalPaymentDetailsList: [SupplementalPaymentDetails!]\n    $includeRewardBalanceAvailable: Boolean!\n    $deliveryOptionInfo: DeliveryOptionInfo\n    $landingPageType: LandingPageType\n  ) {\n    orderCart(\n      id: $orderCartId\n      corporateIndividualOrdersEnabled: $corporateIndividualOrdersEnabled\n      deliveryOptionType: $deliveryOptionType\n      isCardPayment: $isCardPayment\n      programId: $programId\n      isDashPassUpsellSelected: $isDashPassUpsellSelected\n      routineReorderItemIds: $routineReorderItemIds\n      selectedBudgetId: $selectedBudgetId\n      scheduledTime: $scheduledTime\n      supplementalPaymentDetailsList: $supplementalPaymentDetailsList\n      includeRewardBalanceAvailable: $includeRewardBalanceAvailable\n      deliveryOptionInfo: $deliveryOptionInfo\n      landingPageType: $landingPageType\n    ) {\n      ...CheckoutOrderCartFragment\n    }\n  }\n  ","\n"]);return A=function(){return n},n}let S=(0,l.gql)(A(),c.mC),D=n=>({query:S,options:{fetchPolicy:"network-only",...n}}),I=n=>{let{query:e,options:t}=D(n);return(0,a.a)(e,t)},T=u.createContext({orderCart:{},consumerStripeKey:"",consumerPaymentCards:[],loading:!1,isRefetching:!1,error:void 0,refetch:()=>void 0,corporateIndividualOrders:!1});T.displayName="CheckoutQueryContext";var b=n=>{var e,t,i;let{orderCartId:a,children:l,programId:c}=n,{consumer:y}=u.useContext(P.Z),{loading:g,belongToAnyTeam:f}=(0,p.jP)(),{loading:h,data:A}=(0,s.z2)(),{data:S}=(0,s.Ni)(),{selectedDeliveryOption:D,isOptedOut:b,isApplePaySelected:O,isDashPassUpsellSelected:F,routineReorderPreviewItemIds:R,expensedMealBudget:_,checkoutQueryScheduledTime:E,supplementalPaymentDetailsList:k,deliveryOptionInfo:x,landingPageType:M}=u.useContext(v.Z),L={orderCartId:a,programId:c,corporateIndividualOrdersEnabled:f&&!b,includeCompanyPaymentInfo:!b,deliveryOptionType:D,isCardPayment:(0,d.Hw)(A,O),isDashPassUpsellSelected:F,routineReorderItemIds:R,selectedBudgetId:_.manualSelectedBudgetId,scheduledTime:E,supplementalPaymentDetailsList:k,includeRewardBalanceAvailable:(0,m.IM)(A),deliveryOptionInfo:x,landingPageType:M},N=C(L),w=I({variables:L,notifyOnNetworkStatusChange:!0,fetchPolicy:N,skip:g||h}),U=w.networkStatus!==o.Ie.refetch&&w.networkStatus!==o.Ie.setVariables&&w.loading,B={orderCart:!(U||g||h)&&(null==w?void 0:null===(e=w.data)||void 0===e?void 0:e.orderCart)?w.data.orderCart:y.orderCart,consumerStripeKey:null!==(t=null==S?void 0:S.consumerStripeKey)&&void 0!==t?t:"",consumerPaymentCards:null!==(i=S.paymentCards)&&void 0!==i?i:[],refetch:w.refetch,loading:U,error:w.error,isRefetching:w.networkStatus===o.Ie.refetch||w.networkStatus===o.Ie.setVariables,corporateIndividualOrders:f};return(0,r.jsx)(T.Provider,{value:B,children:l(B)})}},120501:function(n,e,t){t.d(e,{f:function(){return u}});var i=t(29541),r=t(693981),a=t(725619),o=t(894076);let l=r.createContext({}),u=n=>{let{children:e}=n,[t,u]=r.useState(a.n5.NOT_SET),[s,d]=r.useState(void 0),[c,m]=r.useState(!1),p=r.useCallback(()=>m(!0),[m]),[v,y]=r.useState(!1),[g,f]=r.useState(!1),[h,C]=r.useState(!1),[P,A]=r.useState([]),[S,D]=r.useState([]),[I,T]=r.useState({availableBudgetAmount:0,manualSelectedBudgetId:""}),[b,O]=r.useState(o.V),[F,R]=r.useState(null);return(0,i.jsx)(l.Provider,{value:{selectedDeliveryOption:t,setSelectedDeliveryOption:u,deliveryOptionInfo:s,setDeliveryOptionInfo:d,isOptedOut:v,setIsOptedOut:y,hadUserToggledBefore:c,setUserToggled:p,isApplePaySelected:g,setIsApplePaySelected:f,isDashPassUpsellSelected:h,setIsDashPassUpsellSelected:C,routineReorderPreviewItemIds:P,setRoutineReorderPreviewItemIds:A,expensedMealBudget:I,setExpensedMealBudget:T,checkoutQueryScheduledTime:b,setCheckoutQueryScheduledTime:O,supplementalPaymentDetailsList:S,setSupplementalPaymentDetailsList:D,landingPageType:F,setLandingPageType:R},children:e})};e.Z=l},528564:function(n,e,t){t.d(e,{mo:function(){return f},ew:function(){return O},Yr:function(){return A},lH:function(){return S},QB:function(){return P},LZ:function(){return C},Z9:function(){return D},O6:function(){return E},lx:function(){return _},ib:function(){return T},tk:function(){return I},co:function(){return b},cV:function(){return R}});var i=t(829615),r=t(990617),a=t(675209),o=t(747233),l=t(60395),u=t(725619),s=t(310627),d=t(312753),c=t(423188);let m=(n,e,t)=>{let i=new Date,r=new Date(i);return r.setDate(r.getDate()+1),{isToday:p(n,i,e,t),isTomorrow:p(n,r,e,t)}},p=(n,e,t,i)=>y(n,t,i)===y(e,t,i),v=(n,e,t)=>{let i=new Date(new Date);return i.setDate(i.getDate()+7),n<i&&!p(n,i,e,t)},y=(n,e,t)=>Intl.DateTimeFormat(e,{timeZone:t}).format(n);var g=(n,e,t)=>{let r=new Date(null==t?void 0:t.timestamp),{isToday:a,isTomorrow:o}=m(r,n,e),l=v(r,n,e);if(a)return c.ZP.t("layoutStrings_timePicker_today_sentence_case");if(o)return c.ZP.t("layoutStrings_timePicker_tomorrow_sentence_case");if(l)return r.toLocaleString(n,{weekday:"long"});let u={timeZone:e,month:i.IntlDateFormatOptions.SHORT,day:i.IntlDateFormatOptions.NUMERIC};return(0,s.zA)(new Date(null==t?void 0:t.timestamp),u,n)};let f="checkout-time-panel-label",h="ddweb-track-interaction-priority-delivery-tooltip",C=n=>{let{scheduledDeliveryTime:e,locale:t,orderTimeAvailability:r,enableAwarenessFormat:a=!1}=n;if("ASAP"===e)return;let{isScheduledTimeAvailableForOrder:o,orderTime:u}=P(e,t,r);if(o&&u){let n=(0,l.EP)(null==r?void 0:r.timezone);if(a){let e=g(t,n,u);return"".concat(e,", ").concat(null==u?void 0:u.display)}let e=(0,s.zA)(new Date(null==u?void 0:u.timestamp),{timeZone:n,month:i.IntlDateFormatOptions.NUMERIC,day:i.IntlDateFormatOptions.NUMERIC},t);return"".concat(e," ").concat(null==u?void 0:u.display)}},P=(n,e,t)=>{var i;let u=(0,l.EP)(null==t?void 0:t.timezone),s=(0,r.Ex)(new Date(n),u),d=(null==t?void 0:t.days)&&(0,o.Qe)(t.days,u,e).find(n=>n.id===s),c=null==d?void 0:null===(i=d.times)||void 0===i?void 0:i.find(e=>(0,a.bE)(e,n));return{isScheduledTimeAvailableForOrder:!!((null==d?void 0:d.id)&&c),orderTime:c}},A=n=>n.isConsumerPickup?!!n.asapPickupAvailable:!!n.asapDeliveryAvailable,S=n=>{var e;let t=!!(null==n?void 0:n.isOutsideDeliveryRegion),i=(null==n?void 0:null===(e=n.orderTimeAvailability)||void 0===e?void 0:e.days)||[];return!t&&i.length>0},D=n=>{var e;let t=!!n.isConvenienceCart,i=null!==(e=n.scheduledDeliveryOptionQuoteMessage)&&void 0!==e?e:"";return t&&i?c.ZP.t("checkoutStrings_scheduleForLaterSaveLabel",{localizedDiscountAmount:i}):i},I=(n,e,t)=>t?e.deliveryOptionType===u.n5.SCHEDULE:n===e.deliveryOptionType,T=n=>null!=n.isOptionSelectable?!n.isOptionSelectable:null!=n.isAvailable&&!n.isAvailable,b=(n,e,t,i)=>n.deliveryOptionType===u.n5.SCHEDULE&&!e&&t&&!i,O=n=>(n.deliveryOptionType===u.n5.PRIORITY&&(n.tooltipText=c.ZP.t("deliveryOption_priorityTooltip")),n),F=()=>{let n=0;try{n=parseInt((0,d.XR)().get(h),10)||0}catch(e){n=0}return n},R=()=>2>F(),_=()=>{let n=F();(0,d.XR)().set(h,"".concat(n+1))},E=n=>{let e={};return n.forEach(n=>{var t,i,r;n.deliveryOptionType===u.n5.PRIORITY&&(e.priority=null!==(t=n.etaMinutesRange)&&void 0!==t?t:""),n.deliveryOptionType===u.n5.NO_RUSH&&(e["no-rush"]=null!==(i=n.etaMinutesRange)&&void 0!==i?i:""),n.deliveryOptionType===u.n5.STANDARD&&(e.standard=null!==(r=n.etaMinutesRange)&&void 0!==r?r:"")}),e}},572491:function(n,e,t){t.d(e,{$w:function(){return T},D2:function(){return I},F0:function(){return g},Fk:function(){return R},Hn:function(){return h},IC:function(){return F},SJ:function(){return O},_B:function(){return b},aU:function(){return D},bk:function(){return P},uz:function(){return C},v9:function(){return A},vi:function(){return S},yB:function(){return y}});var i,r,a=t(48903),o=t(301145),l=t(845378),u=t(725619),s=t(357747),d=t(528564),c=t(808861),m=t(293377),p=t(5559);let v="ASAP",y=n=>{let{orderCart:e,deliveryTime:t,isPickup:i,isGiftRecipientScheduling:r,isNativeGiftCardOrderCart:a,checkoutModeOptions:o,locale:l}=n;if(a||(null==e?void 0:e.fulfillmentType)===u.LK.DineIn||(null==o?void 0:o.mode)===c.O.GROUP_CART_PARTICIPANT_CHECKOUT||r&&!i||(null==e?void 0:e.isMerchantShipping)||!t||!(null==e?void 0:e.orderTimeAvailability))return!0;if(t&&t===v)return i?!!(null==e?void 0:e.asapPickupAvailable):!!(null==e?void 0:e.asapDeliveryAvailable);let{isScheduledTimeAvailableForOrder:s}=(0,d.QB)(t,l,null==e?void 0:e.orderTimeAvailability);return s},g=(n,e,t,i,r)=>(null==n?void 0:n.fulfillmentType)===u.LK.DineIn||r.mode===c.O.GROUP_CART_PARTICIPANT_CHECKOUT||!!i&&!t&&!n.isOutsideDeliveryRegion||!!n.isMerchantShipping||!e||null==n||!n.orderTimeAvailability||(e&&e===v?t?!!(null==n?void 0:n.asapPickupAvailable):!!(null==n?void 0:n.asapDeliveryAvailable):!n.isOutsideDeliveryRegion),f=(n,e,t)=>t.mode===c.O.GROUP_CART_PARTICIPANT_CHECKOUT||e||!n.isOutsideDeliveryRegion,h=(n,e)=>e.mode===c.O.GROUP_CART_PARTICIPANT_CHECKOUT&&!!n&&m.Ec.has(n.type),C=n=>{let{amountDue:e,isCashTransaction:t}=n;return e>0&&!t};(i=r||(r={})).selectedTimeNotAvailable="Selected time not available",i.notWithinRegion="Not within region",i.invalidOrderType="Invalid order type",i.invalidPayPalConstraints="Invalid Paypal constraints",i.invalidVenmoConstraints="Invalid Venmo constraints",i.invalidAfterpayConstraints="Invalid Afterpay constraints",i.invalidCashAppConstraints="Invalid CashApp constraints",i.giftingError="Meal Gifting error",i.workOrderOptionsError="Work Order Options error",i.foodAlcoholConstraintError="Food and Alcohol Constraint not met",i.cateringError="Catering error",i.addressTooFarAway="Address too far away",i.guestUser="Requires user to be signed in",i.groupCartParticipantNonCreditCardPayment="Group Cart participant requires to use credit card",i.addressNotDeliverableBlocking="We can't deliver to this address right now",i.paymentMethodUnavailable="Current payment method is unavailable because of guided recovery";let P=(n,e,t)=>{var i,r,a;let{deliveryTime:u,hasDefaultCard:d,isApplePaySelected:c,isPickupOrder:v,orderCart:C,venmoCountrySupported:P,paymentMethodRequiredForCheckout:A,giftingError:S,workOrderOptions:D,isGiftRecipientScheduling:I=!1,isCartInvalidForCateringReasons:T=!1,isPaypalAlcoholPaySupported:b=!1,isUsingAfterpay:O=!1,isAfterpayCountrySupported:F=!1,isValidAfterpayPaymentAmount:R=!0,isGuestUser:_=!1,defaultPaymentMethod:E,isAddressNotDeliverableBlocking:k=!1,isNativeGiftCardOrderCart:x=!1,isCashAppCountrySupported:M=!1,isCashAppGiftCardSupported:L=!1}=n,N=!0===C.containsAlcohol,w=y({orderCart:C,deliveryTime:u,isPickup:v,isGiftRecipientScheduling:I,checkoutModeOptions:e,isNativeGiftCardOrderCart:x,locale:t}),U=g(C,u,v,I,e),B=f(C,v,e),V=!c&&(null==E?void 0:E.type)===m.Oh.PAYPAL,q=!c&&(null==E?void 0:E.type)===m.Oh.VENMO,Z=x&&!L,Q=(null==E?void 0:E.type)===m.Oh.CASHAPP&&(!M||N||Z),G=(0,s.cs)(null!==(i=null==D?void 0:D.expenseCode)&&void 0!==i?i:"",s.uB.CODE),z=(0,s.cs)(null!==(r=null==D?void 0:D.expenseNote)&&void 0!==r?r:"",s.uB.NOTE),H=(0,s.Uw)(C,null!==(a=null==D?void 0:D.expenseCode)&&void 0!==a?a:""),$=(0,l.sx)(C),W=H&&G.isValid&&z.isValid||$,K={"Selected time not available":!w,"Not within region":!B,"Invalid order type":!(!A||d||c),"Invalid Paypal constraints":!(!V||b||!N),"Invalid Venmo constraints":!(!q||!N&&P),"Meal Gifting error":!!S,"Work Order Options error":!W,"Food and Alcohol Constraint not met":!(0,o.V)(C.foodAlcoholConstraintCartLevel),"Catering error":T,"Invalid Afterpay constraints":!(!O||F&&!N&&R),"Invalid CashApp constraints":Q,"Address too far away":!U,"Requires user to be signed in":_,"Group Cart participant requires to use credit card":h(E,e),"We can't deliver to this address right now":k,"Current payment method is unavailable because of guided recovery":(0,p.eo)(E)};return Object.keys(K).filter(n=>K[n])},A=n=>{let{accountCredits:e,companyPay:t,refund:i,totalWithTipBeforeCredits:r,dashCardPoints:a,hsaFsaAuthorizedAmount:o}=n;return Math.max(0,S({accountCredits:e,companyPay:t,refund:i,totalWithTipBeforeCredits:r})-a)+o},S=n=>{let{accountCredits:e,companyPay:t,refund:i,totalWithTipBeforeCredits:r}=n;return Math.max(r-(e+i+t),0)},D=n=>{let{totalWithTipBeforeCredits:e,refund:t}=n;return e-t},I=n=>{let{totalWithTipBeforeCredits:e,companyPay:t,accountCredits:i}=n;return Math.max(0,Math.min(e-t,i))},T=n=>{let{companyPay:e,accountCredits:t,refund:i,totalWithTipBeforeCredits:r,dashCardPoints:a,hsaFsaAuthorizedAmount:o}=n,l=D({totalWithTipBeforeCredits:r,refund:i});return{amountDue:A({companyPay:e,accountCredits:t,refund:i,totalWithTipBeforeCredits:r,dashCardPoints:a,hsaFsaAuthorizedAmount:o}),creditsApplied:I({accountCredits:t,companyPay:e,totalWithTipBeforeCredits:r}),totalAmount:l,amountDueWithoutPoints:S({companyPay:e,accountCredits:t,refund:i,totalWithTipBeforeCredits:r})}},b=n=>{let{firstName:e,lastName:t,phoneNumber:i,email:r}=n;return[e,t,r,i].map(n=>n.trim()).every(n=>!!n)&&(0,a.vV)(r.toLowerCase())},O=n=>n.commissionMessage?n.commissionMessage:"",F=n=>{var e;return null!==(e=n.restaurant)&&void 0!==e&&!!e.requiresCheckIn&&n.restaurant.requiresCheckIn},R=n=>{var e,t;return(null===(t=n.restaurant)||void 0===t?void 0:null===(e=t.business)||void 0===e?void 0:e.name)?n.restaurant.business.name:""}},70464:function(n,e,t){t.d(e,{E:function(){return i}});let i=t(604888).CurrencyCode.USD},430295:function(n,e,t){t.d(e,{EJ:function(){return o.E},Fv:function(){return u},GP:function(){return c},K8:function(){return v},i8:function(){return p},lj:function(){return m},oL:function(){return s},uO:function(){return d}});var i=t(604888),r=t(886851),a=t.n(r),o=t(70464),l=t(470505);let u=n=>{let{priceRangeDisplayString:e}=n;return e},s=n=>{let{itemNode:e,userLocale:t}=n,r=e.calculateItemTotal(),a=e.calculateUpsellItemsTotal(),o=r*e.quantity+a;return(0,i.formatMoney)({unitAmount:o,currency:e.currency,userLocale:t})},d=n=>{let{priceOfTotalQuantity:e,currency:t,userLocale:r}=n;return e&&t?(0,i.formatMoney)({unitAmount:e,currency:t,userLocale:r}):""},c=n=>{let{orderCartSubtotal:e,currency:t,userLocale:r}=n;return t?(0,i.formatMoney)({unitAmount:e,currency:t,userLocale:r}):""},m=n=>{let{accountCredits:e,countryCode:t,userLocale:r}=n,o=a()(t);return(0,i.formatMoney)({unitAmount:e,currency:o,userLocale:r})},p=()=>{var n,e;let{senderRewardAmount:t}=null!==(e=null===(n=(0,l.ZP)().data)||void 0===n?void 0:n.getReferralSenderReward)&&void 0!==e?e:{};return(null==t?void 0:t.displayString)||""},v=n=>{let{creditsApplied:e,currency:t,userLocale:r}=n;return"-"+(0,i.formatMoney)({unitAmount:e,currency:t,userLocale:r})}},990617:function(n,e,t){t.d(e,{C8:function(){return s},Ex:function(){return d},hk:function(){return m}});var i=t(12958),r=t(829615),a=t(310627),o=t(60395),l=t(423188);let u=[i.Locale.JA,i.Locale.JA_JP],s=function(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.zL,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{toUpperCase:!0,useLongWeekdayDisplay:!1},d=c(n,i.Locale.EN,r),m=c(t,i.Locale.EN,r),p=(0,a.I)(d.getTime(),m.getTime());if(0===p)return(null==s?void 0:s.toUpperCase)?l.ZP.t("layoutStrings_timePicker_today"):l.ZP.t("layoutStrings_timePicker_today_sentence_case");if(1===p)return(null==s?void 0:s.toUpperCase)?l.ZP.t("layoutStrings_timePicker_tmr"):l.ZP.t("layoutStrings_timePicker_tomorrow_sentence_case");let v=u.includes(e)||s.useLongWeekdayDisplay?"long":"short",y=(0,a.zA)(n,{weekday:v,timeZone:r},e).replace(/\./g,"");return(null==s?void 0:s.toUpperCase)?y.toUpperCase():y};function d(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.EP)();return(0,a.zA)(n,{timeZone:e,month:r.IntlDateFormatOptions.NUMERIC,day:r.IntlDateFormatOptions.NUMERIC,year:"2-digit"},i.Locale.EN)}let c=function(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.EP)();return new Date((0,a.zA)(n,{timeZone:t,month:r.IntlDateFormatOptions.NUMERIC,day:r.IntlDateFormatOptions.NUMERIC,year:"2-digit"},e))},m=function(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.EP)();return(0,a.zA)(n,{timeZone:t,month:r.IntlDateFormatOptions.SHORT,day:r.IntlDateFormatOptions.NUMERIC},e)}},675209:function(n,e,t){t.d(e,{bE:function(){return a}});var i=t(310627);let r=n=>(0,i.sc)((0,i._3)(n)),a=(n,e)=>{let t=r(e);return r(n.timestamp)===t}},344595:function(n,e,t){t.d(e,{F:function(){return r},H:function(){return a}});var i=t(423188);let r=(n,e)=>{let t=n.find(n=>n.id===e);return(null==t?void 0:t.times)||[]},a=(n,e)=>{let t={selectDateText:n?i.ZP.t("layoutStrings_timePicker_selectAPickupDate"):i.ZP.t("layoutStrings_timePicker_selectADeliveryDate"),selectTimeText:n?i.ZP.t("layoutStrings_timePicker_desiredPickupTime"):i.ZP.t("layoutStrings_timePicker_desiredDeliveryTime")};return e&&(t.selectDateDescriptionText=i.ZP.t("layoutStrings_timePicker_cateringScheduleMessage",{storeName:e.storeName,numHours:e.numHours})),t}},747233:function(n,e,t){t.d(e,{Qe:function(){return y},On:function(){return p},Og:function(){return v}});var i=t(528564),r=t(990617),a=t(344595),o=t(60395),l=t(798939),u=t(864913);let s=["DE"];var d=()=>{let n=(0,u.Z)();return!s.includes(n)},c=t(399255);let m=n=>({selectDateHeading:"",selectTimeHeading:"",selectTimeSubheading:(0,o.NN)(n),showAsapToggle:!0,scheduledTime:"ASAP",selectedTimeRange:null,scheduledTimeDateId:"",todayDateId:(0,r.Ex)(),availableDaysAndTimes:[]}),p=(n,e)=>{var t;if(!n||"ASAP"===n||!e)return null;let i=new Date(n).getTime();for(let n of null!==(t=null==e?void 0:e.days)&&void 0!==t?t:[])for(let e of n.times)if(new Date(e.timestamp).getTime()===i)return{midpoint:e.timestamp,max:e.max,min:e.min};return null};function v(n,e,t){var u,s;let v=null==e?void 0:e.orderTimeAvailability,g=null!==(s=null==t?void 0:t.enableNewScheduleAheadUi)&&void 0!==s&&s,f=(0,c.bU)(),h=(0,l.j9)(e),{selectDateText:C,selectTimeText:P,selectDateDescriptionText:A}=(0,a.H)(null==e?void 0:e.isConsumerPickup,h),S=(0,o.EP)(null==v?void 0:v.timezone),D=d();return e?{selectDateHeading:C,selectDateDescription:A,selectTimeHeading:P,selectTimeSubheading:D?(0,o.NN)(f,null==v?void 0:v.timezone):"",showAsapToggle:(0,i.Yr)(e),scheduledTime:n,selectedTimeRange:p(n,e.orderTimeAvailability),scheduledTimeDateId:(0,r.Ex)(new Date(n),S),todayDateId:(0,r.Ex)(new Date,S),availableDaysAndTimes:y((null===(u=e.orderTimeAvailability)||void 0===u?void 0:u.days)||[],S,f,{toUpperCase:!g,useLongWeekdayDisplay:g})}:m(f)}let y=function(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.EP)(),t=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{toUpperCase:!0,useLongWeekdayDisplay:!1};return n.map(n=>{var a,o;let l=null==n?void 0:null===(o=n.times)||void 0===o?void 0:null===(a=o[0])||void 0===a?void 0:a.timestamp;return{...n,id:(0,r.Ex)(new Date(l),e),numberDisplay:n.date.toString(),labelDisplay:(0,r.C8)(new Date(l),t,new Date,e,i),shortDay:(0,r.hk)(new Date(l),t)}})}},60395:function(n,e,t){t.d(e,{zL:function(){return u},ZP:function(){return m},EP:function(){return s},NN:function(){return d}});var i,r,a=t(12958),o=t(423188);(i=r||(r={})).SHORT="short",i.LONG="long";var l=t(747233);let u="US/PACIFIC",s=n=>{let e=Intl.DateTimeFormat().resolvedOptions().timeZone;return n||e||u},d=(n,e)=>{let t=c(n,e,r.SHORT);return o.ZP.t("layoutStrings_timePicker_timezone",{timezone:t})},c=function(){var n;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.Locale.EN_US,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=Intl.DateTimeFormat().resolvedOptions().timeZone,l=i||r.SHORT;return(null===(n=Intl.DateTimeFormat(e,{timeZone:t||o||u,timeZoneName:l}).formatToParts(new Date).find(n=>"timeZoneName"==n.type))||void 0===n?void 0:n.value)||t||o||u};var m=(n,e)=>{var t,i;let r=null!==(i=null==e?void 0:null===(t=e.beExperimentFlags)||void 0===t?void 0:t.enableNewScheduleAheadUi)&&void 0!==i&&i;return(0,l.Og)(n,e,{enableNewScheduleAheadUi:r})}},798680:function(n,e,t){t.d(e,{E$:function(){return m},KZ:function(){return s},cj:function(){return u},tT:function(){return l}});var i=t(963714),r=t(425710),a=t(860448);let o=n=>{let e=n.recipientCountryCode||"",t=(0,i.Gg)(e),r=n.shouldDoordashTextRecipient||n.shouldDasherContactRecipient;return n.recipientPhone&&r?(0,a.pj)(t+n.recipientPhone).internationalNumber:null},l=(n,e)=>{let t=u(n,e);return{recipientPhone:o(n),recipientName:t,recipientGivenName:n.recipientGivenName,recipientFamilyName:n.recipientFamilyName,recipientEmail:n.recipientEmail,cardMessage:n.cardMessage,cardId:n.cardId,senderName:n.senderName,shouldNotifyTrackingToRecipientOnDasherAssign:n.shouldDoordashTextRecipient,shouldNotifyRecipientForDasherQuestions:n.shouldDasherContactRecipient,shouldRecipientScheduleGift:n.shouldRecipientScheduleGift||!1}},u=(n,e)=>{if(n.recipientFamilyName||n.recipientGivenName){var t,i;let a=null!==(t=n.recipientFamilyName)&&void 0!==t?t:"",o=null!==(i=n.recipientGivenName)&&void 0!==i?i:"";return(0,r.getLocalizedNames)({familyName:a,givenName:o},e).formalName}return n.recipientName},s=(n,e)=>e?d(n):{...n,...c(n.recipientPhone),recipientEmail:"",shouldDoordashTextRecipient:!!n.shouldNotifyTrackingToRecipientOnDasherAssign,shouldDasherContactRecipient:!!n.shouldNotifyRecipientForDasherQuestions},d=n=>{var e;return{...n,recipientPhone:"",recipientEmail:null!==(e=n.recipientEmail)&&void 0!==e?e:"",shouldNotifyRecipientForDasherQuestions:null,shouldNotifyTrackingToRecipientOnDasherAssign:null,shouldRecipientScheduleGift:!1,shouldDoordashTextRecipient:!1,shouldDasherContactRecipient:!1}},c=n=>{let e=i.Z8.US,t=i.RE.US;return n?(n.startsWith(i.RE.AU)&&(e=i.Z8.AU,t=i.RE.AU),{recipientCountryCode:e,recipientPhone:n.substr(t.length)}):{recipientCountryCode:e,recipientPhone:""}},m=n=>{let{giftInfo:e,orderCartCreator:t}=n,i={recipientGivenName:(null==t?void 0:t.firstName)||"",recipientFamilyName:(null==t?void 0:t.lastName)||""};return(null==e?void 0:e.recipientFamilyName)&&(null==e?void 0:e.recipientGivenName)&&(i.recipientFamilyName=e.recipientFamilyName,i.recipientGivenName=e.recipientGivenName),i}},780278:function(n,e,t){t.d(e,{J:function(){return o}});var i=t(123304);let r=(n,e)=>{let t;try{t=window.Stripe(e,{canCreateRadarSession:!0,betas:["afterpay_clearpay_setup_intents_beta"]})}catch(n){(0,i.Tb)(n);return}n(t)},a=(n,e,t)=>{n.addEventListener("load",()=>{r(e,t)})},o=(n,e)=>{if(window.Stripe)r(n,e);else{let t=document.querySelector("#stripe-js");if(!t){let t=document.createElement("script");t.type="text/javascript",t.src="https://js.stripe.com/v3",t.id="stripe-js",document.body.appendChild(t),a(t,n,e)}t&&a(t,n,e)}}},619197:function(n,e,t){t.d(e,{U9:function(){return s},vS:function(){return d}});var i=t(317905),r=t(42904);function a(){let n=(0,i._)(["\n  fragment PaymentCardFragment on PaymentCard {\n    id\n    isDefault\n    type\n    stripeId\n    last4\n    expYear\n    expMonth\n    hasExistingCard\n    cardBenefitMembershipLinkStatus\n    metadata {\n      paypalAccount\n      setupIntentClientSecret\n      setupIntentRequiresAction\n      isDashCard\n      isHsaFsaCard\n    }\n    accountDisplayDescription\n    paymentMethodUuid\n    paymentMethodAvailability {\n      paymentMethodAvailabilityStatus\n    }\n    createdAt\n    isPrimaryCardHolder\n  }\n"]);return a=function(){return n},n}function o(){let n=(0,i._)(["\n  query cacheQuery {\n    consumerPaymentCards {\n      ...PaymentCardFragment\n    }\n    getPaymentMethodList {\n      ...PaymentCardFragment\n    }\n  }\n  ","\n"]);return o=function(){return n},n}function l(){let n=(0,i._)(["\n  query cacheReadQuery {\n    getPaymentMethodList {\n      ...PaymentCardFragment\n    }\n  }\n  ","\n"]);return l=function(){return n},n}let u=(0,r.gql)(a()),s=(0,r.gql)(o(),u),d=(0,r.gql)(l(),u);e.ZP=u},793270:function(n,e,t){t.d(e,{Ff:function(){return p},Ni:function(){return y},z2:function(){return g}});var i=t(317905),r=t(693981),a=t(42904),o=t(62784),l=t(619197),u=t(525807),s=t(559887),d=t(5559);function c(){let n=(0,i._)(["\n  query paymentCardQuery {\n    getPaymentMethodList {\n      ...PaymentCardFragment\n    }\n  }\n  ","\n"]);return c=function(){return n},n}function m(){let n=(0,i._)(["\n  query paymentMethodQuery(\n    $usePaymentConfigQuery: Boolean!\n    $usePaymentConfigQueryV2: Boolean!\n    $country: String\n  ) {\n    getPaymentMethodList {\n      ...PaymentCardFragment\n    }\n    getPaymentPublicKey {\n      publicKey\n    }\n    # PAYMENT-CONFIG\n    ... @include(if: $usePaymentConfigQuery) {\n      getPaymentConfig {\n        paymentConfigToken\n        cardConfig {\n          ...PaymentMethodFragment\n        }\n        applePayConfig {\n          ...PaymentMethodFragment\n        }\n        googlePayConfig {\n          ...PaymentMethodFragment\n        }\n        paypalConfig {\n          ...PaymentMethodFragment\n        }\n      }\n    }\n    # PAYMENT CONFIG V2\n    ... @include(if: $usePaymentConfigQueryV2) {\n      getPaymentConfigV2(country: $country) {\n        paymentConfigToken\n        cardConfig {\n          ...PaymentMethodConfigV2Fragment\n        }\n        paypalConfig {\n          ...PaymentMethodConfigV2Fragment\n        }\n        applePayConfig {\n          ...PaymentMethodConfigV2Fragment\n        }\n        googlePayConfig {\n          ...PaymentMethodConfigV2Fragment\n        }\n        venmoConfig {\n          ...PaymentMethodConfigV2Fragment\n        }\n        afterpayConfig {\n          ...PaymentMethodConfigV2Fragment\n        }\n        ebtConfig {\n          ...PaymentMethodConfigV2Fragment\n        }\n        providerConfigs {\n          vgs {\n            ...PaymentProviderConfigV2Fragment\n          }\n          stripe {\n            ...PaymentProviderConfigV2Fragment\n          }\n          braintree {\n            ...PaymentProviderConfigV2Fragment\n          }\n          jpm {\n            ...PaymentProviderConfigV2Fragment\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return m=function(){return n},n}let p=(0,a.gql)(c(),l.ZP),v=(0,a.gql)(m(),l.ZP,s.ZB,u.E8,u.Hk),y=(n,e)=>{var t,i,a,l,s,c,m,y,g,f,h,C,P,A;let S;let D=(0,d.vw)(),I={...n,variables:{...null==n?void 0:n.variables,country:null!==(y=null==n?void 0:null===(t=n.variables)||void 0===t?void 0:t.country)&&void 0!==y?y:D,usePaymentConfigQuery:!0,usePaymentConfigQueryV2:!0}},T=(0,o.a)(e?p:v,{fetchPolicy:"cache-first",errorPolicy:"all",...I,nextFetchPolicy:"cache-first"}),b=null!==(g=null==T?void 0:null===(i=T.data)||void 0===i?void 0:i.getPaymentMethodList)&&void 0!==g?g:[],O=null!==(f=null==T?void 0:null===(a=T.data)||void 0===a?void 0:a.getPaymentConfigV2)&&void 0!==f?f:null,F=r.useMemo(()=>(0,u.k4)(O),[O]);S=O?F:null!==(C=null==T?void 0:null===(h=T.data)||void 0===h?void 0:h.getPaymentConfig)&&void 0!==C?C:null;let R={paymentCards:b,consumerStripeKey:null!==(A=null!==(P=null==O?void 0:null===(s=O.providerConfigs)||void 0===s?void 0:null===(l=s.stripe)||void 0===l?void 0:l.key)&&void 0!==P?P:null==T?void 0:null===(m=T.data)||void 0===m?void 0:null===(c=m.getPaymentPublicKey)||void 0===c?void 0:c.publicKey)&&void 0!==A?A:"",paymentConfig:S,paymentConfigV2:O,loading:T.loading,error:T.error};return{...T,data:R}},g=n=>{let{data:e,loading:t,error:i,refetch:r}=y(n),a=e.paymentCards;return{loading:t,error:i,refetch:r,data:a&&a.find(n=>n.isDefault)||null}}},293377:function(n,e,t){var i,r,a,o;t.d(e,{$h:function(){return p},Ec:function(){return s},Ft:function(){return u},Oh:function(){return i},TM:function(){return l},at:function(){return c},c0:function(){return d},uN:function(){return v},xf:function(){return r}}),(a=i||(i={})).CARD="card",a.PAYPAL="PayPal",a.VENMO="Venmo",a.AFTERPAY="Afterpay",a.EBT="EBT",a.CASHAPP="Cashapp",a.HSAFSA="HsaFsa",a.APPLE_PAY="ApplePay",a.GOOGLE_PAY="GooglePay",(o=r||(r={})).APPLE_PAY="Apple Pay",o.UNKNOWN="unknown";let l=new Set(["card","PayPal","Venmo","Afterpay","EBT","Cashapp","HsaFsa"]),u=new Set(["PayPal","Venmo","Afterpay","Cashapp"]),s=new Set([...u,"EBT"]),d=new Set(["card","PayPal"]),c=new Set(["EBT"]),m=new Set(["card","Venmo","PayPal","Cashapp"]),p=new Set([...l].filter(n=>!m.has(n))),v=new Set(["card"]);[...l].filter(n=>!v.has(n))},675131:function(n,e,t){t.d(e,{Ft:function(){return r},Hw:function(){return o},b:function(){return a}});var i=t(293377);let r=n=>null!=n&&n.type===i.Oh.PAYPAL,a=n=>(null==n?void 0:n.type)===i.Oh.VENMO,o=(n,e)=>!(e||null===n||r(n)||a(n))},910868:function(n,e,t){t.d(e,{Yt:function(){return O},jQ:function(){return b},SF:function(){return T},mC:function(){return U},Ol:function(){return F}});var i=t(317905),r=t(42904),a=t(777238),o=t(456277),l=t(772307);function u(){let n=(0,i._)(["\n  fragment SubscriptionPaymentMethodFragment on DashPassUpsellConfirmationDetails {\n    subscriptionPaymentMethod {\n      id\n      stripeId\n      fingerprint\n      last4\n      dynamicLast4\n      expYear\n      expMonth\n      type\n      cardBenefitMembershipLinkStatus\n      membershipType {\n        partnerCardDisplayName\n        partnerCardLast4\n        partnerName\n      }\n    }\n  }\n"]);return u=function(){return n},n}let s=(0,r.gql)(u());var d=t(399244);function c(){let n=(0,i._)(["\n  fragment CheckoutLineItemsFragment on OrderCart {\n    lineItemsList {\n      chargeId\n      label\n      originalMoney {\n        unitAmount\n        displayString\n      }\n      finalMoney {\n        unitAmount\n        displayString\n      }\n      tooltip {\n        title\n        paragraphs {\n          title\n          description\n        }\n      }\n      note\n      labelIcon\n      priceIcon\n      discountIcon\n      highlight\n      # lineItemCalloutModal will be implemented as a banner\n      lineItemCalloutModal {\n        title\n        description\n        type\n      }\n    }\n  }\n"]);return c=function(){return n},n}function m(){let n=(0,i._)(["\n  fragment CheckoutDiscountDetailsFragment on DiscountDetails {\n    message\n    appliedDiscount {\n      displayString\n      unitAmount\n    }\n    requiredAction\n  }\n"]);return m=function(){return n},n}function p(){let n=(0,i._)(["\n  fragment CheckoutConsumerPromotionFragment on CheckoutConsumerPromotion {\n    code\n    campaignId\n    adGroupId\n    adId\n    maxApplicableDeliveryCount\n    description\n    title\n    featuredOnApp\n    expiration\n    target\n  }\n"]);return p=function(){return n},n}function v(){let n=(0,i._)(["\n  fragment CheckoutOrderTimeAvailabilityFragment on OrderTimeAvailability {\n    scheduleLongerInAdvanceTime\n    timezone\n    days {\n      year\n      month\n      date\n      times {\n        display\n        timestamp\n        min\n        max\n        displayString\n      }\n    }\n  }\n"]);return v=function(){return n},n}function y(){let n=(0,i._)(["\n  fragment OrderCartDomainFragment on OrderCart {\n    domain {\n      giftInfo {\n        recipientName\n        recipientGivenName\n        recipientFamilyName\n        recipientPhone\n        recipientEmail\n        cardMessage\n        cardId\n        shouldNotifyTrackingToRecipientOnDasherAssign\n        shouldNotifyRecipientForDasherQuestions\n        senderName\n        shouldRecipientScheduleGift\n        hasGiftIntent\n      }\n    }\n  }\n"]);return y=function(){return n},n}function g(){let n=(0,i._)(["\n  fragment CheckoutDashPassUpsellFragment on OrderCart {\n    dashpassUpsell {\n      shouldShowDashpass\n      eligibleSubscriptionSavingDetails {\n        refundAmount {\n          displayString\n          unitAmount\n        }\n        feesAndTaxAfterSubscription {\n          displayString\n          unitAmount\n        }\n        deliveryFeeAfterSubscription {\n          displayString\n          unitAmount\n        }\n        totalAfterSubscription {\n          displayString\n          unitAmount\n        }\n        planDetails {\n          countryCode\n          upsellDetails {\n            checkboxTitle\n            checkboxSubtitle\n            upsellType\n            upsellLocation\n            checkboxTermsAndConditions {\n              type\n              value\n              url\n            }\n            upsellConfirmation {\n              title\n              termsAndConditions {\n                type\n                value\n                url\n              }\n              descriptionList {\n                type\n                text\n                descriptionList {\n                  type\n                  text\n                }\n              }\n              actionsList {\n                label\n                type\n                parametersList {\n                  key\n                  value\n                }\n              }\n              billingInfo\n              accessoryType\n              ...SubscriptionPaymentMethodFragment\n            }\n            upsellBannerDetails {\n              title\n              badgeType\n              bannerType\n            }\n            upsellOfferTypes\n            upsellAudience\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return g=function(){return n},n}function f(){let n=(0,i._)(["\n  fragment CheckoutSuperSaveUpsellFragment on OrderCart {\n    supersaveUpsell {\n      message\n    }\n  }\n"]);return f=function(){return n},n}function h(){let n=(0,i._)(["\n  fragment CheckoutAlcoholOrderInfoFragment on OrderCart {\n    alcoholOrderInfo {\n      title\n      description\n      bulletPointsList {\n        title\n        body\n      }\n      termsAndConditions {\n        text\n        hyperlink\n      }\n      warning\n      pbContinue\n      cancel\n    }\n  }\n"]);return h=function(){return n},n}function C(){let n=(0,i._)(["\n  fragment CheckoutDropoffOptionsFragment on OrderCart {\n    dropoffOptions {\n      id\n      displayString\n      placeholderText\n      isDefault\n      isEnabled\n      disabledMessage\n      proofOfDeliveryType\n    }\n  }\n"]);return C=function(){return n},n}function P(){let n=(0,i._)(["\n  fragment CheckoutBackendStylingFragment on StyledText {\n    displayString\n    textStyle\n    textColor\n    strikethroughOverrideText {\n      displayString\n      textStyle\n      textColor\n    }\n  }\n"]);return P=function(){return n},n}function A(){let n=(0,i._)(["\n  fragment ExpensedMealBudgetFragment on ExpenseOrderBudget {\n    id\n    name\n    budgetAddress {\n      printableAddress\n    }\n    availabilities {\n      startTimeOfDayOfWeek {\n        dayOfWeek\n        timeOfDay {\n          hours\n          minutes\n        }\n      }\n      endTimeOfDayOfWeek {\n        dayOfWeek\n        timeOfDay {\n          hours\n          minutes\n        }\n      }\n    }\n    maximumAmount {\n      currency\n      displayString\n      decimalPlaces\n      unitAmount\n    }\n    remainingAmount {\n      currency\n      displayString\n      decimalPlaces\n      unitAmount\n    }\n    refreshInterval\n    expenseCodeMode\n    expireDate\n  }\n"]);return A=function(){return n},n}function S(){let n=(0,i._)(["\n  fragment BeExperimentFlagsFragment on OrderCart {\n    beExperimentFlags {\n      enableNewScheduleAheadUi\n    }\n  }\n"]);return S=function(){return n},n}function D(){let n=(0,i._)(["\n  fragment LoyaltyPointsSummaryFragment on OrderCart {\n    loyaltyPointsSummary {\n      storeLoyaltyProgramData {\n        title\n        subtitle\n        subtitleTextAttributes {\n          color\n        }\n        actionUrl\n        currentProgressOnScale1\n      }\n    }\n  }\n"]);return D=function(){return n},n}function I(){let n=(0,i._)(["\n  fragment CheckoutOrderCartFragment on OrderCart {\n    id\n    recurringDeliveryDetails {\n      recurringDeliveryDiscountDetails {\n        firstDeliveryDiscountPercentage\n        recurringDeliveryDiscountPercentage\n      }\n      recurringDeliveryMessagingDetails {\n        title\n        descriptionLineOne\n        descriptionLineTwo\n        learnMoreLinkUrl\n      }\n    }\n    hasError\n    groupCart\n    groupCartType\n    groupCartPollInterval\n    isCatering\n    cartStatusType\n    cateringInfo {\n      cateringVersion\n      minOrderSize\n      maxOrderSize\n      orderInAdvanceInSeconds\n      cancelOrderInAdvanceInSeconds\n    }\n    containsAlcohol\n    foodAlcoholConstraintCartLevel\n    commissionMessage\n    urlCode\n    fulfillmentType\n    isConsumerPickup\n    isConvenienceCart\n    isDigitalWalletAllowed\n    isPreTippable\n    hideSalesTax\n    offersDelivery\n    offersPickup\n    paymentProtocol\n    isMerchantShipping\n    merchantShippingDayRangeString\n    merchantShippingDetails {\n      fullDeliveryNote\n      shortDeliveryNote\n    }\n    totalCreditsAvailable {\n      unitAmount\n      currency\n      displayString\n    }\n    creditsApplicableBeforeTip\n    creditsApplicableBeforeTipDetails {\n      unitAmount\n      currency\n      displayString\n    }\n    showAccessibilityCompliance\n    subtotal\n    total\n    totalSavings\n    taxAmount\n    tipAmount\n    merchantTipAmount\n    tipPercentageArgument\n    dasherFee\n    overauthTotal {\n      currency\n      unitAmount\n    }\n    legislativeFeeDetails {\n      label\n      unitAmount\n      displayString\n      message\n      tooltipMessage\n    }\n    deliveryFee\n    deliveryFeeDetails {\n      originalFee {\n        unitAmount\n      }\n    }\n    appliedServiceFee\n    minOrderFee\n    minOrderSubtotal\n    adsVertical\n    asapMinutesRange\n    asapTimeRange\n    asapPickupTimeRange\n    asapNumMinutesUntilClose\n    asapPickupNumMinutesUntilClose\n    extraSosDeliveryFee\n    fulfillsOwnDeliveries\n    maxIndividualCost\n    shortenedUrl\n    serviceRateMessage\n    isOutsideDeliveryRegion\n    asapDeliveryOverrideTitle\n    asapDeliveryOverrideSubtitle\n    asapDeliveryAvailable\n    asapPickupAvailable\n    scheduledDeliveryOptionQuoteMessage\n    isBundle\n    bundleDetails {\n      bundleStatusMessage\n    }\n    originalBundleOrderCartId\n    deliveryOptions {\n      deliveryOptionType\n      etaMinutesRange\n      optionTitle\n      optionOverrideTitle\n      optionSubtitle\n      optionHighlightedText\n      optionQuoteMessage\n      isScheduleDelivery\n      scheduledDeliveryTime\n      backendStyling {\n        title {\n          ...CheckoutBackendStylingFragment\n        }\n        subTitle {\n          ...CheckoutBackendStylingFragment\n        }\n        description {\n          ...CheckoutBackendStylingFragment\n        }\n        subDescription {\n          ...CheckoutBackendStylingFragment\n        }\n        tooltipLayout {\n          displayString\n          leadingIcon\n        }\n      }\n      isOptionSelectable\n    }\n    currencyCode\n    minAgeRequirement\n    selfDeliveryType\n    serviceRateDetails {\n      originalFee {\n        unitAmount\n      }\n    }\n    menu {\n      id\n      hoursToOrderInAdvance\n      name\n      minOrderSize\n      isCatering\n    }\n    creator {\n      id\n      firstName\n      lastName\n      localizedNames {\n        informalName\n        formalName\n        formalNameAbbreviated\n      }\n    }\n    isConvenienceCart\n    deliveries {\n      id\n      quotedDeliveryTime\n    }\n    submittedAt\n    providesExternalCourierTracking\n    orderTimeAvailability {\n      ...CheckoutOrderTimeAvailabilityFragment\n    }\n    tipSuggestions {\n      type\n      defaultIndex\n      values\n    }\n    tipsSuggestionsList {\n      type\n      defaultTipIndex\n      suggestions {\n        label\n        value\n        isDefault\n      }\n      tipMessaging {\n        checkoutTitle\n        checkoutSubtitle\n        splitBillTipSubtitle\n      }\n      tipRecipient\n    }\n    restaurant {\n      id\n      name\n      maxOrderSize\n      coverImgUrl\n      squareCoverImgUrl\n      shouldShowStoreLogo\n      slug\n      bulkSubstitutionPreference\n      isConsumerSubscriptionEligible\n      address {\n        printableAddress\n        street\n        lat\n        lng\n        state\n        country\n      }\n      business {\n        id\n        name\n      }\n      merchantPromotions {\n        minimumOrderCartSubtotal\n        newStoreCustomersOnly\n        deliveryFee\n      }\n      requiresCheckIn\n      offersPackageReturns\n      snapMerchantId\n    }\n    routineReorderTimeSlots {\n      startHour\n      endHour\n    }\n    routineReorderWeekIntervals\n    supplementalPaymentEligibleAmountsList {\n      amount {\n        type\n        eligibleAmount {\n          currency\n          displayString\n          decimalPlaces\n          unitAmount\n          sign\n        }\n      }\n      title\n      description\n    }\n    supplementalAuthorizedPaymentDetailsList {\n      type\n      authorizedAmount {\n        currency\n        unitAmount\n        displayString\n        decimalPlaces\n        sign\n        symbol\n      }\n    }\n    orders {\n      id\n      consumer {\n        id\n        firstName\n        lastName\n        localizedNames {\n          informalName\n          formalName\n          formalNameAbbreviated\n        }\n      }\n      isSubCartFinalized\n      paymentCard {\n        id\n        stripeId\n      }\n      paymentLineItems {\n        subtotal\n        taxAmount\n        subtotalTaxAmount\n        feesTaxAmount\n        serviceFee\n      }\n      orderItems {\n        id\n        options {\n          id\n          name\n          quantity\n          price\n          nestedOptions\n        }\n        nestedOptions\n        specialInstructions\n        substitutionPreference\n        quantity\n        singlePrice\n        priceOfTotalQuantity\n        priceDisplayString\n        nonDiscountPriceDisplayString\n        continuousQuantity\n        unit\n        purchaseType\n        estimatedPricingDescription\n        isRoutineReorderEligible\n        cartItemStatusType\n        bundleStore {\n          id\n          name\n          isPrimary\n        }\n        increment {\n          decimalPlaces\n          unitAmount\n        }\n        discounts {\n          ...OrderItemDiscountFragment\n        }\n        item {\n          id\n          restrictionInfo {\n            type\n            rulesList {\n              ruleName\n              intValue\n              stringValue\n              boolValue\n              floatValue\n            }\n          }\n          imageUrl\n          name\n          price\n          minAgeRequirement\n          category {\n            title\n          }\n          extras {\n            id\n            title\n            description\n          }\n          itemTagsList {\n            tagType\n            localizedName\n            shortName\n            id\n            description\n            displayType\n          }\n        }\n        itemLevelDiscountMonetaryFields {\n          currency\n          displayString\n          decimalPlaces\n          unitAmount\n        }\n        giftInfo {\n          ...CartItemGiftInfoFragment\n        }\n      }\n      isOrderRoutineReorderEligible\n    }\n    menuOptions {\n      id\n      localizedTitle\n      selection\n    }\n    storeDisclaimers {\n      id\n      disclaimerDetailsLink\n      disclaimerLinkSubstring\n      disclaimerText\n      displayTreatment\n    }\n    storeOrderCarts {\n      id\n      store {\n        id\n      }\n    }\n    consumerPromotion {\n      ...CheckoutConsumerPromotionFragment\n    }\n    allConsumerPromotion {\n      ...CheckoutConsumerPromotionFragment\n    }\n    discountDetails {\n      ...CheckoutDiscountDetailsFragment\n    }\n    expenseOrderOptions {\n      expenseCodeMode\n      allEligibleExpensedMealsBudgets {\n        ...ExpensedMealBudgetFragment\n      }\n    }\n    # all amount reflect amount when 0 tip is applied\n    companyPaymentInfo @include(if: $includeCompanyPaymentInfo) {\n      totalAmount {\n        # grant total of the order (company + Individual amount)\n        unitAmount\n        displayString\n      }\n      companyAmount {\n        # grant total company will pay\n        unitAmount\n        displayString\n      }\n      maxBudgetAmount {\n        # budget amount allocated by company\n        unitAmount\n        displayString\n      }\n      individualAmount {\n        # grant total amount individual will pay\n        unitAmount\n        displayString\n      }\n      creditsApplied {\n        # credits used by Individual on order\n        unitAmount\n        displayString\n      }\n      teamOrderInfo {\n        teamId\n        budgetId\n      }\n      budgetPayerName # Name of the bduget payer\n    }\n    teamAccount {\n      id\n      name\n    }\n    creditsBackDetails {\n      creditsbackText\n      creditsbackType\n      totalCreditsbackAmountMonetaryFields {\n        currency\n        displayString\n        decimalPlaces\n        unitAmount\n      }\n    }\n    eligibleSubscription {\n      shouldShowDashpass\n      eligibleSubscriptionSavingDetails {\n        fee {\n          displayString\n        }\n        minimumSubtotal {\n          displayString\n        }\n        refundAmount {\n          displayString\n          unitAmount\n        }\n        recurrenceIntervalUnits\n        recurrenceIntervalType\n      }\n    }\n    isDashpassApplied\n    differentialPricingDetails {\n      isEnabled\n      message\n      disclaimerTitle\n      disclaimerMessage\n    }\n    ageRestrictedIdVerificationInfo {\n      ageRestrictedIdVerificationStatus\n      ageRestrictedIdVerificationVendor\n      idPhotoUrl\n      vendorAccountId\n      isBouncerCase\n    }\n    signatureRequired\n    messagesAndBanners {\n      longDistanceReminder {\n        description\n        leadingIcon\n      }\n      loyaltyCard {\n        title\n        shouldShow\n        description {\n          prefix\n          suffix\n          amount {\n            currency\n            unitAmount\n            sign\n          }\n        }\n      }\n      totalSavingsMessage {\n        title\n        description\n        amount {\n          currency\n          unitAmount\n          sign\n        }\n      }\n      hsaFsaDetails {\n        title\n        acceptText\n        bodyLineItemsList {\n          text {\n            value\n          }\n        }\n      }\n      hsaFsaDetailsV2 {\n        variant\n        title\n        leadingIcon\n        label\n        primaryAction {\n          title\n        }\n        hasRoundedCorners\n      }\n\n      menuPriceDisclaimer {\n        message\n      }\n\n      packageReturnsDisclaimer {\n        title\n        description\n        disclaimer\n        acceptText\n        cancelText\n        bodyLineItemsList {\n          title\n          description\n          icon\n        }\n      }\n      deliveryPromiseDetails {\n        deliveryPromiseBanner {\n          action {\n            label\n            type\n            parametersList {\n              key\n              value\n            }\n          }\n          badgeType\n          title\n          sectionsList {\n            badgeUrl\n            text\n            type\n            descriptionList {\n              badgeUrl\n              text\n              type\n              descriptionList {\n                badgeUrl\n                text\n                type\n              }\n            }\n          }\n        }\n        lateOrderCreditUpsell {\n          checkboxTitle\n          checkboxSubtitle\n          upsellType\n          upsellLocation\n          checkboxTermsAndConditions {\n            type\n            value\n            url\n          }\n          upsellConfirmation {\n            headerBadge\n            billingInfo\n            accessoryType\n            title\n            termsAndConditions {\n              type\n              value\n              url\n            }\n            descriptionList {\n              type\n              text\n              descriptionList {\n                type\n                text\n              }\n            }\n            actionsList {\n              label\n              type\n              parametersList {\n                key\n                value\n              }\n            }\n            ...SubscriptionPaymentMethodFragment\n          }\n        }\n      }\n      savingsCelebrationBanner {\n        title\n        subtitle\n        savingsAmount\n        styling {\n          backgroundColor\n          savingsAmountColor\n        }\n      }\n    }\n    applicableMxLoyaltyRewards {\n      rewardsList {\n        discountTarget\n        source\n        value {\n          type\n          flatAmountOff {\n            unitAmount\n            currency\n            displayString\n            decimalPlaces\n            sign\n            symbol\n          }\n        }\n        identifier {\n          id\n          code\n        }\n        name\n        quantity\n      }\n      rewardsTotal\n    }\n    appliedMxLoyaltyRewards {\n      rewardsList {\n        discountTarget\n        source\n        value {\n          type\n          flatAmountOff {\n            unitAmount\n            currency\n            displayString\n            decimalPlaces\n            sign\n            symbol\n          }\n        }\n        identifier {\n          id\n          code\n        }\n        name\n        quantity\n      }\n      rewardsTotal\n    }\n    applicableExternalGiftCardDetails {\n      externalGiftCardsList {\n        externalGiftCardNumberToken\n        valueToRedeem {\n          unitAmount\n          currency\n          displayString\n          decimalPlaces\n        }\n      }\n    }\n    lineItemTooltipData {\n      lineItem {\n        chargeId\n        label\n        originalMoney {\n          unitAmount\n          displayString\n        }\n        finalMoney {\n          unitAmount\n          displayString\n        }\n        tooltip {\n          title\n          paragraphs {\n            title\n            description\n          }\n        }\n        note\n        labelIcon\n        priceIcon\n        discountIcon\n        highlight\n      }\n      lineItemBottomsheet {\n        ...UiFlowScreenFragment\n      }\n    }\n    discountBannerDetails {\n      discountDetailsMessage\n      discountDetailsMessageTitle\n      discountDetailsMessageDescription\n      isNewDashpassUser\n      minimumSubtotalPercentage\n      requiredAction\n      badgeType\n      promotionId\n      bannerType\n      bannerLocationList\n      discountBannerBottomSheet {\n        ...UiFlowScreenFragment\n      }\n      upsellBannerAction {\n        checkboxTitle\n        checkboxSubtitle\n        upsellType\n        upsellLocation\n        checkboxTermsAndConditions {\n          type\n          value\n          url\n        }\n        upsellConfirmation {\n          billingInfo\n          accessoryType\n          title\n          termsAndConditions {\n            type\n            value\n            url\n          }\n          descriptionList {\n            type\n            text\n            descriptionList {\n              type\n              text\n            }\n          }\n          actionsList {\n            label\n            type\n            parametersList {\n              key\n              value\n            }\n          }\n          ...SubscriptionPaymentMethodFragment\n        }\n      }\n    }\n    rewardBalanceAvailable @include(if: $includeRewardBalanceAvailable) {\n      monetaryValue {\n        currency\n        displayString\n        unitAmount\n      }\n      transactionAmount {\n        amount\n        conversionRate\n        label\n      }\n    }\n    ...InvalidItemsFragment\n    ...CheckoutLineItemsFragment\n    ...OrderCartDomainFragment\n    ...CheckoutDashPassUpsellFragment\n    ...CheckoutSuperSaveUpsellFragment\n    ...CheckoutAlcoholOrderInfoFragment\n    ...CheckoutDropoffOptionsFragment\n    ...BeExperimentFlagsFragment\n    ...LoyaltyPointsSummaryFragment\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return I=function(){return n},n}let T=(0,r.gql)(c()),b=(0,r.gql)(m()),O=(0,r.gql)(p()),F=(0,r.gql)(v()),R=(0,r.gql)(y()),_=(0,r.gql)(g(),s),E=(0,r.gql)(f()),k=(0,r.gql)(h()),x=(0,r.gql)(C()),M=(0,r.gql)(P()),L=(0,r.gql)(A()),N=(0,r.gql)(S()),w=(0,r.gql)(D()),U=(0,r.gql)(I(),o.j,T,b,O,F,R,_,E,k,x,M,L,a.Xv,l.nq,s,N,d.z,w)},559887:function(n,e,t){t.d(e,{LK:function(){return s},ZB:function(){return u}});var i=t(317905),r=t(693981),a=t(42904),o=t(525807);function l(){let n=(0,i._)(["\n  fragment PaymentMethodFragment on PaymentMethodConfig {\n    provider\n    key\n    country\n    zipRequired\n  }\n"]);return l=function(){return n},n}let u=(0,a.gql)(l()),s=(n,e)=>{let t=(0,o.fF)(n,e);return r.useMemo(()=>(0,o.k4)(t),[t])}},525807:function(n,e,t){t.d(e,{E8:function(){return s},Hk:function(){return d},fF:function(){return m},k4:function(){return v}});var i=t(317905),r=t(42904),a=t(62784);function o(){let n=(0,i._)(["\n  fragment PaymentMethodConfigV2Fragment on PaymentMethodV2Config {\n    provider\n    zipRequired\n    fraudConfigs {\n      key\n      provider\n    }\n    capabilities\n  }\n"]);return o=function(){return n},n}function l(){let n=(0,i._)(["\n  fragment PaymentProviderConfigV2Fragment on PaymentMethodProviderConfigData {\n    key\n    country\n    accountId\n    environment\n  }\n"]);return l=function(){return n},n}function u(){let n=(0,i._)(["\n  ","\n\n  ","\n\n  query getPaymentConfigV2($country: String) {\n    getPaymentConfigV2(country: $country) {\n      paymentConfigToken\n      cardConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      paypalConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      applePayConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      googlePayConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      venmoConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      afterpayConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      ebtConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      providerConfigs {\n        vgs {\n          ...PaymentProviderConfigV2Fragment\n        }\n        stripe {\n          ...PaymentProviderConfigV2Fragment\n        }\n        braintree {\n          ...PaymentProviderConfigV2Fragment\n        }\n        jpm {\n          ...PaymentProviderConfigV2Fragment\n        }\n      }\n    }\n  }\n"]);return u=function(){return n},n}let s=(0,r.gql)(o()),d=(0,r.gql)(l()),c=(0,r.gql)(u(),s,d),m=(n,e)=>{var t,i;let r=(0,a.a)(c,{fetchPolicy:"cache-first",errorPolicy:"all",variables:{country:n},skip:e});return null!==(i=null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.getPaymentConfigV2)&&void 0!==i?i:null},p=(n,e)=>{var t,i;if(!e||!n)return{country:null,key:null};let r=n[e];return{country:null!==(t=null==r?void 0:r.country)&&void 0!==t?t:null,key:null!==(i=null==r?void 0:r.key)&&void 0!==i?i:null}},v=n=>{var e,t,i,r,a,o,l,u,s,d,c,m,v,y,g,f,h,C,P,A;return n?{__typename:"PaymentConfig",paymentConfigToken:null==n?void 0:n.paymentConfigToken,cardConfig:{__typename:"PaymentMethodConfig",provider:null!==(v=null===(e=n.cardConfig)||void 0===e?void 0:e.provider)&&void 0!==v?v:null,zipRequired:null!==(y=null==n?void 0:null===(t=n.cardConfig)||void 0===t?void 0:t.zipRequired)&&void 0!==y?y:null,...p(n.providerConfigs,null===(i=n.cardConfig)||void 0===i?void 0:i.provider)},applePayConfig:{__typename:"PaymentMethodConfig",provider:null!==(g=null===(r=n.applePayConfig)||void 0===r?void 0:r.provider)&&void 0!==g?g:null,zipRequired:null!==(f=null===(a=n.applePayConfig)||void 0===a?void 0:a.zipRequired)&&void 0!==f?f:null,...p(n.providerConfigs,null===(o=n.applePayConfig)||void 0===o?void 0:o.provider)},googlePayConfig:{__typename:"PaymentMethodConfig",provider:null!==(h=null===(l=n.googlePayConfig)||void 0===l?void 0:l.provider)&&void 0!==h?h:null,zipRequired:null!==(C=null===(u=n.googlePayConfig)||void 0===u?void 0:u.zipRequired)&&void 0!==C?C:null,...p(n.providerConfigs,null===(s=n.googlePayConfig)||void 0===s?void 0:s.provider)},paypalConfig:{__typename:"PaymentMethodConfig",provider:null!==(P=null===(d=n.paypalConfig)||void 0===d?void 0:d.provider)&&void 0!==P?P:null,zipRequired:null!==(A=null===(c=n.paypalConfig)||void 0===c?void 0:c.zipRequired)&&void 0!==A?A:null,...p(n.providerConfigs,null===(m=n.paypalConfig)||void 0===m?void 0:m.provider)},v2:n}:null}},5559:function(n,e,t){t.d(e,{F:function(){return f},HL:function(){return M},Jq:function(){return T},Mi:function(){return E},PG:function(){return x},Uj:function(){return P},V_:function(){return _},Ve:function(){return R},Vg:function(){return k},Vy:function(){return D},ZU:function(){return b},eo:function(){return A},vw:function(){return h},x7:function(){return I}});var i,r,a=t(693981),o=t(45177),l=t(135188),u=t(793725),s=t(293377),d=t(725619),c=t(963714),m=t(423188),p=t(85948),v=t(678351),y=t(128669),g=t(337088);let f=()=>{var n,e;let{orderCart:t}=a.useContext(l.iB),i=null==t?void 0:null===(n=t.restaurant)||void 0===n?void 0:n.address;if(!i)return"";let r=(0,p.ZP)(i);return null!==(e=(0,c.Nn)(r))&&void 0!==e?e:""},h=()=>{var n;let{consumer:e}=a.useContext(u.Z);return null===(n=(0,c.ed)(e.defaultAddress))||void 0===n?void 0:n.countryCode},C=[d.x1.status_degraded,d.x1.status_down],P=()=>{var n;let{consumer:e}=a.useContext(u.Z),t=null===(n=e.defaultAddress)||void 0===n?void 0:n.countryCode;return null!=t?t:"US"},A=n=>{var e;return C.includes(null==n?void 0:null===(e=n.paymentMethodAvailability)||void 0===e?void 0:e.paymentMethodAvailabilityStatus)},S=n=>s.Ec.has(n),D=n=>S(n)?n:s.Oh.CARD,I=n=>{let{paymentMethod:e,isCheckout:t=!1,useShortMessage:i=!1}=n;return t&&A(e)&&(null==e?void 0:e.type)?i?m.ZP.t("checkoutStrings_unavailable"):S(e.type)?m.ZP.t("paymentMethodStrings_guided_recovery_noncard",{type:e.type}):m.ZP.t("paymentMethodStrings_guided_recovery_card"):null},T=function(n,e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=I({paymentMethod:n,isCheckout:t,useShortMessage:!0});return null!=i?i:null==e?void 0:e[null==n?void 0:n.type]},b=n=>{let e=new Set;for(let t of null!=n?n:[])(null==t?void 0:t.type)&&e.add(D(t.type));return e.size};(i=r||(r={})).addPaymentMethodStripe="cx_add_payment_method_stripe",i.addPaymentMethodVGS="cx_add_payment_method_vgs";let O="critical_action",F=(0,v.y)(y.ZP),R=n=>{F({name:"cx_add_payment_method_vgs",duration:n,time:n,action_type:O})},_=n=>{F({name:"cx_add_payment_method_stripe",duration:n,time:n,action_type:O})},E=()=>(0,o.useDVSBoolean)(g.P.skipListPMAfterSetDefaultPM,!1),k=()=>(0,o.useDVSBoolean)(g.P.skipListPMAfterAddPM,!1),x=()=>(0,o.useDVSBoolean)(g.P.skipListPMAfterDeletePM,!1),M=()=>(0,o.useDVSBoolean)(g.P.enableMastercardExtendedBin,!1)},301145:function(n,e,t){t.d(e,{V:function(){return r}});var i=t(725619);let r=n=>n!==i.m0.REQUIRES_ANY_FOOD_ITEM},85948:function(n,e,t){t.d(e,{t8:function(){return r}});let i="United States",r=n=>{var e;return n?((null==n?void 0:n.country)||(null==n?void 0:null===(e=n.printableAddress)||void 0===e?void 0:e.split(",").pop())||i).trim():i};e.ZP=r},845378:function(n,e,t){t.d(e,{DH:function(){return a},H$:function(){return i},II:function(){return s},K$:function(){return d},bG:function(){return l},iP:function(){return m},oj:function(){return o},sx:function(){return u},tN:function(){return c}});let i=n=>{var e;return(null==n?void 0:null===(e=n.teamAccount)||void 0===e?void 0:e.name)||""},r=n=>(null==n?void 0:n.companyPaymentInfo)||null,a=n=>{var e;let t=r(n);return!!(null==t?void 0:null===(e=t.teamOrderInfo)||void 0===e?void 0:e.budgetId)},o=n=>{let e=!u(n),t=r(n),i=(null==t?void 0:t.teamOrderInfo)||null;return e?i:null},l=n=>{var e;let t=r(n);return(null==t?void 0:null===(e=t.maxBudgetAmount)||void 0===e?void 0:e.unitAmount)||0},u=n=>0==l(n),s=n=>{let e=l(n);return a(n)&&e>0},d=n=>{let e=r(n);return(null==e?void 0:e.budgetPayerName)||""},c=n=>{var e;let t=r(n);return(null==t?void 0:null===(e=t.teamOrderInfo)||void 0===e?void 0:e.budgetId)||""},m=n=>{var e,t;return null!==(t=null==n?void 0:null===(e=n.expenseOrderOptions)||void 0===e?void 0:e.allEligibleExpensedMealsBudgets)&&void 0!==t?t:[]}},435668:function(n,e,t){t.d(e,{KQ:function(){return l},NQ:function(){return a},Sj:function(){return o}});var i=t(45177),r=t(337088);let a=n=>{let e=(0,i.useDVSString)(r.P.dashCardDashPassPlanIds,"");return(e?e.split(",").map(n=>n.trim()):[]).includes(n)},o=()=>(0,i.useDVSBoolean)(r.P.cxWebDashCardApplicationFlowMenuEntryPoint,!1),l=()=>(0,i.useDVSBoolean)(r.P.cxWebDashCardUseRewardsPointsAppliedCache,!1)},609902:function(n,e,t){t.d(e,{Gl:function(){return P},Hj:function(){return v},NT:function(){return A},Nq:function(){return g},R3:function(){return C},VK:function(){return p},Vb:function(){return y},kz:function(){return m},y2:function(){return f}});var i=t(693981),r=t(312753),a=t(430790),o=t(589627),l=t(40570),u=t(135188),s=t(584149),d=t(572491);let c="dd_dcp",m=0,p=n=>{let e=y();return e?v(n,e)?(f(),m):e.amount||m:m},v=(n,e)=>n.cartId!==e.cartId||n.storeId!==e.storeId||n.currency!==e.currency,y=()=>r.ZP.get(c),g=n=>{r.ZP.set(c,n,2592e3)},f=()=>{r.ZP.delete(c)},h=(n,e,t)=>{let i=n;return i>e&&(i=e),i>t&&(i=t),i},C=n=>{var e;let{potentialDashPassRefundAmount:t,totalWithTipBeforeCredits:r,tips:a}=i.useContext(l.ZP),{orderCart:o}=i.useContext(u.iB),c=o.rewardBalanceAvailable,m=(null==c?void 0:null===(e=c.monetaryValue)||void 0===e?void 0:e.unitAmount)||0,p=i.useMemo(()=>{let n=new s.ZP(o),e=a.map(n=>n.value);return(0,d.vi)({accountCredits:n.applicableCredits(e),companyPay:n.companyPayTotal(e),refund:t,totalWithTipBeforeCredits:r})},[o,t,a,r]);return{amountDueWithoutPoints:p,computedDashCardPointsAmount:h(n,m,p)}},P=n=>{let e=A(),{computedDashCardPointsAmount:t}=C(n);return e&&0!==t?{rewardBalanceApplied:{unitAmount:t}}:null},A=()=>{let{isCaviar:n,isDoorDash:e}=(0,a.useExperience)(),t=(0,o.TH)(),i=(0,o.tv)(),r=((null==i?void 0:i.asPath)||(null==t?void 0:t.pathname)||"").startsWith("/consumer/checkout");return(n||e)&&r}},919852:function(n,e,t){t.d(e,{IM:function(){return a},U3:function(){return u},Zm:function(){return s},gh:function(){return l},nu:function(){return d},p4:function(){return o}});var i=t(430790),r=t(609902);let a=n=>{var e;return(null==n?void 0:null===(e=n.metadata)||void 0===e?void 0:e.isDashCard)||!1},o=()=>{let{isCaviar:n,isDoorDash:e}=(0,i.useExperience)();return n||e},l=n=>!!n.find(n=>n.isDefault&&a(n)),u=n=>n.find(n=>a(n)),s=n=>!!n&&!!u(n),d=n=>{let e=a(n),t=(0,r.NT)();return e&&t}},777238:function(n,e,t){t.d(e,{Os:function(){return u},XD:function(){return s},Xv:function(){return d}});var i=t(317905),r=t(42904);function a(){let n=(0,i._)(["\n  fragment ActionsListFragment on UIFlowAction {\n    label\n    type\n    actionDisplayType\n    actionParametersList {\n      key\n      value\n    }\n    postAction\n    postActionParametersList {\n      key\n      value\n    }\n  }\n"]);return a=function(){return n},n}function o(){let n=(0,i._)(["\n  fragment SectionsListFragment on UIFlow {\n    sectionsList {\n      type\n      contentList\n      alignment\n      action {\n        label\n        type\n      }\n    }\n  }\n"]);return o=function(){return n},n}function l(){let n=(0,i._)(["\n  fragment UiFlowScreenFragment on UIFlow {\n    screenDisplayType\n    screenIdentifier\n    allowBackNavigation\n    sectionsList {\n      type\n      contentList\n      richContentList {\n        contentList\n        formatStyleList\n        formatColor\n        formatType\n        formatAlignment\n      }\n      selectContentList {\n        selectContentId\n        contentList\n      }\n      alignment\n      action {\n        label\n        type\n        screen {\n          screenDisplayType\n          screenIdentifier\n          ...SectionsListFragment\n          actionsList {\n            ...ActionsListFragment\n            screen {\n              screenDisplayType\n              screenIdentifier\n              ...SectionsListFragment\n              actionsList {\n                ...ActionsListFragment\n              }\n            }\n          }\n        }\n        actionDisplayType\n        actionParametersList {\n          key\n          value\n        }\n        postAction\n        postActionParametersList {\n          key\n          value\n        }\n      }\n    }\n    actionsList {\n      ...ActionsListFragment\n    }\n    analytics {\n      metadataList {\n        key\n        value\n      }\n    }\n  }\n  ","\n  ","\n"]);return l=function(){return n},n}let u=(0,r.gql)(a()),s=(0,r.gql)(o()),d=(0,r.gql)(l(),u,s)},470505:function(n,e,t){var i=t(317905);t(503766);var r=t(62784);function a(){let n=(0,i._)(["\n  query getReferralSenderReward {\n    getReferralSenderReward {\n      senderRewardAmount {\n        currency\n        displayString\n        decimalPlaces\n        unitAmount\n        sign\n      }\n      errorMessage\n    }\n  }\n"]);return a=function(){return n},n}let o=(0,t(42904).gql)(a());e.ZP=()=>(0,r.a)(o)},357747:function(n,e,t){var i,r,a,o,l,u;t.d(e,{Uw:function(){return g},ao:function(){return m},cs:function(){return f},gS:function(){return a},lv:function(){return y},uB:function(){return r}}),(o=i||(i={})).DEFAULT_NOT_REQUIRED="DEFAULT_NOT_REQUIRED",o.OPTIONAL_CODE="OPTIONAL_CODE",o.ENFORCED_CODE="ENFORCED_CODE",o.ENFORCED_LIST="ENFORCED_LIST",(l=r||(r={})).CODE="EXPENSE_CODE",l.NOTE="EXPENSE_NOTE",(u=a||(a={})).TOO_LONG="Too Long",u.INVALID_SEQUENCE="Invalid sequence",u.INVALID_CHARACTER="Invalid character";let s=n=>Object.values(i).includes(n),d=["OPTIONAL_CODE","ENFORCED_CODE","ENFORCED_LIST"],c=["ENFORCED_CODE","ENFORCED_LIST"],m=n=>{var e,t;let i=null!==(t=null==n?void 0:null===(e=n.expenseOrderOptions)||void 0===e?void 0:e.expenseCodeMode)&&void 0!==t?t:"",r=s(i)?i:"DEFAULT_NOT_REQUIRED";return{expenseCodeMode:r,shouldRenderExpenseCodeField:d.includes(r)}},p=(n,e)=>(n||"").length>("EXPENSE_CODE"===e?50:250),v=n=>/([^\w\s-:,+\.@])/.test(n),y=n=>{var e;return!!c.map(n=>n.toString()).includes((null===(e=n.expenseOrderOptions)||void 0===e?void 0:e.expenseCodeMode)||"")},g=(n,e)=>!y(n)||!!e&&e.trim().length>0,f=(n,e)=>{let t=!0,i=[];return p(n,e)&&(t=!1,i.push("Too Long")),v(n)&&(t=!1,i.push("Invalid character")),((n||"").includes("javascript:")||(n||"").includes("data:"))&&(t=!1,i.push("Invalid sequence")),{isValid:t,invalidReason:i}}}}]);