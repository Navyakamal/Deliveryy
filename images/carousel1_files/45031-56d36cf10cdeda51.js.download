"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45031],{885802:function(e,t,n){n.d(t,{S:function(){return c}});var r=n(29541),s=n(693981),o=n(933707),a=n(771268),i=n(874104);let l=e=>{e.setTag("severity","crash"),e.addEventProcessor(e=>{var t;for(let n of(null===(t=e.exception)||void 0===t?void 0:t.values)||[])n.mechanism={...n.mechanism,type:"onunhandledrejection",handled:!1};return e})},c=e=>{let{children:t,track:n,fallback:c,onError:d,handleBeforeCapture_testonly:u}=e;return(0,r.jsx)(o.SV,{beforeCapture:u||l,onError:(e,t)=>{var r,s,o;r=e,s=n,/Loading chunk [\d]+ failed/.test(r.message)?s("chunk_load_error",{request:null==r?void 0:r.request,type:null==r?void 0:r.type,captureSource:"SentryErrorBoundary",severity:"crash",hasWebVitals:String(!!(null===(o=window)||void 0===o?void 0:o.vitals))}):s("capture_error_boundary_error",{errorName:null==r?void 0:r.name,errorMessage:null==r?void 0:r.message,errorStacktrace:null==r?void 0:r.stack}),d&&d(e,t)},fallback:s.isValidElement(c)?c:e=>{let{componentStack:t,error:n}=e;return"function"==typeof c?c({error:n,componentStack:t}):(0,r.jsx)(a.default,{origin:"error-boundary",errorBoundaryError:{componentStack:t,error:n},internalMessage:i.D.ErrorBoundaryError,type:i.N.ErrorBoundary})},children:t})}},119969:function(e,t,n){n.d(t,{C:function(){return o}});var r=n(430790),s=n(510888);let o=e=>e===r.Experience.Caviar?s.Themes.Caviar:{}},330005:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(29541),s=n(693981),o=n(545688),a=n(758884),i=n(510888),l=n(903359),c=n(199296);let d=(0,l.keyframes)(["from{transform:translateY(","px);opacity:0;}to{transform:translateY(0);opacity:1;}"],i.Spacing.Small),u=l.default.div.withConfig({componentId:"sc-f7505746-0"})(["position:fixed;bottom:","px;left:50vw;transform:translateX(-50%);z-index:",";"],e=>e.bottom?e.bottom:i.Spacing.Large,e=>e.zIndex?e.zIndex:c.UL),p=(0,i.withTheming)((0,l.default)(i.Inset).attrs(()=>({size:i.Spacing.Large,isSquished:!0})).withConfig({componentId:"sc-f7505746-1"})(["background:",";border-radius:","px;box-shadow:",";display:inline-flex;min-height:","px;animation:",";animation-fill-mode:both;& > *{width:100%;}width:calc(100vw - ","px);@media screen and (min-width:","px){width:max-content;}"],e=>{let{backgroundColor:t,theme:n}=e;return t||n.Colors.ToastInformationalBackground},e=>{let{theme:t}=e;return"Pill"===t.Shape.Toast?2*i.Spacing.Large:t.BorderRadius.ToastContainer},i.Shadows.Medium,i.Spacing.XxLarge,(0,l.css)([""," 300ms ease-in-out"],d),i.Spacing.XLarge,i.Breakpoints.Mobile)),m=(0,l.default)(i.Text).withConfig({componentId:"sc-f7505746-2"})(["white-space:normal;"]);var h=n(116028),g=n(889988);let f=e=>({Colors:{ButtonFlatPrimaryForeground:e.Colors.ToastInformationalAction,ButtonFlatPrimaryForegroundDisabled:e.Colors.ToastInformationalActionDisabled,ButtonFlatPrimaryForegroundHovered:e.Colors.ToastInformationalActionHovered,ButtonFlatPrimaryForegroundPressed:e.Colors.ToastInformationalActionPressed},Typography:{TextStyles:{ToastAction:e.Typography.TextStyles.ToastAction}}});var v=e=>{let{action:t,text:n,backgroundColor:o,iconName:a,onClick:l,styleOverride:c}=e,d=s.useContext(i.ThemingContext),u=void 0!==t&&void 0!==t.text&&"function"==typeof t.onClick,v=(0,g.OU)(a);return(0,r.jsx)(p,{onClick:l,backgroundColor:o,role:"alert","aria-live":"off",children:(0,r.jsxs)(i.InlineChildren,{alignItems:i.InlineChildren.Alignment.Center,justifyContent:(null==c?void 0:c.justifyContent)||i.InlineChildren.Justification.SpaceBetween,size:i.InlineChildren.Sizes.XSmall,children:[(0,r.jsx)(()=>v?(0,r.jsx)(i.Icon,{color:i.Text.Colors.ToastInformationalForeground,type:v}):null,{}),(0,r.jsx)(i.Text,{styles:i.Text.Styles.ToastBody,color:i.Text.Colors.ToastInformationalForeground,children:n}),u&&(0,r.jsx)(i.Theming,{overrides:f(d),children:(0,r.jsx)(h.default,{isInline:!0,type:h.default.Types.FlatPrimary,onClick:e=>{null==t||t.onClick(),e.stopPropagation()},padding:h.default.Padding.None,children:(0,r.jsx)(m,{color:i.Text.Colors.ButtonFlatPrimaryForeground,styles:i.Text.Styles.ToastAction,children:t.text})})})]})})},y=()=>{let{toasts:e,bottomSpacing:t}=(0,a.RG)(),n=e[e.length-1];if(n){var s,o;return(0,r.jsx)(u,{zIndex:null==n?void 0:null===(s=n.styleOverride)||void 0===s?void 0:s.zIndex,bottom:t||(null==n?void 0:null===(o=n.styleOverride)||void 0===o?void 0:o.bottom),"data-anchor-id":"AppToast",children:(0,r.jsx)(v,{...n},n.toastId)})}return null},x=n(312753),j=e=>{let{children:t}=e,n=(0,x.XR)(),[i,l]=s.useState({}),c=s.useRef(i);c.current=i;let d=s.useRef({}),[u,p]=s.useState(),m=s.useCallback(e=>{if(!c.current[e])return;let t=d.current[e];window.clearTimeout(t),delete d.current[e],l(t=>{let n={...t};return delete n[e],c.current=n,n})},[]),h=s.useCallback(e=>{let{duration:t,...n}=e,r=(0,o.l)();l({...c.current,[r]:n});let s=window.setTimeout(()=>{m(r)},t);return d.current[r]=s,r},[m]),g=s.useMemo(()=>({addToast:h,removeToast:m,toasts:Object.entries(i).map(e=>{let[t,n]=e;return{...n,toastId:t}}),bottomSpacing:u,setBottomSpacing:p}),[h,m,i,u,p]);return s.useEffect(()=>()=>{Object.values(d.current).map(window.clearTimeout)},[]),s.useEffect(()=>{let e="",t=n.get(a.Uw.isError),r=n.get(a.Uw.duration),s=n.get(a.Uw.text),o=n.get(a.Uw.iconName);return Number(r)&&!isNaN(Number(r))&&s&&o&&void 0!==t&&(e=h({isError:!!t,duration:Number(r),text:s,iconName:o}),Object.values(a.Uw).forEach(e=>{n.delete(e)})),()=>{e&&m(e)}},[h,m,n]),(0,r.jsxs)(a.ZP,{contextValues:g,children:[t,(0,r.jsx)(y,{})]})}},692462:function(e,t,n){n.d(t,{y:function(){return s}});var r=n(29541);n(693981);let s=e=>{let{key:t,ldJson:n}=e;return(0,r.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(n,o)}},t)},o=(()=>{let e=Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"}),t=t=>e[t]||t;return(e,n)=>{switch(typeof n){case"object":case"number":case"boolean":case"bigint":return n;case"string":return n.replace(/[&<>'"]/g,t);default:return}}})()},233915:function(e,t,n){n.d(t,{J6:function(){return k},_j:function(){return S}});var r=n(317905),s=n(29541),o=n(42904),a=n(261614),i=n(693981),l=n(123304),c=n(764607),d=n(933707),u=n(150129),p=n.n(u),m=n(56492),h=n(845025),g=n.n(h),f=n(312753),v=n(589627);function y(){let e=(0,r._)(["\n  query deviceAttestation {\n    deviceAttestation\n  }\n"]);return y=function(){return e},e}let x=(0,o.gql)(y()),j=()=>{let e=i.useMemo(()=>(0,f.vQ)("dd_session_id"),[]);return e?(0,s.jsx)(p(),{defer:!0,type:"text/javascript",id:"sig-api","data-order-session-id":e,src:"https://cdn-scripts.signifyd.com/api/script-tag.js"}):null},S=g()(()=>Promise.resolve(j),{ssr:!1}),w=()=>{let{asPath:e}=(0,v.tv)(),[t,n]=i.useState(!1),r=i.useMemo(()=>(0,f.vQ)("dd_device_id"),[]);return i.useEffect(()=>{if(t){var e,n;null===(n=window.RISKX)||void 0===n||n.go(null===(e=window)||void 0===e?void 0:e.location.href)}},[e,t]),r?(0,s.jsx)(p(),{src:"https://beacon.riskified.com?shop=".concat("doordash.com","&sid=").concat(r),id:"riskified-js",strategy:"afterInteractive",onReady:()=>{n(!0)}}):null},b=g()(()=>Promise.resolve(w),{ssr:!1}),E=e=>{let{deviceSessionId:t,userId:n}=e,r=(0,a.x)();return{setupDeviceAttestation:i.useCallback(async()=>{let e=window._sift=window._sift||[];e.push(["_setAccount",m.Z.siftAccountDFP]),e.push(["_setTrackerUrl",m.Z.siftJavascriptDomain]),n&&e.push(["_setUserId",n]),e.push(["_setSessionId",t]),e.push(["_trackPageview"]),await r.query({query:x})},[r,t,n])}},T=e=>{let{setupDeviceAttestation:t}=E(e);return i.useEffect(()=>{t().catch(e=>{(0,l.Tb)(e,{level:c.z.Warning})})},[t]),null},C=e=>{let[t,n]=i.useState(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p(),{src:m.Z.siftJavascriptScriptUrl,id:m.Z.siftJavascriptScriptId,strategy:"afterInteractive",onReady:()=>{n(!0)}}),t?(0,s.jsx)(T,{...e}):null]})},k=e=>(0,s.jsxs)(d.SV,{showDialog:!1,beforeCapture:e=>{e.setTag("component","FraudRiskTracking")},children:[(0,s.jsx)(C,{...e}),(0,s.jsx)(b,{})]})},952396:function(e,t,n){var r,s;n.d(t,{Y:function(){return r}}),(s=r||(r={})).crash="crash",s.success="success",s.degraded="degraded",s.notfound="not-found",s.handledError="handled-error"},145031:function(e,t,n){n.d(t,{I:function(){return eS}});var r,s,o=n(29541),a=n(693981),i=n(845025),l=n.n(i),c=n(963964),d=n.n(c),u=n(261496),p=n(430790),m=n(766639),h=n(330005),g=n(551470),f=n(461685),v=n(312753);let y=e=>{if(!document.getElementById("segment")){let t=document.createElement("script");t.id="segment",t.type="text/javascript",t.text='!function(){if(window.Cypress){console.log(\'skipping segment for cypress\'); return;}var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";analytics.load("'.concat(e,'");analytics.page();}}();'),document.head.appendChild(t)}},x=e=>{var t;if(void 0===(null===(t=window)||void 0===t?void 0:t.Cypress)&&!document.getElementById("gtm")){let t=document.createElement("script");t.id="gtm",t.type="text/javascript",t.text="\n      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n      'https://www.googletagmanager.com/gtm.js?id='+i+dl;var n=d.querySelector('[nonce]');\n      n&&j.setAttribute('nonce',n.nonce||n.getAttribute('nonce'));f.parentNode.insertBefore(j,f);\n      })(window,document,'script','dataLayer','".concat(e,"');\n    "),document.head.appendChild(t)}};var j=n(298296);function S(e){if(e.hasConsent()){e.injectNonEssentialScripts();return}document.addEventListener("CassieSubmittedConsent",()=>{e.hasConsent()&&e.injectNonEssentialScripts()})}async function w(e,t){return e===p.Experience.Storefront?{hasConsent:()=>"true"===(0,v.vQ)(j.E.sf_non_essential_opt_in),injectNonEssentialScripts:()=>b(t)}:e===p.Experience.DoorDash?{hasConsent:()=>"true"===(0,v.vQ)(j.E.dd_non_essential_opt_in),injectNonEssentialScripts:()=>E(t)}:{hasConsent:()=>!1,injectNonEssentialScripts:()=>{}}}let b=e=>{if(null==e?void 0:e.enableSegment){var t;null===(t=(0,g.ER)(p.Experience.Storefront))||void 0===t||t.setConsent(!0),(null==e?void 0:e.SEGMENT_KEY)&&y(String(null==e?void 0:e.SEGMENT_KEY))}(null==e?void 0:e.enableGTM)&&(null==e?void 0:e.GTM_KEY)&&x(String(null==e?void 0:e.GTM_KEY))},E=e=>{var t;null===(t=(0,g.ER)(p.Experience.DoorDash))||void 0===t||t.setConsent(!0),(null==e?void 0:e.SEGMENT_KEY)&&y(String(null==e?void 0:e.SEGMENT_KEY))};var T=(e,t,n)=>(e&&w(t,n).then(S),null);function C(e){let{experience:t,GDPRData:n}=e;return a.useEffect(()=>{(null==n?void 0:n.enableGDPRConsent)&&T(n.enableGDPRConsent,t,n),(0,g.kO)(void 0,(null==n?void 0:n.enableGDPRConsent)||!1,t)},[t,n]),(0,o.jsx)("div",{"data-gdpr-enabled":null==n?void 0:n.enableGDPRConsent})}var k=n(109658);n(990286);var _=n(657375);let P={All:!0,S2S:!1,Firebase:!1,"Google Tag Manager":!1,Optimizely:!1,Adjust:!1,"Impact Partnership Cloud":!1,"Twitter Ads":!1,"Amazon Kinesis Firehose":!1,"TV Squared":!1,iSpot:!1,"Google Ads Conversions":!1,HiTouch:!1,ActionIQ:!1,LiveRamp:!1},I=e=>{if(!e)return{integrations:P};let t=e.consentType,n=e.consent;return"ccpa"!==t||!0===n?{integrations:{}}:{integrations:P}},N=e=>{var t;let{experience:n=p.Experience.DoorDash,trackingConsent:r}=e,{integrations:s}=I(r);(0,_.e)(null!==(t=r.consent)&&void 0!==t&&t,null!=s?s:{},n);let a="".concat(r.consent?"segment-telemetry":"segment-telemetry-ccpa");return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{id:a})})},R=e=>{var t;let{experience:n,gdprData:r,trackingConsent:s}=e;return(null===(t=(0,g.ER)(n))||void 0===t||t.setConsent(!0),"gdpr"!==s.consentType&&!0===s.consent||"ccpa"===s.consentType&&!1===s.consent||"gdpr"===s.consentType&&n===p.Experience.Storefront)?(0,o.jsx)(N,{experience:n,trackingConsent:s}):"gdpr"===s.consentType?(0,o.jsxs)(a.Fragment,{children:[function(e,t){let n={scriptSrc:"https://cscript-cdn-use.cassiecloud.com/loader.js",scriptSettings:{widgetProfileId:4,languageCode:e,licenseKey:t===p.Experience.Storefront?k.h.cassieKeyProdStorefront:k.h.cassieKeyProd,region:"use",environment:"production"}};return[(0,o.jsx)("script",{"data-testid":"cassie-loader",src:n.scriptSrc},"cassie-loader"),(0,o.jsx)("script",{"data-testid":"cassie-instantiator",dangerouslySetInnerHTML:{__html:"var cassieSettings = ".concat(JSON.stringify(n.scriptSettings),";\n            window.CassieWidgetLoader = new CassieWidgetLoaderModule(cassieSettings);")}},"cassie-instantiator"),(0,o.jsx)("link",{rel:"stylesheet",type:"text/css",href:"https://img.cdn4dd.com/s/managed/stylesheets/gdpr-cookie-banner/custom-style-common.css"},"cassie-style1"),(0,o.jsx)("link",{rel:"stylesheet",type:"text/css",href:"https://img.cdn4dd.com/s/managed/stylesheets/gdpr-cookie-banner/doordash-banner-style-override.css"},"cassie-style2")]}(r.gdprLanguage,n),(0,o.jsx)(C,{experience:n,GDPRData:r})]}):(0,o.jsx)("div",{"data-non-essential-scripts-enabled":s.consent})};var D=n(661333),F=n(888877),B=n(465244),A=n(510888),M=n(119969);let O=e=>{let{experience:t,children:n}=e;return(0,o.jsx)(A.Theming,{overrides:(0,M.C)(t),children:n})};var G=n(952396),L=n(415421),Z=n(105843),z=n(885802),U=n(128669),Y=n(496758),K=n(884866),q=n(123347);let J=(e,t)=>{var n,r,s,o;let{setConsumerId:i,setIsGuest:l}=(0,f.bp)(),c=null!==(o=null==t?void 0:null===(n=t.consumer)||void 0===n?void 0:n.id)&&void 0!==o?o:"",d=!!(null==t?void 0:null===(r=t.consumer)||void 0===r?void 0:r.isGuest),u=null==t?void 0:null===(s=t.consumer)||void 0===s?void 0:s.hasCompletedFirstOrder;v.ZP.set("consumerId",c),v.ZP.set("isGuest",d?"true":"false"),v.ZP.set("experience",e),a.useEffect(()=>{i(c),l(d),null!=u&&v.ZP.set("hasCompletedFirstOrder",u.toString())},[c,d,u,i,l,e])};var W=n(694010),V=n(143493),H=n(233915),X=n(75821),Q=n(902871),$=n(910170),ee=n(152937),et=n(35371),en=n(902245),er=n(874104),es=n(59825),eo=n(25593),ea=n(248243),ei=n(741536),el=n(45177),ec=n(337088);let ed=()=>(0,el.useDVSBoolean)(ec.P.enableAppclipCard,!1),eu=e=>{let{enableSmartAppBanner:t,experience:n,isMobile:r}=e,s=(0,ea.DK)(ei.N.APP,ea.cj.SmartAppBanner),a=n===p.Experience.DoorDash&&r&&t,i=ed(),l=n===p.Experience.DoorDash&&r&&i;return((0,U.ZP)("smart_app_banner_experiment",{includeSmartAppBannerMetaData:a,isMobile:r,enableSmartAppBanner:t}),a||l)?l?(0,o.jsx)(d(),{children:(0,o.jsx)("meta",{name:"apple-itunes-app",content:"app-id=719972451, app-clip-bundle-id=doordash.DoorDashConsumer.Clip, app-clip-display=card"})}):(0,o.jsx)(d(),{children:(0,o.jsx)("meta",{name:"apple-itunes-app",content:"app-id=719972451, app-argument=".concat(s)})}):null};(r=s||(s={})).Google="www.google.com",r.RecaptchaNet="www.recaptcha.net";class ep{get key(){return this._key}async loadRecaptcha(){try{return await this.loadRecaptchaFromSrc()}catch(e){return this._result=void 0,this.loadRecaptchaFromSrc("www.recaptcha.net")}}async loadRecaptchaFromSrc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"www.google.com",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._timeout;if(this._result)return this._result;let n=document.createElement("script");return n.src="https://".concat(e,"/recaptcha/api.js?render=").concat(this.key),n.async=!0,document.head.append(n),this._result=new Promise((e,r)=>{n.onload=()=>{let t=window.grecaptcha;t?t.ready(()=>{let n=document.createElement("style");n.innerHTML=".grecaptcha-badge { visibility: hidden; }",document.head.appendChild(n),e(t)}):r(Error("Script loaded but recaptcha did not initialize"))},n.onerror=()=>r(Error("Recaptcha script failed to load")),setTimeout(()=>r(Error("Failed to load recaptcha script before timeout")),t)}),this._result}constructor(e,t=1e4){this._key=e,this._timeout=t}}var em=n(123304),eh=n(764607),eg=n(478343),ef=n(919549),ev=n(425582),ey=n(692462),ex=n(730718);let ej=l()(()=>n.e(46446).then(n.bind(n,546446)),{loadableGenerated:{webpack:()=>[546446]},ssr:!1}),eS=e=>{let{children:t,serverSidePropsResult:n,successScaffoldProps:r,themeProvider:s,errorBoundaryFallback:i,errorBoundaryOnError:l,renderServerError:c}=e,{API_GATEWAY_URL:m,isTestTenancy:v,language:y,env:x,experience:j,originalUrl:S,gdprData:w,initialApolloState:b,initialReactQueryState:E,isMobileServerSide:T,trackingConsent:C,uriToBeBlockedOnSSR:k,isOnVPN:_,ipRegion:P,dvsHash:I,dvsEvaluationCache:N,deviceId:F,additionalDVContext:B,submarketId:A,pageType:M,platformDvs:Z,identitySettings:Y,requestOrigin:K,ssrEnvironment:J,podName:W,crawlerInfo:H,unifiedTelemetryProps:eo,cell:ea,apiKeys:ei,deviceType:el}=n.ssrPageProps;a.useEffect(()=>{(0,g.kO)(C,w.enableGDPRConsent||!1,j),(0,X.WX)(),(0,Q.ZP)(M)});let ec={isSSR:!0,environment:x.NODE_ENV,locale:y,trackingConsent:C,isMobileServerSide:T,isOnVPN:_,ipRegion:P,dd_device_id:F,dd_submarket_id:A,ssrEnvironment:J,podName:W,cell:ea,crawlerInfo:H,ssrDeviceType:el},ed=a.useRef((null==ei?void 0:ei.recaptchaKey)?new ep(ei.recaptchaKey):void 0);(0,ev.y)()||(window.dd_disable_web_pixels=Z.disableWebPixels);let eu=(0,o.jsx)(ej,{origin:"ssr-scaffold",internalMessage:er.D.UncategorizedNextJSError,type:er.N.NextServerSideProps});n.resultStatus===G.Y.success?eu=(0,o.jsx)(ew,{baseResources:n.baseResources,ssrPageProps:n.ssrPageProps,recaptchaLoader:ed.current,...r({baseResources:n.baseResources,pageProps:n.pageProps}),children:"function"==typeof t?t({baseResources:n.baseResources,pageProps:n.pageProps}):t}):n.resultStatus===G.Y.crash?eu=void 0!==c?c(n.error):(0,o.jsx)(ej,{origin:"ssr-scaffold",internalMessage:er.D.UncategorizedNextJSError,type:er.N.NextServerSideProps,errorBoundaryError:{error:n.error,componentStack:null}}):n.resultStatus===G.Y.notfound&&(eu=(0,o.jsx)(ej,{origin:"ssr-scaffold",internalMessage:er.D.GenericNotFoundError,type:er.N.NextServerSideProps}));let em=a.useMemo(()=>(0,$.r)(),[]),eh=n.pageType||M;return(0,o.jsx)(ef.Yo,{nextJsRouter:ef.wA.PAGE,children:(0,o.jsx)(u.e,{client:(0,q.in)({initialState:b,experience:j,language:y,cookies:"",uri:m,pageUrl:S,uriToBeBlockedOnSSR:k,recaptchaLoader:null==ed?void 0:ed.current,allowedRecaptchaOperations:Z.allowedRecaptchaOperations}),children:(0,o.jsx)(f.ZP,{initialProps:{...ec},children:(0,o.jsx)(ex.w,{isTestTenancy:v,children:(0,o.jsx)($.v,{client:em,dehydratedState:E,children:(0,o.jsx)(ee.M1,{name:(0,et.Uc)(eh),trackingExtraData:{isBot:H.isBotDetectedByCloudFlare,isCrawler:H.isCrawler},children:(0,o.jsxs)(L.T3,{pageType:M,isError:n.resultStatus!==G.Y.success,children:[(0,o.jsxs)(d(),{children:[(0,o.jsx)("meta",{name:"application-name",content:j,"data-tracking-consent-value":C.consent,"data-tracking-consent-type":C.consentType,"data-iguazu-entity-id":(0,eg.B)(j)},"application-name"),(0,o.jsx)("meta",{name:"dd_locale",content:y},"locale-meta"),(0,D.Z)(j),(()=>{if(n.resultStatus===G.Y.success){let{preloadImages:e}=r({baseResources:n.baseResources,pageProps:n.pageProps});if(e)return e.map(e=>(0,o.jsx)("link",{rel:"preload",as:"image",href:e},e))}return null})(),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("link",{rel:"preload",href:"https://typography.doordash.com/TTNorms-Regular.woff2",as:"font",type:"font/woff2",crossOrigin:"anonymous"}),(0,o.jsx)("link",{rel:"preload",href:"https://typography.doordash.com/TTNorms-Medium.woff2",as:"font",type:"font/woff2",crossOrigin:"anonymous"}),(0,o.jsx)("link",{rel:"preload",href:"https://typography.doordash.com/TTNorms-Bold.woff2",as:"font",type:"font/woff2",crossOrigin:"anonymous"}),(0,o.jsx)("link",{rel:"preload",href:"https://typography.doordash.com/TTNorms-ExtraBold.woff2",as:"font",type:"font/woff2",crossOrigin:"anonymous"})]})]}),(0,o.jsx)(h.Z,{children:(0,o.jsxs)(es.ZP,{identitySettings:Y,serverRequestOrigin:K,children:[(0,o.jsx)("div",{"data-dd-locale":y}),(0,o.jsx)(R,{experience:j,gdprData:w,trackingConsent:C}),(0,o.jsx)(z.S,{track:U.ZP,fallback:i,onError:l,children:(0,o.jsx)(p.ExperienceRouter,{experience:j,children:(0,o.jsx)(s||O,{experience:j,children:(0,o.jsx)(V.J,{additionalDVContext:B,dvsHash:I,dvsEvaluationCache:N,deviceId:F,children:(0,o.jsx)(en.Z,{unifiedTelemetryProps:eo,children:eu})})})})})]})})]})})})})})})})},ew=e=>{let{children:t,ssrPageProps:n,baseResources:r,pageTitle:s,pageDescription:i,alternateUrl:l,ldJSON:c,languageMetaConfig:u,hideFromSearchEngineBots:p=!1,renderBeforeLayerManager:h=e=>e,ogMetadata:g,headTags:f,recaptchaLoader:v}=e,{experience:y,originalUrl:x,routeLocale:j,language:S,pageType:w,platformDvs:{enableSmartAppBanner:b}}=n;return a.useEffect(()=>{null==v||v.loadRecaptcha().catch(e=>{(0,em.Tb)(e,{level:eh.z.Warning})})},[v]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(d(),{children:[(0,o.jsx)("title",{children:(0,F.SH)(s)}),(0,o.jsx)("meta",{name:"description",content:(0,F.SH)(i||s)}),void 0!==f?f:null,function(e){let{ogTitle:t,ogImage:n,ogSiteName:r,ogType:s,ogDescription:a,ogUrl:i}=null!=e?e:{};return(0,o.jsxs)(o.Fragment,{children:[!!t&&(0,o.jsx)("meta",{property:"og:title",content:null==e?void 0:e.ogTitle}),!!n&&(0,o.jsx)("meta",{property:"og:image",content:null==e?void 0:e.ogImage}),!!r&&(0,o.jsx)("meta",{property:"og:site_name",content:null==e?void 0:e.ogSiteName}),!!s&&(0,o.jsx)("meta",{property:"og:type",content:null==e?void 0:e.ogType}),!!a&&(0,o.jsx)("meta",{property:"og:description",content:null==e?void 0:e.ogDescription}),!!i&&(0,o.jsx)("meta",{property:"og:url",content:null==e?void 0:e.ogUrl})]})}(g),p&&(0,o.jsx)("meta",{name:"robots",content:"noindex"}),u&&(0,B.Z)(null!=l?l:x,j,u,y),c&&(0,ey.y)({key:"ld-json-ssr-scaffold",ldJson:c}),(0,W.pF)({language:S,pageType:w,experience:y})]}),(0,o.jsx)(eu,{experience:y,isMobile:n.deviceType.isMobile,enableSmartAppBanner:b}),(0,o.jsx)(Z.default,{children:()=>(0,o.jsx)("main",{children:(0,o.jsx)(Y.XN,{children:h((0,o.jsx)(m.default,{children:(0,o.jsx)(eb,{baseResources:r,ssrPageProps:n,children:t})}))})})})]})},eb=e=>{let{baseResources:t,ssrPageProps:n,children:r}=e;return J(n.experience,t.consumer),(0,o.jsxs)(o.Fragment,{children:[r,(0,o.jsx)(H.J6,{deviceSessionId:n.deviceSessionId,userId:t.consumer.consumer.userId}),(0,o.jsx)(eo.p,{consumer:t.consumer.consumer,deviceId:n.deviceId,gqlInformation:n.gqlInformation}),(0,o.jsx)(K.Z,{consumer:t.consumer.consumer})]})}},465244:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(902306),s=n(261972),o=n(29541);n(693981);var a=n(513013),i=n(888877);let l=function(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return t.map(t=>{let r=(0,a.Z2)(e,t);return(0,o.jsx)("link",{rel:"alternate",hrefLang:t,href:n?(0,i.mi)(r):(0,i.n4)(r)},"hreflang-".concat(t))})},c=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,a.eW)(e);return(0,o.jsx)("link",{rel:"alternate",hrefLang:"x-default",href:t?(0,i.mi)(n):(0,i.n4)(n)},"x-default")};var d=n(430790);let u=Object.values(r.RF).map(e=>e.code),p=Object.values(r.dk).map(e=>e.code),m=e=>{let t=(0,a.Wl)(e),n=u.filter(e=>t===(0,a.Wl)(e));return n.length>1?n:[]};var h=(e,t,n,r)=>{let o=(e=>{switch(e){case"all-locale":return r===d.Experience.Caviar?p:u;case"by-country":return m(t);default:return[]}})(n.hreflang),a=[];return n.canonical&&a.push((0,s.f)(e,t,n.canonicalWithTrailingSlash)),o.length&&l(e,o,n.hreflangWithTrailingSlash).forEach(e=>a.push(e)),n.xDefault&&a.push(c(e,n.xDefaultWithTrailingSlash)),a}}}]);