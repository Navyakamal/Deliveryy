"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[58706],{185218:function(e,n,t){t.d(n,{A:function(){return a},K:function(){return l}});var r=t(317905),i=t(62784);function o(){let e=(0,r._)(["\n  query getOpenCartsCount($input: GetOpenCartsCountInput!) {\n    getOpenCartsCount(input: $input)\n  }\n"]);return o=function(){return e},e}let l=(0,t(42904).gql)(o()),a=(e,n)=>(0,i.a)(l,{variables:{...e},...n})},393133:function(e,n,t){t.d(n,{Q:function(){return s},r:function(){return u}});var r=t(317905),i=t(62784),o=t(42904),l=t(355664);function a(){let e=(0,r._)(["\n  query listDetailedCarts($input: ListDetailedCartsInput!) {\n    listDetailedCarts(input: $input) {\n      maxOpenCartsLimitReached\n      detailedCarts {\n        cart {\n          ...ConsumerOrderCartFragment\n          # adding createdAt here instead of above fragment since it is only needed for open carts tracking\n          createdAt\n        }\n        badges {\n          text\n          backgroundColor\n          type\n          styleType\n          dlsTagSize\n          placement\n          leadingIcon\n          leadingIconSize\n          trailingIcon\n          trailingIconSize\n          endTime\n        }\n        storeInfo {\n          name\n          imageUrl\n          isDashpassEligible\n          address {\n            printableAddress\n            countryShortname\n          }\n        }\n        bundleStoreInfoList {\n          name\n          imageUrl\n          isDashpassEligible\n          address {\n            printableAddress\n            countryShortname\n          }\n        }\n        expirationDetails {\n          isExpiringSoon\n        }\n      }\n    }\n  }\n  ","\n"]);return a=function(){return e},e}let u=(0,o.gql)(a(),l.h6),s=(e,n)=>(0,i.a)(u,{variables:{...e},...n})},940818:function(e,n,t){t.d(n,{AS:function(){return p},Id:function(){return f},PC:function(){return d},XK:function(){return m},Xu:function(){return h},a3:function(){return g},ai:function(){return v},ym:function(){return c}});var r=t(228642),i=t(123304),o=t(764607),l=t(93064),a=t.n(l),u=t(312753),s=t(723731);let d=e=>{try{let n=document.referrer;if(!n||e.groupCart||!e.restaurant)return!1;return!!n.match("store/.*-".concat(e.restaurant.id,"/"))}catch(e){}return!1},c=e=>{var n,t,i,o;let l=null!==(i=null==e?void 0:null===(n=e.restaurant)||void 0===n?void 0:n.id)&&void 0!==i?i:"",a=null!==(o=null==e?void 0:null===(t=e.restaurant)||void 0===t?void 0:t.slug)&&void 0!==o?o:"",u="".concat(a,"-").concat(l);return e.groupCart?(0,r.LT)(r.ZP.groupCart,{id:e.urlCode||e.id||""}):(0,r.LT)(r.ZP.menu,{slugId:u})},f=e=>{let{orderId:n,isStorefront:t,userResumed:i,isDoubleDash:o}=e,l=t?(0,r.LT)(r.jY.storefrontOrderSuccess,{cartId:n}):(0,s.GC)(n,i);o&&(l=r.ZP.orders),window.location.assign(l)},p=(e,n)=>{(0,i.eN)({message:"order cart unknown error",level:o.z.Error,tags:{experience:e,orderId:n}})},m=(e,n,t)=>{(0,i.eN)({message:"order cart already submitted",level:o.z.Error,tags:{cartId:e,experience:n,orderId:t}})},_="orders_map",v=()=>{let e=u.ZP.get(_);try{let n=JSON.parse(e);if(!a()(n))return{};return n}catch(e){return{}}},g=e=>{let n=JSON.stringify(e);u.ZP.set(_,n,2592e3)},h=e=>e.replace(/[^a-z0-9]*([a-z0-9])([a-z0-9]*)/gi,(e,n,t)=>n.toUpperCase()+t.toLowerCase()+"")},723731:function(e,n,t){t.d(n,{GC:function(){return p},G_:function(){return m},Gh:function(){return h},MT:function(){return f},Mr:function(){return c},Qu:function(){return v},Y1:function(){return _},Z3:function(){return g},Zb:function(){return d},_V:function(){return s},bG:function(){return o}});var r,i,o,l,a=t(423188),u=t(228642);(r=o||(o={}))[r.PENDING=0]="PENDING",r[r.SUCCESSFUL=1]="SUCCESSFUL",r[r.FAILED=2]="FAILED",r[r.UNKNOWN=3]="UNKNOWN",r[r.NOT_FOUND=4]="NOT_FOUND",(i=l||(l={})).CARD_VERIFY_REQUIRED="card_verify_required",i.PAYMENT_CARD_NOT_VERIFIED="payment_card_not_verified",i.SECOND_CARD_VERIFY="second_card_verify",i.STRIPE_NETWORK_CARD_SCAN_REQUIRED="stripe_network_card_scan_required",i.THREE_D_CHALLENGE="request_three_d_secure",i.THREE_D_CHALLENGE_M2="request_three_d_secure_m2",i.ACCOUNT_PAUSED="account_paused",i.CARD_PAUSED="card_paused";let s=e=>{var n;return(null!==(n=null==e?void 0:e.failedParticipants)&&void 0!==n?n:[]).length>0},d=e=>{var n;return(null!==(n=null==e?void 0:e.failedParticipants)&&void 0!==n?n:[]).map(e=>{var n,t;return null!==(t=null==e?void 0:null===(n=e.localizedName)||void 0===n?void 0:n.fullPrivatizedName)&&void 0!==t?t:""})},c=e=>e&&2===e.paymentStatus,f=e=>e&&1===e.paymentStatus,p=(e,n)=>(0,u.LT)(u.jY.postCheckout,{orderCartId:e},{userResumed:n||!1}),m=e=>(null==e?void 0:e.errorType)||"",_=e=>!!(e&&("card_verify_required"===e.errorType||"payment_card_not_verified"===e.errorType||"second_card_verify"===e.errorType||"stripe_network_card_scan_required"===e.errorType)),v=e=>!!(e&&("request_three_d_secure"===e.errorType||"request_three_d_secure_m2"===e.errorType)),g=e=>(null==e?void 0:e.errorMessage)||a.ZP.t("orderServiceForm_paymentFailedError"),h=e=>"account_paused"===e||"card_paused"===e},170439:function(e,n,t){t.r(n),t.d(n,{AccountDetailsSection:function(){return u},Entry:function(){return i}});var r,i,o=t(29541),l=t(693981),a=t(13811);(r=i||(i={})).MODAL="modal",r.NON_MODAL="non_modal";let u=e=>{let{navigateToSignUp:n=!1,closeLoginModal:t,entry:r}=e,{isGuest:i,loading:u,handlePostMessage:s,iframeRef:d,frameUrl:c,iframeHeight:f}=(0,a.J)(n,"modal"===r,t);return(0,l.useEffect)(()=>(i&&window.addEventListener("message",s),()=>window.removeEventListener("message",s)),[i,u]),i&&!u?(0,o.jsx)("iframe",{width:"100%",title:"Login/Signup",src:c,ref:d,height:f,style:{border:"unset",display:"block"}}):null};n.default=u},394344:function(e,n,t){var r=t(29541),i=t(587225),o=t(693981),l=t(170439),a=t(867015),u=t(423188),s=t(128669),d=t(577917);n.Z=e=>{let{setShowSignInSignUpModal:n,onClose:t,showSignUpView:c=!1}=e,{useGuidedLayout:f}=(0,a.m)(),[p,m]=(0,o.useState)(!0),_=(0,o.useCallback)(()=>{m(!1)},[m]),v=(0,o.useCallback)(()=>{(0,s.ZP)("signin_modal_closed"),n(!1),t()},[n,t]);return((0,o.useEffect)(()=>{!p&&f&&v()},[p,f,v]),f)?p?(0,r.jsx)(i.Modal,{"data-testid":d.GO.loginModalGuided,shouldCloseOnEscapePress:!0,shouldCloseOnOverlayClick:!0,hasContentPadding:!1,hasHeaderPadding:!1,hasCloseButton:!1,shouldRenderStickyHeader:!1,onClose:_,children:(0,r.jsx)(l.default,{navigateToSignUp:c,closeLoginModal:_,entry:l.Entry.MODAL})}):null:(0,r.jsx)(i.Modal,{"data-testid":d.GO.loginModal,hasContentPadding:!1,hasHeaderPadding:!0,hasCloseButton:!0,onClose:v,title:u.ZP.t("layoutStrings_header_signin_signup"),children:(0,r.jsx)(l.default,{navigateToSignUp:c,entry:l.Entry.MODAL,closeLoginModal:v})})}},13811:function(e,n,t){t.d(n,{J:function(){return m}});var r,i,o,l,a=t(693981),u=t(105843),s=t(128669),d=t(867015),c=t(298296),f=t(461685),p=t(59825);(r=o||(o={})).SOCIAL="social",r.EXIT="exit",r.SUCCESS="success",r.HEIGHT="height",r.FAILED="failed",r.SEND_HEIGHT="sendHeight",r.SUCCESS_POST_LOGIN="successPostLogin",r.SUCCESS_POST_SIGNUP="successPostSignup",r.FAILED_POST_LOGIN="failedPostLogin",r.CLOSE_MODAL="closeModal",(i=l||(l={})).LOGIN="login",i.SIGNUP="signup";let m=(e,n,t,r)=>{let{clientCookies:i}=(0,f.bp)(),{useGuidedLayout:o,queryParms:l={}}=(0,d.m)();n&&(l.is_iframe_modal=!0);let{consumer:m,loading:_}=(0,u.useConsumerQuery)(),v=(0,a.useRef)(),g=(0,a.useRef)(null),[h,S]=(0,a.useState)("500px"),{isGuest:y}=m,{getLoginUrl:E,getLogoutUrl:C}=(0,p.Yq)(),I=(0,a.useCallback)(e=>{let n=window.screen.width/2-225,t=window.screen.height/2-365;v.current&&!v.current.closed?v.current.location.replace(e):v.current=window.open(e,"window","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=".concat(450,",height=").concat(730,",top=").concat(t,", left=").concat(n))},[]),x=(0,a.useCallback)(e=>{if(/^react-devtools/gi.test(e.data.source))return;let n=e=>{if(window.removeEventListener("message",x),v&&v.current){var n;(0,s.ZP)("checkout_social_post_".concat(e,"_success")),null===(n=v.current)||void 0===n||n.close()}else(0,s.ZP)("checkout_post_".concat(e,"_success"));null==t||t(),r?window.location.href=r:window.location.reload()};if(e.origin.includes("https://identity.doordash.com")||e.origin.includes("https://www.doordash.com")||e.origin.includes("https://www.trycaviar.com")||e.origin.includes("https://qa.trycaviar.com")||e.origin.includes("https://www.qa.trycaviar.com")||e.origin.includes("https://www.doordashtest.com")||e.origin.includes("https://www.identity-service.doorcrawl.com")||e.origin.includes("https://www.page-service.doordash.com")||e.origin.includes("https://www.page-service-qa.doordash.com")||e.origin.includes("https://page-service-qa.doordash.com")||e.origin.includes("https://identity-service.doorcrawl.com")){let r=null==e?void 0:e.data;if(null==r?void 0:r.action){var o,l,a,u,d,f,p;switch(null==r?void 0:r.action){case"social":I(r.socialLink);break;case"exit":null===(o=v.current)||void 0===o||o.close();break;case"successPostLogin":n("login");break;case"successPostSignup":let e=new Date;e.setFullYear(e.getFullYear()+1),i.set(c.E.new_user_signup,!0,{expires:e}),n("signup");break;case"success":v&&v.current?((0,s.ZP)("checkout_social_iframe_login_success"),null===(l=v.current)||void 0===l||l.close()):(0,s.ZP)("checkout_iframe_login_success"),null==t||t();break;case"height":(0,s.ZP)("checkout_iframe_height"),g.current&&S(r.height+"px");break;case"sendHeight":null===(d=g.current)||void 0===d||null===(u=d.contentWindow)||void 0===u||null===(a=u.postMessage)||void 0===a||a.call(u,{action:"VIEWPORT_HEIGHT",height:window.innerHeight},"*");break;case"closeModal":null==t||t();break;case"failedPostLogin":(0,s.ZP)("checkout_account_post_login_failed"),(0,s.ZP)("signin_modal_closed"),null==v||null===(f=v.current)||void 0===f||f.close(),fetch(C(),{redirect:"manual"});break;case"failed":(0,s.ZP)("checkout_account_login_failed"),null==v||null===(p=v.current)||void 0===p||p.close()}}}},[I,t,r,i,C]);return{isGuest:y,loading:_,handlePostMessage:x,handleSocialLoginPopup:I,iframeRef:g,frameUrl:E({applyDefaultSettings:!0,settings:{layout:o?"guided_consumer_web_iframe":"identity_web_iframe",scope:"*",prompt:"none",responseType:"code"},additionalParams:l,navigateToSignUp:e,redirectBackAfterLogIn:!0}),iframeHeight:h}}},764411:function(e,n,t){var r=t(693981),i=t(128669),o=t(461685),l=t(430790);let a=["www.doordashtest.com"];n.Z=e=>{let{isDoorDash:n}=(0,l.useExperience)(),{clientCookies:t}=(0,o.bp)(),u="true"===t.get("dx_login_in_modal_enabled_override"),[s,d]=(0,r.useState)(!1),[c,f]=(0,r.useState)(!1),p=(0,r.useCallback)(()=>d(!1),[]),m=(0,r.useCallback)(()=>{(0,i.ZP)("signin_modal_opened",{use_case:e||""}),d(!0)},[e]);return!u&&a.includes(window.location.host)?{showLoginInModalExpEnabled:!1,showSignInSignUpModal:!1,setShowSignInSignUpModal:d,showSignUpView:c,setShowSignUpView:f,hideSignInSignUpModal:p,onIdentityLinkClick:m}:{showLoginInModalExpEnabled:n||u,showSignInSignUpModal:s,setShowSignInSignUpModal:d,showSignUpView:c,setShowSignUpView:f,hideSignInSignUpModal:p,onIdentityLinkClick:m}}},867015:function(e,n,t){t.d(n,{m:function(){return o}});var r=t(45177),i=t(337088);let o=()=>({useGuidedLayout:"treatment"===(0,r.useDVSString)(i.P.guidedWebLookupLogin,"control")})},951801:function(e,n,t){t.d(n,{i:function(){return o}});var r=t(725619);let i=()=>!!window&&window.location.href.includes("/doubledash"),o=e=>{let{isBundle:n}=e;return i()?r.v5.BUNDLE_TYPE_POST_CHECKOUT:n?r.v5.BUNDLE_TYPE_ALCOHOL_MENU_BUNDLE:null}},208972:function(e,n,t){t.d(n,{X2:function(){return a},yj:function(){return s}});var r=t(184799),i=t.n(r),o=t(604340);t(693981);var l=t(589627);let a=(e,n)=>{let t=(location.search?o.parse(location.search):{}).next;return e.push("string"==typeof t&&t||n)},u=(e,n,t)=>{let{parseOptions:r,stringifyOptions:l}=null!=t?t:{},a=n.search?o.parse(n.search,r):{};return{router:e,removeSearchParam:t=>{let r=n.pathname,u=i()(a,t);Object.keys(u).length&&(r+="?".concat(o.stringify(u,l))),e.replace(r)},location:{...n,searchParams:a}}};n.ZP=e=>{let{children:n}=e;return n({...u((0,l.tv)(),(0,l.TH)())})};let s=e=>u((0,l.tv)(),(0,l.TH)(),e)},802695:function(e,n,t){t.d(n,{bl:function(){return p},sn:function(){return f},NH:function(){return m},BY:function(){return _},JW:function(){return v}});var r,i,o=t(45177),l=t(337088);let a=e=>{let n=(0,o.useDVSString)(l.P.shipAnywhereIosLaunch,"");return(n?n.split(",").map(e=>e.trim()):[]).includes(e.storeId)};(r=i||(i={})).CONTROL="control",r.TREATMENT_OPTIONS_FIRST="treatment_options_first",r.TREATMENT_DETAILS_FIRST="treatment_details_first";let u=()=>(0,o.useDVSBoolean)(l.P.cxAlcoholShippingGiftingFlowDisabled,!1);var s=t(768931),d=t(12958),c=t(829615);let f=e=>{var n;return null!==(n=null==e?void 0:e.isMerchantShipping)&&void 0!==n&&n},p=e=>{try{let n=new Date(e);return(0,s.formatDateTimeFromIsoString)({isoString:n.toISOString(),locale:d.Locale.EN_US,dateOptions:c.DefaultDateTimeFormat.MONTH_DATE_SHORT.value,timeZone:"UTC"})}catch(n){return e}},m=e=>a({storeId:e||""}),_=e=>m(e),v=e=>!u()||!e.containsAlcohol},534929:function(e,n,t){t.d(n,{$c:function(){return y},H6:function(){return S},SG:function(){return b},Se:function(){return l},Wb:function(){return g},Xo:function(){return d},_F:function(){return I},ex:function(){return C},hy:function(){return x},ku:function(){return _},oq:function(){return h},qq:function(){return o},wW:function(){return E},xC:function(){return c}});var r,i,o,l,a=t(237693),u=t.n(a),s=t(970280);(r=o||(o={})).ACTIVE="active",r.CANCELLED="cancelled",r.CANCELLED_WAITING_FOR_EXPIRATION="cancelled_waiting_for_expiration",r.CANCELLED_DUE_TO_PAUSE="cancelled_due_to_pause",r.CANCELLED_WAITING_FOR_FREE_PERIOD="cancelled_waiting_for_free_period",r.CANCELLED_DUE_TO_PAUSE_FAILED_PAYMENT="cancelled_due_to_pause_failed_payment",r.FREE_PERIOD="free_period",r.FREE_PERIOD_CANCEL_AFTER="free_period_cancel_after",r.TEMP_DEACTIVATED_WAITING_FOR_PAYMENT="temp_deactivated_waiting_for_payment",r.ENROLLED_WAITING_FOR_PAYMENT="enrolled_waiting_for_payment",r.ELECTED_PENDING_ACTIVATION="elected_pending_activation",r.DOES_NOT_EXIST="does_not_exist",r.PAUSED="paused",r.PAUSED_WAITING_FOR_EXPIRATION="paused_waiting_for_expiration";let d=new Set(["active","cancelled_waiting_for_expiration","cancelled_due_to_pause","paused_waiting_for_expiration","enrolled_waiting_for_payment","temp_deactivated_waiting_for_payment","cancelled_waiting_for_free_period","free_period","free_period_cancel_after","cancelled_due_to_pause_failed_payment","elected_pending_activation"]);(i=l||(l={}))[i.DASHPASS_INELIGIBLE=0]="DASHPASS_INELIGIBLE",i[i.DASHPASS_LEGACY=1]="DASHPASS_LEGACY",i[i.DASHPASS_PARTNER_ONLY=2]="DASHPASS_PARTNER_ONLY",i[i.UNSUBSCRIBED=3]="UNSUBSCRIBED";let c=e=>null!=e&&("active"===e.subscriptionStatus||"cancelled_waiting_for_expiration"===e.subscriptionStatus),f=e=>null!=e&&("cancelled"===e.subscriptionStatus||"does_not_exist"===e.subscriptionStatus),p=(e,n)=>{var t;return(null==e?void 0:null===(t=e.subscriptionPlan)||void 0===t?void 0:t.allowAllStores)||n.length>0&&n[0].allowAllStores},m=e=>e.length>0&&null!=e[0].id,_=(e,n)=>c(e)?p(e,n)?1:2:m(n)?3:0,v=e=>{let n=_(u()(e.activeSubscription)?null:e.activeSubscription,e.allSubscriptionPlans);return 2===n||3===n},g=e=>{var n,t,r,i,o,l,a;let u=null==e?void 0:null===(r=e.eligibleSubscriptionSavingDetails)||void 0===r?void 0:null===(t=r.planDetails)||void 0===t?void 0:null===(n=t.upsellDetails)||void 0===n?void 0:n.upsellType,d=null==e?void 0:null===(a=e.eligibleSubscriptionSavingDetails)||void 0===a?void 0:null===(l=a.planDetails)||void 0===l?void 0:null===(o=l.upsellDetails)||void 0===o?void 0:null===(i=o.upsellConfirmation)||void 0===i?void 0:i.actionsList,c=null==d?void 0:d.find(e=>(null==e?void 0:e.type)===s.KW.RESUME_SUBSCRIPTION_AND_PLACE_ORDER);return u===s.ky.RESUME_AND_CONTINUE||!!c},h=e=>{var n,t,r;let i=null==e?void 0:null===(r=e.eligibleSubscriptionSavingDetails)||void 0===r?void 0:null===(t=r.planDetails)||void 0===t?void 0:null===(n=t.upsellDetails)||void 0===n?void 0:n.upsellType;return i===s.ky.TRIAL||i===s.ky.RESURRECTED_TRIAL||i===s.ky.DTP||i===s.ky.PARTNER_PLAN||i===s.ky.TRIAL_MULTI_PLANS||i===s.ky.DTP_MULTI_PLANS},S=(e,n)=>!!n&&!e.isGuest&&v(e),y=e=>null!=e&&!0===e.isPartnerPlan,E=e=>null!=e.activeSubscription?e.activeSubscription:null,C=e=>null!=e.activeSubscription&&null!=e.activeSubscription.subscriptionPlan?e.activeSubscription.subscriptionPlan:null,I=e=>e?e.find(e=>!0===e.isCorporatePlan):null,x=e=>!!e.activeSubscription&&!!e.allSubscriptionPlans&&!!I(e.allSubscriptionPlans)&&f(e.activeSubscription),b=e=>{var n,t,r;let i=null==e?void 0:null===(r=e.eligibleSubscriptionSavingDetails)||void 0===r?void 0:null===(t=r.planDetails)||void 0===t?void 0:null===(n=t.upsellDetails)||void 0===n?void 0:n.upsellLocation;return i===s.nx.STICKY_ABOVE_CTA||i===s.nx.STICKY_BELOW_CTA}},73246:function(e,n,t){t.d(n,{DS:function(){return u},Lr:function(){return p},O:function(){return f},Op:function(){return c},Pm:function(){return m},_8:function(){return d},kB:function(){return o},lf:function(){return s},lk:function(){return a},td:function(){return l}});var r=t(725619),i=t(991571);let o=(e,n)=>{if(e&&e.length)return e.find(e=>e&&e.priceType===n)},l=e=>o(e,r.FT.PRICE_TYPE_ATC_PRICE),a=(e,n)=>o(e,n?r.FT.PRICE_TYPE_DISCOUNT_PRICE:r.FT.PRICE_TYPE_ATC_PRICE),u=(e,n)=>o(e,n?r.FT.PRICE_TYPE_LOYALTY_PRICE:r.FT.PRICE_TYPE_ATC_PRICE),s=e=>o(e,r.FT.PRICE_TYPE_NON_DISCOUNT_PRICE),d=(e,n)=>{let t=s(e);return p((0,i._B)(null==t?void 0:t.price,n))},c=(e,n,t,r)=>{let o=a(e,n);return p((0,i._B)(null==o?void 0:o.price,t),r)},f=(e,n,t,r)=>{let o=u(e,n);return p((0,i._B)(null==o?void 0:o.price,t),r)},p=(e,n)=>{if(!e)return"";let t=((0,i.he)(n)?" /":"")+((null==n?void 0:n.displayUnit)?" ".concat(null==n?void 0:n.displayUnit):"");return"".concat(e).concat(t)},m=e=>e&&e===r.FT.PRICE_TYPE_MEASUREMENT_PRICE},991571:function(e,n,t){t.d(n,{LP:function(){return x},W3:function(){return c},_B:function(){return p},aZ:function(){return h},he:function(){return y},j0:function(){return S},wt:function(){return v},x3:function(){return _},xs:function(){return I}});var r,i,o=t(604888),l=t(951801),a=t(725619),u=t(423188),s=t(723179),d=t(73246);(r=i||(i={}))[r.QUANTITY=0]="QUANTITY",r[r.EACH=1]="EACH",r[r.WEIGHTED=2]="WEIGHTED";let c=(e,n,t)=>f(e,n,t),f=(e,n,t)=>{let{price:r}=e;if(!r.displayString)return;let i=p(r,n);return t?i+" (est.)":e.purchaseType===a.Oz.PURCHASE_TYPE_UNIT?i:i+(y(e)?" /":"")+(e.displayUnit?" ".concat(e.displayUnit):"")},p=(e,n)=>e?(0,o.formatMoney)({unitAmount:e.unitAmount||0,currency:e.currency||o.CurrencyCode.USD,userLocale:n}):"",m=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.purchaseType===a.Oz.PURCHASE_TYPE_MEASUREMENT?{value:e.toFixed(2),suffix:n.displayUnit}:{value:e,suffix:t?"":u.ZP.t("cartStrings_quantityMultiplier")}},_=(e,n,t)=>m(e,n,t),v=e=>{var n,t,r,i,o,l,a,u,s;return{numItemsInCart:null!==(a=null==e?void 0:null===(r=e.orders)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:null===(n=t.orderItems)||void 0===n?void 0:n.length)&&void 0!==a?a:0,orderCartStoreId:null!==(u=null==e?void 0:null===(i=e.restaurant)||void 0===i?void 0:i.id)&&void 0!==u?u:"",orderCartStoreName:null!==(s=null==e?void 0:null===(l=e.restaurant)||void 0===l?void 0:null===(o=l.business)||void 0===o?void 0:o.name)&&void 0!==s?s:""}},g=(e,n)=>{var t,r;if(!n)return{};let i=null!==(r=null===(t=n.restaurant)||void 0===t?void 0:t.id)&&void 0!==r?r:"";return e?{fallbackContext:"saved_cart_store:".concat(i)}:{}},h=e=>{var n,t;let{storeId:r,product:i,orderCartId:o,quantity:a,orderCart:u,shouldSaveCart:s=!1,cartItemId:c="",isAdsItem:f,isBundle:p,specialInstructions:m,cartFilter:_}=e,v=E(a,i),h={cartItemId:c,cartId:o,itemId:i.id,storeId:r,menuId:p?"":String(i.menuId),itemName:i.name,itemDescription:i.description,currency:i.price.currency,unitPrice:null!==(t=i.priceList&&(null===(n=(0,d.td)(i.priceList))||void 0===n?void 0:n.price.unitAmount))&&void 0!==t?t:i.price.unitAmount,quantity:C(a,i,!1),specialInstructions:null!=m?m:"",nestedOptions:"[]",purchaseTypeOptions:v,isAdsItem:f,isBundle:p,bundleType:(0,l.i)({isBundle:p}),cartFilter:_,...g(s,u)};return v||delete h.purchaseTypeOptions,h},S=(e,n,t)=>{let r={from:e,to:n,fallbackContext:"saved_cart_store:".concat(t)};return t||delete r.fallbackContext,r},y=e=>(null==e?void 0:e.purchaseType)===a.Oz.PURCHASE_TYPE_MEASUREMENT,E=(e,n)=>({purchaseType:n.purchaseType,unit:n.displayUnit||"qty",estimatedPricingDescription:n.estimatePricingDescription,continuousQuantity:C(e,n,!0)}),C=(e,n,t)=>t?y(n)?e:0:y(n)&&e>0?1:e,I=e=>{var n,t,r,i;let o=1;return isNaN(o=((null===(t=e.metadata)||void 0===t?void 0:null===(n=t.increment)||void 0===n?void 0:n.unitAmount)||1)/10**((null===(i=e.metadata)||void 0===i?void 0:null===(r=i.increment)||void 0===r?void 0:r.decimalPlaces)||0))&&(o=1),o},x=(e,n)=>{var t;let r=e.business.name,i=null!==(t=e.coverSquareImgUrl)&&void 0!==t?t:"",o=(0,s.u1)(n);return{storeName:r,storeUri:o,storeLogoUrl:i,isDashpassPartner:e.storeHeader.isDashpassPartner,deliveryMinutes:e.storeHeader.status.delivery.minutes,displayDeliveryFee:e.storeHeader.deliveryFeeLayout.displayDeliveryFee}}},277582:function(e,n,t){t.d(n,{y:function(){return h},u:function(){return S}});var r=t(29541);t(693981);var i=t(544436),o=t(252030),l=t(510888),a=t(903359);let u=a.default.div.withConfig({componentId:"sc-c0ce6511-0"})(["display:block;> *{height:inherit;}"]),s=(0,a.default)(l.Text).attrs(e=>({styles:l.Text.Styles.Medium12,color:e.isLightBg?l.Text.Colors.TextPrimaryOnDark:l.Text.Colors.TextError})).withConfig({componentId:"sc-c0ce6511-1"})([""]),d=a.default.div.withConfig({componentId:"sc-c0ce6511-2"})(["padding:","px;white-space:break-spaces;overflow:scroll;"],l.Spacing.XxxSmall),c=a.default.span.withConfig({componentId:"sc-c0ce6511-3"})(["position:relative;bottom:0;right:0;width:max-content;padding:0;"]),f=a.default.div.withConfig({componentId:"sc-c0ce6511-4"})(["text-decoration:underline;a:link{color:",";}a:visited{color:",";}a:hover{color:",";}"],l.Colors.ButtonPrimaryBackground,l.Colors.ButtonPrimaryBackgroundPressed,l.Colors.ButtonPrimaryBackgroundHovered);var p=t(890044),m=t(423188),_=t(116028);let v=e=>{navigator.clipboard.writeText(e)},g=e=>{let{debugData:n,children:t,disableOverlay:i=!1,stopEventPropagation:a=!1}=e,g=()=>(0,r.jsx)(d,{children:Object.entries(n).map(e=>{let[n,t]=e;return(0,r.jsx)(l.StackChildren,{size:l.StackChildren.Sizes.XxxSmall,children:(0,r.jsx)(s,{isLightBg:!i,children:(0,r.jsx)(l.InlineChildren,{size:l.StackChildren.Sizes.XSmall,children:"object"==typeof t&&(null==t?void 0:t.id)&&(null==t?void 0:t.externalLink)?(0,r.jsxs)(r.Fragment,{children:[m.ZP.t("convenience_debug_overlay_label",{label:n})," ",(0,r.jsx)(f,{children:(0,r.jsx)(p.Z,{to:null==t?void 0:t.externalLink,openInNewTab:!0,children:(0,r.jsx)(r.Fragment,{children:null==t?void 0:t.id})})})]}):(0,r.jsx)(r.Fragment,{children:m.ZP.t("convenience_debug_overlay_key_value",{key:n,value:t})})})})},n)})});return i?g():(0,r.jsxs)(u,{onClick:e=>a?e.stopPropagation():null,children:[(0,r.jsx)(o.default,{isVisible:!0,content:n&&g(),children:t}),(0,r.jsx)(c,{children:(0,r.jsx)(_.IconButton,{onClick:e=>{v(JSON.stringify(n)),e.preventDefault()},iconType:_.IconButton.IconTypes.CopyLine,size:_.IconButton.Sizes.Small,accessibilityLabel:"Copy debug data to clipboard"})})]})},h="https://admin-gateway.doordash.com/tools/retail/catalog_download",S=e=>{let{debugData:n,children:t,disableOverlay:o,stopEventPropagation:l}=e,{enabled:a}=(0,i.Z)();return a?(0,r.jsx)(g,{debugData:n,disableOverlay:o,stopEventPropagation:l,children:t}):(0,r.jsx)(r.Fragment,{children:t})}},723179:function(e,n,t){t.d(n,{LT:function(){return l},QG:function(){return s},u1:function(){return a},vg:function(){return u}});var r=t(956146),i=t(604340),o=t(474724);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e;return n&&(o=r.compile(e)(n)),o&&t&&(o=i.stringifyUrl({url:o,query:t})),o},a=(e,n,t,r)=>l(o._j.convenienceStore,{storeUrlSlug:e,menuId:n},{groupCartId:t,...r}),u=(e,n,t,r,i)=>l(e,{storeUrlSlug:n,collectionUrlSlug:t,...i},{collectionType:r}),s=(e,n,t,r)=>l(e,{storeUrlSlug:n,categoryUrlSlug:t,...r})},813738:function(e,n,t){t.d(n,{Qy:function(){return i},hr:function(){return o}});var r=t(725619);let i=e=>!!e&&void 0!==e.restaurant&&!0!==e.groupCart&&e.fulfillmentType===r.LK.Virtual,o=e=>e===r.LK.Virtual},297461:function(e,n,t){t.d(n,{J:function(){return o}});var r=t(693981),i=t(83756);let o=(e,n)=>{let t=r.createRef(),[o,l]=r.useState(!0),[a,u]=r.useState(!1),s=null,d=()=>{var e;if(!t.current)return 0;let r=null!=n?n:+(null!==(e=t.current.getAttribute("size"))&&void 0!==e?e:"");return t.current.offsetWidth+r},c=()=>{var e,n,r;let i=(null===(e=t.current)||void 0===e?void 0:e.scrollLeft)||0,o=(null===(n=t.current)||void 0===n?void 0:n.scrollWidth)||0;l(i+((null===(r=t.current)||void 0===r?void 0:r.offsetWidth)||0)<o-5),u(i>5)},f=()=>{clearTimeout(s),s=setTimeout(c,250)};return r.useEffect(()=>{if(e)return;let n=t.current;return null==n||n.addEventListener("scroll",f),c(),()=>{clearTimeout(s),null==n||n.removeEventListener("scroll",f)}}),{carouselRef:t,hasNext:o,hasPrevious:a,skipped:!!e,start:()=>{var e,n;let r=null!==(n=null===(e=t.current)||void 0===e?void 0:e.scrollLeft)&&void 0!==n?n:0;(0,i.rT)(t.current,-r,0)},next:()=>(0,i.rT)(t.current,d(),0),previous:()=>(0,i.rT)(t.current,-d(),0)}}},775914:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(29541);t(693981);var i=t(903359),o=t(510888),l=t(116028);let a=(0,i.default)(l.IconButton).withConfig({componentId:"sc-ad8fb8f7-0"})([":hover path{fill:",";}"],e=>{let{isSelected:n}=e;return n&&o.Colors.ButtonPrimaryToggleBackgroundHovered}),u=(0,i.default)(o.Icon).attrs(()=>({type:o.Icon.Types.StatusDotOpenColor,size:o.Icon.Sizes.Small,color:o.Icon.Colors.TextAccentedPrimary})).withConfig({componentId:"sc-ad8fb8f7-1"})(["position:absolute;right:-","px;top:","px;"],o.Spacing.XxxxSmall,o.Spacing.XxxxSmall),s=i.default.div.withConfig({componentId:"sc-ad8fb8f7-2"})(["position:absolute;top:-3px;right:-","px;height:","px;width:","px;background-color:",";border-radius:50%;text-align:center;padding-top:1px;"],o.Spacing.XxxSmall,o.Spacing.Small,o.Spacing.Small,o.Colors.TextAccentedPrimary),d=i.default.div.attrs(()=>({role:"button"})).withConfig({componentId:"sc-ad8fb8f7-3"})(["display:flex;align-items:center;margin-left:","px;margin-right:","px;position:relative;cursor:pointer;width:","px;height:","px;"],o.Spacing.XxSmall,o.Spacing.XxSmall,o.Spacing.Large,o.Spacing.XLarge);var c=t(149915),f=t(577917),p=t(128669),m=t(745027),_=t(528337),v=e=>{let{isBellIconSelected:n,onBellIconClick:t,describedBy:i,isBadgeDisabled:v,isSideNav:g}=e,{showNotificationsContainer:h}=(0,c.m)(),{showCountBadge:S,showDotBadge:y,hasOrderTracker:E,numNewNotifications:C}=(0,m.l)({shouldPoll:!h});return(0,r.jsxs)(d,{onClick:()=>{(0,p.ZP)("notif_hub_entry_point_click",{is_badged:S||y,has_active_order:E,action_button:!h}),null==t||t()},"data-testid":f.dM.NotificationBell,children:[g?(0,r.jsx)(()=>(0,r.jsx)(o.Icon,{type:n?o.Icon.Types.NotifyFill:o.Icon.Types.NotifyLine,color:o.Icon.Colors.SystemBlack,size:l.IconButton.Sizes.Large,accessibilityLabel:"Notification Bell",accessibilityDescribedBy:i}),{}):(0,r.jsx)(()=>(0,r.jsx)(a,{isSelected:n,iconType:n?l.IconButtonIconType.NotifyFill:l.IconButtonIconType.NotifyLine,accessibilityLabel:"Notification Bell",accessibilityDescribedBy:i,"data-testid":f.dM.HeaderNotificationBellIcon}),{}),!v&&y&&(0,r.jsx)(u,{}),!v&&S&&C&&(0,r.jsx)(s,{children:(0,r.jsx)(o.Text,{size:o.Text.Sizes.S10,color:o.Text.Colors.SystemWhite,weight:o.Text.Weights.Bold,children:(0,_.L)(C)})})]})}},716415:function(e,n,t){t.d(n,{Ft:function(){return y}});var r,i=t(29541),o=t(693981),l=t(113054),a=t(775914),u=t(149915),s=t(543620),d=t(418420),c=t(587225),f=t(745027),p=t(128669),m=t(490702),_=t(172804),v=t(874104),g=t(181275),h=t(299287),S=t(148029);(r||(r={})).Popover="popover";let y=()=>{let{notifications:e,setNotifications:n,showNotificationsContainer:t,setShowNotificationsContainer:r,setHasViewedNotifications:i}=(0,u.m)(),[l,a]=o.useState(0),[s,d]=o.useState(!1),c=(0,S.Z2)(),{showCountBadge:y,showDotBadge:E,hasOrderTracker:C}=(0,f.l)({shouldPoll:!1}),{markAsReadCallback:I}=(0,_.Z)([]),x=(0,m.Z)(()=>{(0,p.ZP)("notif_hub_entry_point_view",{is_badged:y||E,has_active_order:C})},1e3),b=()=>{r(!1)};o.useEffect(()=>(x.callback(),window.addEventListener("beforeunload",b),()=>{window.removeEventListener("beforeunload",b)}),[]);let T=async()=>{var n,t;if((null==e?void 0:null===(t=e.body)||void 0===t?void 0:null===(n=t[0].body)||void 0===n?void 0:n.filter(e=>!e.custom.read_state).length)&&c)try{await I(),a(0),d(!0)}catch(e){a(e=>e+1),d(!1),l<3?P.callback():(0,p.hd)({origin:"useMarkAsReadMutation",client_error_id:v.N.Mutation,component:g.F.Notifications,error_message:(0,h.yd)(e),internal_error_message:v.D.UpdateNotificationReadStatusError,error_type:v.N.Mutation})}},P=(0,m.Z)(T,1e3,{leading:!0});return{showNotificationsContainer:t,onOpenNotificationHubHandler:()=>{r(!t),i(t)},onCloseNotificationHubHandler:()=>{r(!1),i(t),s||P.callback()},setNotifications:n}};n.ZP=e=>{let{}=e,{isMobile:n}=(0,d.ac)(),{showNotificationsContainer:t,onOpenNotificationHubHandler:r,onCloseNotificationHubHandler:o,setNotifications:u}=y();return n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Z,{isBellIconSelected:t,onBellIconClick:r,describedBy:""}),t&&(0,i.jsx)(c.Modal,{title:"","data-testid":"NotificationsModal",onClose:o,isFullScreenOnMobile:!0,hasContentPadding:!1,hasHeaderPadding:!0,children:(0,i.jsx)(s.A,{setNotifications:u,browseButtonClickHandler:o})})]}):(0,i.jsx)(l.ZP,{id:"notifications-hub","data-testid":"popover",content:(0,i.jsx)(s.A,{setNotifications:u}),isVisible:t,onClose:o,position:l.ZP.Positions.BottomRight,children:e=>{let{describedBy:n}=e;return(0,i.jsx)(a.Z,{isBellIconSelected:t,onBellIconClick:r,describedBy:n})}})}},543620:function(e,n,t){t.d(n,{A:function(){return eo}});var r=t(29541),i=t(693981),o=t(776801),l=t(510888),a=t(423188),u=t(116028),s=t(934911),d=t(903359),c=t(303163),f=t(979459);let p=d.default.div.withConfig({componentId:"sc-83d80643-0"})(["width:100%;height ","px;display:flex;flex-direction:column;justify-content:center;padding-left:","px;"],48,l.Spacing.Small),m=(0,d.default)("div").withConfig({componentId:"sc-83d80643-1"})(["width:",";min-height:","px;display:flex;flex-direction:column;align-items:center;"],e=>e.isMobile?"100%":"".concat(395,"px"),532),_=(0,d.default)("div").withConfig({componentId:"sc-83d80643-2"})(["",";width:100%;"],e=>!e.isMobile&&"height: ".concat(484,"px;\n  overflow-y:auto")),v=d.default.div.withConfig({componentId:"sc-83d80643-3"})(["height:","px;width:100%;display:flex;justify-content:center;align-items:center;"],532),g=d.default.div.withConfig({componentId:"sc-83d80643-4"})(["display:flex;flex-direction:column;align-items:center;"]),h=d.default.img.withConfig({componentId:"sc-83d80643-5"})(["max-width:280px;margin-left:-","px;margin-top:","px;"],l.Spacing.Small,l.Spacing.XLarge),S=d.default.img.withConfig({componentId:"sc-83d80643-6"})(["max-width:280px;margin-left:","px;"],l.Spacing.Large),y=(0,d.default)(l.Text).withConfig({componentId:"sc-83d80643-7"})(["text-align:center;"]),E=(0,d.default)(l.Stack).withConfig({componentId:"sc-83d80643-8"})(["margin:","px;"],l.Spacing.Large),C={breakpoint:l.Breakpoints.Desktop,canvas:{margin:"".concat(l.Spacing.XxSmall,"px"),padding:l.Spacing.Large},card:{[c.kF.CARD_SQUARE]:{count:3}}},I={...C,breakpoint:l.Breakpoints.WideScreen},x={...C,breakpoint:f.AK},b=[C,I,x];var T=t(418420),P=t(577917),O=t(228642),N=t(194e3),w=t(128669);let A={notification1:"".concat(s.TC,"s/managed/consumer/growth/emptyHubNotif1.svg"),notification2:"".concat(s.TC,"s/managed/consumer/growth/emptyHubNotif2.svg")};var D=e=>{let{browseButtonClickHandler:n}=e,{isMobile:t}=(0,T.ac)();return(0,r.jsxs)(g,{"data-testid":P.dM.EmptyHub,children:[(0,r.jsx)(h,{src:A.notification1}),(0,r.jsx)(S,{src:A.notification2}),(0,r.jsxs)(E,{children:[(0,r.jsx)(y,{styles:l.Text.Styles.Body1Emphasis,children:a.ZP.t("notificationsHub_nothingToSeeHereYet")}),(0,r.jsx)(y,{styles:l.Text.Styles.Body2,color:l.Text.Colors.TextTertiary,children:a.ZP.t("notificationsHub_startBrowsing")})]}),t&&n&&(0,r.jsx)(N.Z,{isInline:!0,type:u.default.Types.PrimaryPill,size:u.default.Sizes.Medium,"data-accessibility-id":"no-notifications-browse","data-anchor-id":"NoNotificationsBrowse",href:O.ZP.home,onClick:()=>{(0,w.ZP)("notif_hub_browse_stores_click"),n&&n()},children:a.ZP.t("notificationsHub_browseTheNeighborhood")})]})},k=t(42052),L=t(102037),R=e=>{let{notificationsLegoData:n}=e;return n?(0,r.jsx)("div",{"data-testid":P.dM.NotificationsLego,children:(0,r.jsx)(k.Z,{entry:c.Dw.NOTIFICATION_HUB,cursor:"",data:n,debugMode:!1,layoutSpecsOverride:b,children:e=>{let{data:t}=e;return t&&(0,r.jsx)(L.Z,{data:n})}})}):null},U=t(874104),F=t(181275),M=t(299287),B=t(62784),H=t(322717),j=e=>(0,B.a)(H.YM,{variables:e,fetchPolicy:"network-only",errorPolicy:"all"}),Z=t(181375),G=t(83756);let Y=e=>{var n;let{loading:t,data:r,error:i}=null!==(n=j(e))&&void 0!==n?n:{},o=null;return t||(null==r?(0,w.hd)({origin:"useGetNotifications",client_error_id:U.N.Query,component:F.F.Notifications,error_message:(0,M.yd)(i),internal_error_message:U.D.GetNotificationsError,error_type:U.N.Query}):o=(0,Z.Iv)((0,Z.bP)(r),{translate:G.Iu})),{legoNotifications:o,loading:t}};var q=t(793725),z=t(324307),Q=t(291515),W=t(845025),X=t.n(W),V=t(22901),K=t(148029),$=t(92621);let J=X()(()=>Promise.all([t.e(49774),t.e(59601),t.e(76445),t.e(38550),t.e(26443),t.e(45307),t.e(61919),t.e(762),t.e(74802),t.e(68459),t.e(89089),t.e(40528),t.e(31484)]).then(t.bind(t,328734)),{loadableGenerated:{webpack:()=>[328734]},ssr:!1}),ee=X()(()=>Promise.all([t.e(49774),t.e(59601),t.e(76445),t.e(38550),t.e(26443),t.e(45307),t.e(61919),t.e(59897),t.e(74802),t.e(68459),t.e(89089),t.e(80816)]).then(t.bind(t,393926)),{loadableGenerated:{webpack:()=>[393926]},ssr:!1}),en=X()(()=>t.e(17321).then(t.bind(t,517321)),{loadableGenerated:{webpack:()=>[517321]},ssr:!1}),et=X()(()=>Promise.all([t.e(49774),t.e(59601),t.e(76445),t.e(38550),t.e(26443),t.e(45307),t.e(61919),t.e(762),t.e(74802),t.e(68459),t.e(89089),t.e(40528),t.e(79130)]).then(t.bind(t,216894)),{loadableGenerated:{webpack:()=>[216894]},ssr:!1}),er=e=>{let{orderTrackerType:n,count:t,inProgressOrders:i,hasOrderTracker:o}=e,l=(0,K.M8)();if(!o||!i.length)return null;let a=i.map(e=>e.orderUuid)[0],u=n===V.V.LiveOrderTracker&&a,s=n===V.V.StaticOrderTracker;return(0,r.jsxs)(r.Fragment,{children:[u&&l&&(0,r.jsx)($.Aq,{children:(0,r.jsx)(ee,{orderUuid:a})}),u&&!l&&(0,r.jsx)(J,{orderUuid:a,count:t,orderDetails:i[0]}),s&&l&&(0,r.jsx)(et,{inProgressOrders:i}),s&&!l&&(0,r.jsx)(en,{count:t,inProgressOrders:i})]})};var ei=t(25982);let eo=e=>{var n,t,u;let{setNotifications:s,browseButtonClickHandler:d}=e,{consumer:{firstName:c}}=i.useContext(q.Z),f=(0,K.M8)(),{inProgressOrders:g,hasOrderTracker:h,orderTrackerType:S,count:y,ordersLoading:E,error:C}=(0,ei.K)({});C&&(0,w.hd)({origin:"useGetOrderTrackerDetails",client_error_id:U.N.Query,component:F.F.Notifications,error_message:(0,M.yd)(C),internal_error_message:U.D.NotificationHubOrderDetailsError,error_type:U.N.Query});let{isMobile:I}=(0,T.ac)(),{legoNotifications:x,loading:b}=Y({cursor:""});(0,o.ZP)(()=>{s(x)},[x,s]);let O=c?a.ZP.t("notificationsHub_hello_with_cx_name",{cxName:c}):a.ZP.t("notificationsHub_hello"),N=null==x?void 0:null===(u=x.body)||void 0===u?void 0:null===(t=u[0])||void 0===t?void 0:null===(n=t.body)||void 0===n?void 0:n.length,A=!!N||h;return i.useEffect(()=>{void 0!==N&&(0,w.ZP)("notif_hub_page_view",{num_items:N})},[N]),(0,r.jsx)(m,{isMobile:I,children:b||E?(0,r.jsx)(v,{"data-testid":P.dM.NotificationsLoading,children:(0,r.jsx)(z.default,{})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p,{children:(0,r.jsx)(l.Text,{styles:I?l.Text.Styles.PageTitle1:l.Text.Styles.Title2,children:O})}),I&&!h&&(0,r.jsx)(l.Stack,{}),!I&&f&&(0,r.jsx)(Q.default,{type:Q.default.Types.FullBorder}),!I&&!f&&!h&&(0,r.jsx)(Q.default,{type:Q.default.Types.FullBorder}),A?(0,r.jsxs)(_,{isMobile:I,children:[(0,r.jsx)(er,{orderTrackerType:S,inProgressOrders:g,count:y,hasOrderTracker:h}),(0,r.jsx)(R,{notificationsLegoData:x})]}):(0,r.jsx)(D,{browseButtonClickHandler:d})]})})}},149915:function(e,n,t){t.d(n,{X:function(){return h},m:function(){return g}});var r=t(29541),i=t(693981),o=t(128669),l=t(317905),a=t(42904),u=t(235962);function s(){let e=(0,l._)(["\n  query getHasNewNotifications {\n    getHasNewNotifications {\n      hasNewNotifications\n      numUnreadNotifications\n    }\n  }\n"]);return s=function(){return e},e}let d=(0,a.gql)(s());var c=()=>(0,u.t)(d,{variables:{},fetchPolicy:"network-only",errorPolicy:"all"}),f=t(874104),p=t(181275),m=t(299287);let _=()=>{var e;let[n,t]=i.useState(!1),[r,{loading:l,data:a,error:u,called:s}]=c(),{hasNewNotifications:d,numUnreadNotifications:_}=null!==(e=null==a?void 0:a.getHasNewNotifications)&&void 0!==e?e:{};return i.useEffect(()=>{s||r()},[s,r]),i.useEffect(()=>{l||(null==d||null==_?(t(!1),(0,o.hd)({origin:"useHasNewNotifications",client_error_id:f.N.Query,component:p.F.Notifications,error_message:(0,m.yd)(u),internal_error_message:f.D.HasNewNotificationsError,error_type:f.N.Query})):t(d))},[l,d,_,u]),{hasNewNotifications:n,numNewNotifications:_}},v=i.createContext({notifications:null,setNotifications:()=>null,providerExistsAsParent:!1,showNotificationsContainer:!1,setShowNotificationsContainer:()=>null,hasViewedNotifications:!1,newNotificationsData:{hasNewNotifications:!1,numNewNotifications:0},setHasViewedNotifications:()=>null}),g=()=>i.useContext(v),h=e=>{let{children:n}=e,[t,o]=i.useState(!1),[l,a]=i.useState(null),[u,s]=i.useState(!1),d={providerExistsAsParent:!0,showNotificationsContainer:t,setShowNotificationsContainer:o,hasViewedNotifications:u,setHasViewedNotifications:s,newNotificationsData:_(),notifications:l,setNotifications:a};return(0,r.jsx)(v.Provider,{value:d,children:n})}},92621:function(e,n,t){t.d(n,{Aq:function(){return a},hV:function(){return u},mb:function(){return l},rP:function(){return o}});var r=t(903359),i=t(510888);let o=(0,r.default)(i.InlineChildren).withConfig({componentId:"sc-5b272d9c-0"})(["background-color:",";padding:","px;border-radius:","px;margin:","px ","px ","px;@media (max-width:","px){margin-top:","px;}"],i.Colors.BackgroundSecondary,i.Spacing.Medium,i.BorderRadius.Medium,i.Spacing.XxxxSmall,i.Spacing.Small,i.Spacing.Small,i.Breakpoints.Mobile,i.Spacing.Small),l=(0,r.default)(i.InlineChildren).withConfig({componentId:"sc-5b272d9c-1"})(["background-color:",";box-shadow:",";padding:","px ","px;border-radius:","px;margin:","px ","px ","px;@media (max-width:","px){margin-top:","px;}"],i.Colors.BackgroundPrimary,i.Shadows.Medium,i.Spacing.Small,i.Spacing.XSmall,i.BorderRadius.Medium,i.Spacing.Small,i.Spacing.Small,i.Spacing.Small,i.Breakpoints.Mobile,i.Spacing.Small),a=r.default.div.withConfig({componentId:"sc-5b272d9c-2"})(["display:flex;justify-content:center;align-items:center;margin:","px 0;"],i.Spacing.Small),u=r.default.div.withConfig({componentId:"sc-5b272d9c-3"})(["padding:","px ","px ","px ","px;width:343px;box-shadow:",";border-radius:","px;"],i.Spacing.Small,i.Spacing.XSmall,i.Spacing.Small,i.Spacing.XSmall,i.Shadows.Medium,i.BorderRadius.Medium)},22901:function(e,n,t){var r,i;t.d(n,{V:function(){return r}}),(i=r||(r={})).StaticOrderTracker="StaticOrderTracker",i.LiveOrderTracker="LiveOrderTracker"},25982:function(e,n,t){t.d(n,{K:function(){return d}});var r=t(434293),i=t(693981);let o=()=>{if(document)return document.hasFocus();throw Error("document is not found when evaluating window focus")},l=e=>{let{limit:n=5,shouldPoll:t,pollInterval:l=6e4,shouldUseLazyQuery:a=!1}=e,{orders:u,fetchMoreOrders:s,loading:d,loadingPagination:c,isLastPage:f,error:p,startPolling:m,stopPolling:_}=(0,r.m)(n,a),{isWindowFocused:v}=function(){let[e,n]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{try{let e=o();n(e)}catch(e){n(!1)}let e=()=>n(!0),t=()=>n(!1);return window.addEventListener("focus",e),window.addEventListener("blur",t),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",t)}},[]),{isWindowFocused:e}}();return(0,i.useEffect)(()=>{if(v&&t&&m){m(l);return}_&&_()},[l,t,m,_,v]),{orders:u,fetchMoreOrders:s,loading:d,loadingPagination:c,isLastPage:f,error:p,startPolling:m,stopPolling:_}};var a=t(618291),u=t(22901),s=t(725619);let d=e=>{let{pollInterval:n,shouldPoll:t=!1,shouldUseLazyQuery:r=!1}=e,{orders:i,loading:o,error:d}=l({shouldPoll:t,pollInterval:n,shouldUseLazyQuery:r}),c=o||d||!(i.length>0)?[]:(0,a.XS)(i).filter(e=>e.fulfillmentType!==s.LK.Virtual),f=c.length,p=f>0,m=null;return p&&(m=1===f?u.V.LiveOrderTracker:u.V.StaticOrderTracker),{inProgressOrders:c,hasOrderTracker:p,orderTrackerType:m,count:f,ordersLoading:o,error:d}}},745027:function(e,n,t){t.d(n,{l:function(){return d}});var r=t(149915),i=t(25982),o=t(128669),l=t(874104),a=t(181275),u=t(299287),s=t(148029);let d=e=>{let{shouldPoll:n}=e,{newNotificationsData:{hasNewNotifications:t,numNewNotifications:d},hasViewedNotifications:c,showNotificationsContainer:f}=(0,r.m)(),{hasOrderTracker:p,error:m}=(0,i.K)({shouldPoll:n,shouldUseLazyQuery:!0});m&&(0,o.hd)({origin:"useGetOrderTrackerDetailsWithPolling",client_error_id:l.N.Query,component:a.F.Notifications,error_message:(0,u.yd)(m),internal_error_message:l.D.NotificationHubOrderDetailsError,error_type:l.N.Query});let _=(0,s.Z2)(),v=!c&&t,g=!1,h=!1;return _&&!p?g=!f&&v:h=!f&&(v||p),{showCountBadge:g,showDotBadge:h,hasOrderTracker:p,numNewNotifications:d}}},597216:function(e,n,t){t(693981);var r=t(716415),i=t(149915);let o=()=>null;o.Provider=i.X,o.Container=r.ZP,n.Z=o},172804:function(e,n,t){var r=t(317905),i=t(677479);function o(){let e=(0,r._)(["\n  mutation updateNotificationReadStatus(\n    $notificationIdsList: [String!]!\n    $action: String\n  ) {\n    updateNotificationReadStatus(\n      notificationIdsList: $notificationIdsList\n      action: $action\n    )\n  }\n"]);return o=function(){return e},e}let l=(0,t(42904).gql)(o());n.Z=(e,n)=>{let[t,{loading:r,error:o}]=(0,i.D)(l,{variables:{notificationIdsList:e,action:n}});return{markAsReadCallback:()=>t(),loading:r,error:o}}},528337:function(e,n,t){t.d(n,{L:function(){return i}});var r=t(423188);let i=e=>e<9?e.toString():r.ZP.t("unread_notifications_max_count",{maxUnreadNotifications:9})},860390:function(e,n,t){t.d(n,{Jn:function(){return i},Mx:function(){return d},OS:function(){return s},S:function(){return l},X$:function(){return a},Z6:function(){return u},gS:function(){return c},k9:function(){return f},sb:function(){return o}});var r=t(128669);let i=(e,n)=>(0,r.ZP)("cx_web_order_history_view_store_click",{store_id:n,cart_id:e}),o=(e,n,t)=>(0,r.ZP)("cx_web_order_history_reorder_click",{store_id:n,cart_id:e,is_group:t}),l=e=>(0,r.ZP)("w_order_tracker_order_prompt_banner",{order_uuid:e,screen:"order_history",action:"order_history_resolution_click"}),a=()=>(0,r.ZP)("consumer_orders_with_details_more_orders"),u=()=>(0,r.ZP)("order_history_page_load"),s=()=>(0,r.ZP)("order_help_page_load"),d=e=>(0,r.ZP)("order_action_tap_add_review",{store_id:e,placement:"history"}),c=e=>{let{orderUuid:n,isBundle:t=!1}=e;return(0,r.ZP)("card_view",{order_uuid:n,is_bundled:t,is_live_order:!0})},f=()=>(0,r.ZP)("empty_order_history_error")},260430:function(e,n,t){t.d(n,{Ar:function(){return m},D8:function(){return _},Oh:function(){return S},bG:function(){return i},fA:function(){return p},h2:function(){return c},ve:function(){return f}});var r,i,o=t(923334),l=t.n(o),a=t(604340),u=t(228642),s=t(618291),d=t(813738);let c=(e,n)=>{let[t,r]=l()(e,e=>!n(e));return{uncompletedOrders:t,completedOrders:r}},f=(e,n)=>{let[t,r]=l()(e,n);return{openOrders:r,inProgressOrders:t}},p=(e,n)=>{let[t]=l()(e,n);return{recurringDeliveryOrders:t}};(r=i||(i={}))[r.History=0]="History",r[r.Help=1]="Help";let m=(e,n)=>{let[t,r]=l()(e,e=>n(e));return{pendingOrders:t,nonPendingOrders:r}},_=e=>0===e||void 0,v=(e,n,t,r)=>{if(n)return t?(0,u.LT)(u.jY.postCheckout,{orderCartId:e},null!=r?r:{}):void 0},g=(e,n,t)=>{let r=v(e,n,t);if(r)return"".concat(r,"help/")},h=(e,n,t,r)=>{let i="?".concat(a.stringify(null!=r?r:{})),o=v(e,n,t);if(o)return"".concat(o,"receipt/").concat(r?i:"")},S=(e,n,t,r)=>{let i=(0,s.BF)(e," â€¢"),o=(0,s.TT)(e),l=(0,s.lc)(e),a=(0,s.o6)(e,t,r),u=!!a,c=(0,d.hr)(e.fulfillmentType)?{fulfillmentType:"virtual"}:void 0,f=v(o,l,u,c),p=g(o,l,u),m=h(o,l,u,c);return{cartId:o,consumerId:(0,s.$S)(e),href:n?f:p,isDashPass:(0,s.N3)(e),isGroupCart:(0,s.yE)(e),isSubmitted:(0,s.lc)(e),isCancelled:(0,s.Rz)(e),numItems:i.numItems,orderId:o,orderItemNames:i.orderItemsNames,orderTimestamp:a,priceToDisplay:(0,s.DY)(e),storeId:(0,s.Di)(e),storeName:(0,s.tC)(e),deliveryId:(0,s.mB)(e),isComplete:(0,s.H5)(e),isReorderable:(0,s.TQ)(e),isPending:(0,s.kO)(e),resolutionHref:f,viewReceiptHref:m,creator:(0,s.nq)(e),fulfillmentType:e.fulfillmentType}}},618291:function(e,n,t){t.d(n,{$S:function(){return h},BF:function(){return x},DY:function(){return g},Di:function(){return T},Fw:function(){return w},H5:function(){return s},N3:function(){return E},P3:function(){return _},QD:function(){return m},Rz:function(){return d},TQ:function(){return c},TT:function(){return y},XS:function(){return D},kO:function(){return f},lc:function(){return p},mB:function(){return P},nO:function(){return N},nq:function(){return S},o6:function(){return C},tC:function(){return b},yE:function(){return v}});var r=t(260430),i=t(768931),o=t(829615),l=t(725619);let a=e=>!!(e.cancellationPendingRefundInfo&&"CANCELLATION_REFUND_STATE_PENDING"===e.cancellationPendingRefundInfo.state),u=e=>!!(null==e?void 0:e.recurringOrderDetails),s=e=>!!e.fulfilledAt||!!e.cancelledAt,d=e=>!!e.cancelledAt,c=e=>!!e.isReorderable,f=e=>{var n;return(null===(n=e.cancellationPendingRefundInfo)||void 0===n?void 0:n.state)==="CANCELLATION_REFUND_STATE_PENDING"},p=e=>!!e.submittedAt,m=e=>!!e.isMerchantShipping,_=e=>!!e.isPickup,v=e=>!!e.isGroup,g=e=>{var n,t;return null!==(t=null===(n=e.grandTotal)||void 0===n?void 0:n.displayString)&&void 0!==t?t:""},h=e=>{var n,t;return null!==(t=null===(n=e.creator)||void 0===n?void 0:n.id)&&void 0!==t?t:""},S=e=>e.creator,y=e=>{var n,t;return null!==(t=null!==(n=e.orderUuid)&&void 0!==n?n:e.id)&&void 0!==t?t:""},E=e=>!!e.isConsumerSubscriptionEligible,C=(e,n,t)=>e.cancelledAt?I(e.cancelledAt,n,t):e.fulfilledAt?I(e.fulfilledAt,n,t):e.submittedAt?O(e,n,t):I(e.createdAt,n,t),I=(e,n,t)=>e?(0,i.formatDateTimeFromIsoString)({isoString:e,locale:t,dateOptions:o.DefaultDateTimeFormat.DAY_OF_WEEK_MONTH_DATE_SHORT.value,timeZone:n}):"",x=function(e){var n;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",r=0,i=[];return null===(n=e.orders)||void 0===n||n.forEach(e=>{var n;let t=null!==(n=null==e?void 0:e.items)&&void 0!==n?n:[];r+=t.length||0,t.forEach(e=>{(null==e?void 0:e.name)&&i.push(null==e?void 0:e.name)})}),{numItems:r,orderItemsNames:i.join("".concat(t," "))}},b=e=>{var n;return(null===(n=e.store)||void 0===n?void 0:n.name)||""},T=e=>{var n;return(null===(n=e.store)||void 0===n?void 0:n.id)||""},P=e=>e.deliveryUuid||"",O=(e,n,t)=>I(e.submittedAt,n,t),N=e=>{let{pendingOrders:n,nonPendingOrders:t}=(0,r.Ar)(e,a),i=k(t),o=R(i,t),{uncompletedOrders:l,completedOrders:d}=(0,r.h2)(o,s),{inProgressOrders:c,openOrders:f}=(0,r.ve)(l,p),{recurringDeliveryOrders:m}=(0,r.fA)(f,u);return i.length>0&&c.push(...i),{openOrders:f,inProgressOrders:c,completedOrders:d,recurringDeliveryOrders:m,pendingOrders:n}},w=e=>{let n=[];return e.orders.forEach(e=>{null!==e.orderUuid&&n.push(e.orderUuid)}),n.length>0?n:null},A=e=>!s(e)&&p(e),D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>A(e))},k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(n=>{var t,r,i,o,a,u;return(null===(r=n.bundleOrderInfo)||void 0===r?void 0:null===(t=r.bundleOrderConfig)||void 0===t?void 0:t.bundleType)===l.v5.BUNDLE_TYPE_POST_CHECKOUT&&(null===(o=n.bundleOrderInfo)||void 0===o?void 0:null===(i=o.bundleOrderConfig)||void 0===i?void 0:i.bundleOrderRole)===l.RZ.BUNDLE_ORDER_ROLE_PRIMARY_ORDER&&(!!A(n)||L(e,null!==(u=null==n?void 0:null===(a=n.bundleOrderInfo)||void 0===a?void 0:a.bundleOrderUuids)&&void 0!==u?u:[]))})},L=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return null!=e.find(e=>n.includes(e.orderUuid)&&A(e))},R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=[];return e.forEach(e=>{var n,r,i;t.push(null!==(r=e.orderUuid)&&void 0!==r?r:""),t.push(...null!==(i=null==e?void 0:null===(n=e.bundleOrderInfo)||void 0===n?void 0:n.bundleOrderUuids)&&void 0!==i?i:[])}),n.filter(e=>{var n;return!t.includes(null!==(n=null==e?void 0:e.orderUuid)&&void 0!==n?n:"")})}},434293:function(e,n,t){t.d(n,{m:function(){return p}});var r=t(317905),i=t(42904),o=t(693981),l=t(62784),a=t(235962),u=t(447704),s=t.n(u),d=t(860390);function c(){let e=(0,r._)(["\n  query getConsumerOrdersWithDetails(\n    $offset: Int!\n    $limit: Int!\n    $includeCancelled: Boolean\n  ) {\n    getConsumerOrdersWithDetails(\n      offset: $offset\n      limit: $limit\n      includeCancelled: $includeCancelled\n    ) {\n      id\n      orderUuid\n      deliveryUuid\n      createdAt\n      submittedAt\n      cancelledAt\n      fulfilledAt\n      specialInstructions\n      isConsumerSubscriptionEligible\n      isGroup\n      isReorderable\n      isGift\n      isPickup\n      isMerchantShipping\n      containsAlcohol\n      fulfillmentType\n      creator {\n        ...ConsumerOrderCreatorFragment\n      }\n      deliveryAddress {\n        id\n        formattedAddress\n      }\n      orders {\n        id\n        creator {\n          ...ConsumerOrderCreatorFragment\n        }\n        items {\n          ...ConsumerOrderOrderItemFragment\n        }\n      }\n      paymentCard {\n        ...ConsumerOrderPaymentCardFragment\n      }\n      grandTotal {\n        unitAmount\n        currency\n        decimalPlaces\n        displayString\n        sign\n      }\n      likelyOosItems {\n        menuItemId\n        name\n        photoUrl\n      }\n      pollingInterval\n      store {\n        id\n        name\n        business {\n          id\n          name\n        }\n        phoneNumber\n        fulfillsOwnDeliveries\n        customerArrivedPickupInstructions\n        isPriceMatchingEnabled\n        priceMatchGuaranteeInfo {\n          headerDisplayString\n          bodyDisplayString\n          buttonDisplayString\n        }\n      }\n      recurringOrderDetails {\n        itemNames\n        consumerId\n        recurringOrderUpcomingOrderUuid\n        scheduledDeliveryDate\n        arrivalTimeDisplayString\n        storeName\n        isCancelled\n      }\n      bundleOrderInfo {\n        ...BundleOrderInfoFragment\n      }\n      cancellationPendingRefundInfo {\n        state\n        originalPaymentAmount {\n          unitAmount\n          currency\n          decimalPlaces\n          displayString\n          sign\n        }\n        creditAmount {\n          unitAmount\n          currency\n          decimalPlaces\n          displayString\n          sign\n        }\n      }\n    }\n  }\n\n  fragment ConsumerOrderPaymentCardFragment on ConsumerOrderPaymentCard {\n    id\n    last4\n    type\n  }\n\n  fragment ConsumerOrderOrderItemFragment on ConsumerOrderOrderItem {\n    id\n    name\n    quantity\n    specialInstructions\n    substitutionPreferences\n    orderItemExtras {\n      ...ConsumerOrderOrderItemExtraFragment\n    }\n    purchaseQuantity {\n      ...ConsumerOrderQuantityFragment\n    }\n    fulfillQuantity {\n      ...ConsumerOrderQuantityFragment\n    }\n    originalItemPrice\n    purchaseType\n  }\n\n  fragment ConsumerOrderOrderItemExtraOptionFields on OrderItemExtraOption {\n    menuExtraOptionId\n    name\n    description\n    price\n    quantity\n  }\n\n  fragment ConsumerOrderOrderItemExtraOptionFragment on OrderItemExtraOption {\n    ...ConsumerOrderOrderItemExtraOptionFields\n    orderItemExtras {\n      ...ConsumerOrderOrderItemExtraFields\n      orderItemExtraOptions {\n        ...ConsumerOrderOrderItemExtraOptionFields\n        orderItemExtras {\n          ...ConsumerOrderOrderItemExtraFields\n        }\n      }\n    }\n  }\n\n  fragment ConsumerOrderOrderItemExtraFields on OrderItemExtra {\n    menuItemExtraId\n    name\n  }\n\n  fragment ConsumerOrderOrderItemExtraFragment on OrderItemExtra {\n    ...ConsumerOrderOrderItemExtraFields\n    orderItemExtraOptions {\n      ...ConsumerOrderOrderItemExtraOptionFragment\n    }\n  }\n\n  fragment ConsumerOrderCreatorFragment on ConsumerOrderCreator {\n    id\n    firstName\n    lastName\n  }\n\n  fragment ConsumerOrderQuantityFragment on Quantity {\n    continuousQuantity {\n      quantity\n      unit\n    }\n    discreteQuantity {\n      quantity\n      unit\n    }\n  }\n\n  fragment BundleOrderInfoFragment on BundleOrderInfo {\n    primaryBundleOrderUuid\n    primaryBundleOrderId\n    bundleOrderUuids\n    bundleOrderConfig {\n      ...BundleOrderConfigFragment\n    }\n  }\n\n  fragment BundleOrderConfigFragment on BundleOrderConfig {\n    bundleType\n    bundleOrderRole\n  }\n"]);return c=function(){return e},e}let f=(0,i.gql)(c()),p=function(){var e,n;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=o.useRef(!1),u=o.useRef(1),c=o.useRef(0),[p,m]=o.useState(!1),_=(0,l.a)(f,{variables:{offset:0,limit:t,includeCancelled:!0},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,skip:r}),[v,g]=(0,a.t)(f,{variables:{offset:0,limit:t,includeCancelled:!0},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}),h=r?g:_,S=null!==(n=null==h?void 0:null===(e=h.data)||void 0===e?void 0:e.getConsumerOrdersWithDetails)&&void 0!==n?n:[];return c.current||(c.current=S.length),o.useEffect(()=>{r&&!i.current&&(v(),i.current=!0)},[r,v,i]),{orders:S,fetchMoreOrders:()=>{h.fetchMore({variables:{offset:10*u.current},updateQuery:(e,n)=>{var t,r;let{fetchMoreResult:i}=n,o=null!==(t=e.getConsumerOrdersWithDetails)&&void 0!==t?t:[],l=null!==(r=null==i?void 0:i.getConsumerOrdersWithDetails)&&void 0!==r?r:[];if(!l.length)return m(!0),e;let a=l.length;c.current=c.current+a,a<10&&m(!0);let u=[...o,...l],d=s()(u,(e,n)=>e.id===n.id&&e.orderUuid===n.orderUuid);return d.sort((e,n)=>{let t=e.createdAt,r=n.createdAt;return(t?new Date(t):new Date)<(r?new Date(r):new Date)?1:-1}),{...e,getConsumerOrdersWithDetails:d}}}),u.current=u.current+1,(0,d.X$)()},loading:1===h.networkStatus,loadingPagination:3===h.networkStatus,isLastPage:p,error:h.error,startPolling:h.startPolling,stopPolling:h.stopPolling}}},249130:function(e,n,t){t.d(n,{p:function(){return r}});let r={BusinessMenuItemTitle:"businessMenuItem.title",BusinessMenuItemSubtitle:"businessMenuItem.subtitle",ExplorePageTextName:"explorePageText.name",RetailPageTextName:"retailPageText.name",CompactRetailPageTextName:"compactRetailPageText.name",LegoFacetCardSquareTitle:"legoFacetCardSquare.title",storeName:"store.name",OrderItemContainerItemTitle:"OrderItemContainerItemTitle",CheckoutInfoRoot:"CheckoutInfoRoot",StoreMenuItemTitle:"storeMenuItem.title",StoreMenuItemSubtitle:"storeMenuItem.subtitle",StoreReviewCard:"storeReviewCard",convenienceItemDescription:"convenienceItem.description",footer:"footer"}},70544:function(e,n,t){t.d(n,{Il:function(){return d},Yh:function(){return l},f0:function(){return s},r:function(){return o}});var r,i,o,l,a=t(658297),u=t(35371);(r=o||(o={})).AddToCart="cx_add_to_cart",r.UpdateCart="cx_update_cart",r.DeleteCart="cx_delete_cart",r.AddConsumerAddress="cx_create_address",r.UpdateConsumerAddress="cx_set_address",r.AddPaymentMethod="cx_add_payment_method",r.SetPaymentMethod="cx_set_payment_method",r.SubmitOrder="cx_place_order",r.SubscribeDashPass="cx_subscribe_dashpass",r.RedeemDashPass="cx_redeem_dashpass",r.RedeemDashPassFamily="cx_redeem_dashpass_family",r.CancelDashPass="cx_cancel_dashpass",(i=l||(l={})).ClickedButton="cx_clicked_button",i.HoveredElement="cx_hovered_element",i.TypedInput="cx_typed_input",i.UnCategorized="cx_uncategorized";let s=e=>e?(0,u.Uc)(e):u.KG.UNKNOWN,d=(e,n)=>{let t={name:n.name,type:n.type,client_source:n.client_source},r=n=>{e(a.u.page_action,{...n||{},...t})};return{trackSuccess:e=>r({...e,is_success:!0,name:n.name,type:n.type}),trackFailure:e=>r({...e,is_success:!1,name:n.name,type:n.type})}}},469365:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(677479),i=t(70544),o=t(128669),l=t(693981),a=t(512855),u=t.n(a),s=t(415421),d=t(32327);let c=e=>{var n,t;let r={displayErrorMessage:"",type:"server"};if(e.networkError)return e.networkError.statusCode&&"number"==typeof e.networkError.statusCode&&(r.httpStatusCode=e.networkError.statusCode,r.httpStatusCode>=400&&r.httpStatusCode<500&&(r.type="client")),e.message?r.displayErrorMessage=e.message:e.graphQLErrors?r.displayErrorMessage=e.graphQLErrors[0].message:e.clientErrors&&(r.displayErrorMessage=e.clientErrors[0].message),r;if(!Array.isArray(e.graphQLErrors))return r;let i=e.graphQLErrors[0];switch(null!==(t=null==i?void 0:null===(n=i.extensions)||void 0===n?void 0:n.code)&&void 0!==t?t:""){case"BAD_USER_INPUT":case"OPERATION_RESOLUTION_FAILURE":case"BAD_REQUEST":case"GRAPHQL_PARSE_FAILED":case"GRAPHQL_VALIDATION_FAILED":case"DOORDASH_EMPLOYEE_ERROR":r.httpStatusCode=400,r.type="client",r.displayErrorMessage=i.message;break;case"INTERNAL_SERVER_ERROR":r.httpStatusCode=500,r.type="server",r.displayErrorMessage=i.message;break;case"UNAUTHENTICATED":case"DOORDASH_MFA_ERROR":r.httpStatusCode=401,r.type="client",r.displayErrorMessage=i.message;break;case"FORBIDDEN":r.httpStatusCode=403,r.type="client",r.displayErrorMessage=i.message;break;case"DD_CONSUMER_INFO_NOT_FOUND":r.httpStatusCode=404,r.type="client",r.displayErrorMessage=i.message}return r};var f=(e,n,t)=>{let{track:a}=(0,o.Sl)(),{pageType:f}=(0,s.lO)(),p=(0,i.f0)(f),{ethosAction:m,unifiedTelemetryAction:_}=e,{trackSuccess:v,trackFailure:g}=(0,l.useMemo)(()=>{if(!m)return{trackFailure:()=>{},trackSuccess:()=>{}};let{trackFailure:e,trackSuccess:n}=(0,i.Il)(a,{name:m.name,type:m.type,client_source:p});return{trackFailure:u()(e),trackSuccess:u()(n)}},[a,m,p]),[h,{data:S,loading:y,error:E,called:C,...I}]=(0,r.D)(n,{...t,onError:e=>{if(g({[d.rI.internal_message]:e.message,[d.rI.severity_level]:d.aB.error}),(null==_?void 0:_.standardizedEventAction)&&(null==_?void 0:_.isEnable)){var n,r,i,o,l,a;null===(l=_.standardizedEventAction)||void 0===l||l.markEventEndWithOptionalData({err:c(e),callback:null==_?void 0:_.onEventEndCallback,overrideContext:null==_?void 0:_.overrideContext},{customAttrs:{gqlErrorCode:null!==(a=null==e?void 0:null===(i=e.graphQLErrors)||void 0===i?void 0:null===(r=i[0])||void 0===r?void 0:null===(n=r.extensions)||void 0===n?void 0:n.code)&&void 0!==a?a:"unknown gql error code",...null==_?void 0:null===(o=_.freeFormCustomAttrs)||void 0===o?void 0:o.customAttrs}})}throw(null==t?void 0:t.onError)&&t.onError(e),e},onCompleted:e=>{var n,r;return v(),(null==_?void 0:_.standardizedEventAction)&&(null==_?void 0:_.isEnable)&&(null===(r=_.standardizedEventAction)||void 0===r||r.markEventEndWithOptionalData({actionResultPayload:e,callback:null==_?void 0:_.onEventEndCallback,overrideContext:null==_?void 0:_.overrideContext},null==_?void 0:_.freeFormCustomAttrs)),null==t?void 0:null===(n=t.onCompleted)||void 0===n?void 0:n.call(t,e)}});return(0,l.useEffect)(()=>{C&&_&&_.standardizedEventAction.markEventStart()},[C,_,null==_?void 0:_.standardizedEventAction]),[h,{data:S,loading:y,error:E,called:C,...I}]}},227089:function(e,n,t){t.d(n,{K:function(){return r}});function r(e){return null!==e}}}]);