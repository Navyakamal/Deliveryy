(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38550],{538550:function(e){/*!
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function t(e,t){function i(){}i.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new i,e.prototype.constructor=e}e.exports=function(e){function i(e,t,s){this.marker_=e,this.handCursorURL_=e.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.addEventListener("selectstart",function(){return!1}),this.eventDiv_.addEventListener("dragstart",function(){return!1}),this.crossDiv_=i.getSharedCross(t)}function s(t){(t=t||{}).labelContent=t.labelContent||"",t.labelAnchor=t.labelAnchor||new e.Point(0,0),t.labelClass=t.labelClass||"markerLabels",t.labelStyle=t.labelStyle||{},t.labelInBackground=t.labelInBackground||!1,void 0===t.labelVisible&&(t.labelVisible=!0),void 0===t.raiseOnDrag&&(t.raiseOnDrag=!0),void 0===t.clickable&&(t.clickable=!0),void 0===t.draggable&&(t.draggable=!1),void 0===t.optimized&&(t.optimized=!1),t.crossImage=t.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",t.handCursor=t.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",t.optimized=!1,this.label=new i(this,t.crossImage,t.handCursor),e.Marker.apply(this,arguments)}return t(i,e.OverlayView),i.getSharedCross=function(e){var t;return void 0===i.getSharedCross.crossDiv&&((t=document.createElement("img")).style.cssText="position: absolute; z-index: 1000002; display: none;",t.style.marginLeft="-8px",t.style.marginTop="-9px",t.src=e,i.getSharedCross.crossDiv=t),i.getSharedCross.crossDiv},i.prototype.onAdd=function(){var t,s,r,n,a,l,o,v=this,h=!1,d=!1,_="url("+this.handCursorURL_+")",c=function(e){e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},g=function(){v.marker_.setAnimation(null)};this.getPanes().markerLayer.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),void 0===i.getSharedCross.processed&&(this.getPanes().markerLayer.appendChild(this.crossDiv_),i.getSharedCross.processed=!0),this.listeners_=[e.event.addDomListener(this.eventDiv_,"mouseover",function(t){(v.marker_.getDraggable()||v.marker_.getClickable())&&(this.style.cursor="pointer",e.event.trigger(v.marker_,"mouseover",t))}),e.event.addDomListener(this.eventDiv_,"mouseout",function(t){(v.marker_.getDraggable()||v.marker_.getClickable())&&!d&&(this.style.cursor=v.marker_.getCursor(),e.event.trigger(v.marker_,"mouseout",t))}),e.event.addDomListener(this.eventDiv_,"mousedown",function(t){d=!1,v.marker_.getDraggable()&&(h=!0,this.style.cursor=_),(v.marker_.getDraggable()||v.marker_.getClickable())&&(e.event.trigger(v.marker_,"mousedown",t),c(t))}),e.event.addDomListener(document,"mouseup",function(i){var s;if(h&&(h=!1,v.eventDiv_.style.cursor="pointer",e.event.trigger(v.marker_,"mouseup",i)),d){if(a){s=v.getProjection().fromLatLngToDivPixel(v.marker_.getPosition()),s.y+=20,v.marker_.setPosition(v.getProjection().fromDivPixelToLatLng(s));try{v.marker_.setAnimation(e.Animation.BOUNCE),setTimeout(g,1406)}catch(e){}}v.crossDiv_.style.display="none",v.marker_.setZIndex(t),n=!0,d=!1,i.latLng=v.marker_.getPosition(),e.event.trigger(v.marker_,"dragend",i)}}),e.event.addListener(v.marker_.getMap(),"mousemove",function(i){var n;h&&(d?(i.latLng=new e.LatLng(i.latLng.lat()-s,i.latLng.lng()-r),n=v.getProjection().fromLatLngToDivPixel(i.latLng),a&&(v.crossDiv_.style.left=n.x+"px",v.crossDiv_.style.top=n.y+"px",v.crossDiv_.style.display="",n.y-=20),v.marker_.setPosition(v.getProjection().fromDivPixelToLatLng(n)),a&&(v.eventDiv_.style.top=n.y+20+"px"),e.event.trigger(v.marker_,"drag",i)):(s=i.latLng.lat()-v.marker_.getPosition().lat(),r=i.latLng.lng()-v.marker_.getPosition().lng(),t=v.marker_.getZIndex(),l=v.marker_.getPosition(),o=v.marker_.getMap().getCenter(),a=v.marker_.get("raiseOnDrag"),d=!0,v.marker_.setZIndex(1e6),i.latLng=v.marker_.getPosition(),e.event.trigger(v.marker_,"dragstart",i)))}),e.event.addDomListener(document,"keydown",function(t){d&&27===t.keyCode&&(a=!1,v.marker_.setPosition(l),v.marker_.getMap().setCenter(o),e.event.trigger(document,"mouseup",t))}),e.event.addDomListener(this.eventDiv_,"click",function(t){(v.marker_.getDraggable()||v.marker_.getClickable())&&(n?n=!1:(e.event.trigger(v.marker_,"click",t),c(t)))}),e.event.addDomListener(this.eventDiv_,"dblclick",function(t){(v.marker_.getDraggable()||v.marker_.getClickable())&&(e.event.trigger(v.marker_,"dblclick",t),c(t))}),e.event.addListener(this.marker_,"dragstart",function(e){d||(a=this.get("raiseOnDrag"))}),e.event.addListener(this.marker_,"drag",function(e){!d&&a&&(v.setPosition(20),v.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),e.event.addListener(this.marker_,"dragend",function(e){!d&&a&&v.setPosition(0)}),e.event.addListener(this.marker_,"position_changed",function(){v.setPosition()}),e.event.addListener(this.marker_,"zindex_changed",function(){v.setZIndex()}),e.event.addListener(this.marker_,"visible_changed",function(){v.setVisible()}),e.event.addListener(this.marker_,"labelvisible_changed",function(){v.setVisible()}),e.event.addListener(this.marker_,"title_changed",function(){v.setTitle()}),e.event.addListener(this.marker_,"labelcontent_changed",function(){v.setContent()}),e.event.addListener(this.marker_,"labelanchor_changed",function(){v.setAnchor()}),e.event.addListener(this.marker_,"labelclass_changed",function(){v.setStyles()}),e.event.addListener(this.marker_,"labelstyle_changed",function(){v.setStyles()})]},i.prototype.onRemove=function(){var t;if(this.labelDiv_.parentNode&&(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_)),this.listeners_)for(t=0;t<this.listeners_.length;t++)e.event.removeListener(this.listeners_[t])},i.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},i.prototype.setContent=function(){var e=this.marker_.get("labelContent");if(void 0===e.nodeType)this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML;else{for(;this.labelDiv_.lastChild;)this.labelDiv_.removeChild(this.labelDiv_.lastChild);for(;this.eventDiv_.lastChild;)this.eventDiv_.removeChild(this.eventDiv_.lastChild);this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.eventDiv_.appendChild(e)}},i.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},i.prototype.setStyles=function(){var e,t;for(e in this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",t=this.marker_.get("labelStyle"))t.hasOwnProperty(e)&&(this.labelDiv_.style[e]=t[e],this.eventDiv_.style[e]=t[e]);this.setMandatoryStyles()},i.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden",void 0!==this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},i.prototype.setAnchor=function(){var e=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-e.x+"px",this.labelDiv_.style.marginTop=-e.y+"px",this.eventDiv_.style.marginLeft=-e.x+"px",this.eventDiv_.style.marginTop=-e.y+"px"},i.prototype.setPosition=function(e){var t=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());void 0===e&&(e=0),this.labelDiv_.style.left=Math.round(t.x)+"px",this.labelDiv_.style.top=Math.round(t.y-e)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},i.prototype.setZIndex=function(){var e=this.marker_.get("labelInBackground")?-1:1;void 0===this.marker_.getZIndex()?this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+e:this.labelDiv_.style.zIndex=this.marker_.getZIndex()+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex},i.prototype.setVisible=function(){this.marker_.get("labelVisible")?this.labelDiv_.style.display=this.marker_.getVisible()?"block":"none":this.labelDiv_.style.display="none",this.eventDiv_.style.display=this.labelDiv_.style.display},t(s,e.Marker),s.prototype.setMap=function(t){e.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(t)},s}}}]);